(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{873:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"http-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-api"}},[t._v("#")]),t._v(" HTTP API")]),t._v(" "),a("p",[t._v("EMQ X 提供了 HTTP API 以实现与外部系统的集成，例如查询客户端信息、发布消息和创建规则等。")]),t._v(" "),a("p",[t._v("EMQ X 的 HTTP API 服务默认监听 8081 端口，可通过 "),a("code",[t._v("etc/plugins/emqx_management.conf")]),t._v(" 配置文件修改监听端口，或启用 HTTPS 监听。"),a("a",{attrs:{href:"https://github.com/emqx/emqx/releases/tag/v4.0.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("EMQ X 4.0.0"),a("OutboundLink")],1),t._v(" 以后的所有 API 调用均以 "),a("code",[t._v("api/v4")]),t._v(" 开头。")]),t._v(" "),a("h2",{attrs:{id:"接口安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口安全"}},[t._v("#")]),t._v(" 接口安全")]),t._v(" "),a("p",[t._v("EMQ X 的 HTTP API 使用 "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Basic_access_authentication",target:"_blank",rel:"noopener noreferrer"}},[t._v("Basic 认证"),a("OutboundLink")],1),t._v(" 方式，"),a("code",[t._v("id")]),t._v(" 和 "),a("code",[t._v("password")]),t._v(" 须分别填写 AppID 和 AppSecret。\n默认的 AppID 和 AppSecret 是："),a("code",[t._v("admin/public")]),t._v('。你可以在 Dashboard 的左侧菜单栏里，选择 "管理" -> "应用" 来修改和添加 AppID/AppSecret。')]),t._v(" "),a("h2",{attrs:{id:"响应码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#响应码"}},[t._v("#")]),t._v(" 响应码")]),t._v(" "),a("h3",{attrs:{id:"http-状态码-status-codes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-状态码-status-codes"}},[t._v("#")]),t._v(" HTTP 状态码 (status codes)")]),t._v(" "),a("p",[t._v("EMQ X 接口在调用成功时总是返回 200 OK，响应内容则以 JSON 格式返回。")]),t._v(" "),a("p",[t._v("可能的状态码如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Status Code")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("200")]),t._v(" "),a("td",[t._v("成功，返回的 JSON 数据将提供更多信息")])]),t._v(" "),a("tr",[a("td",[t._v("400")]),t._v(" "),a("td",[t._v("客户端请求无效，例如请求体或参数错误")])]),t._v(" "),a("tr",[a("td",[t._v("401")]),t._v(" "),a("td",[t._v("客户端未通过服务端认证，使用无效的身份验证凭据可能会发生")])]),t._v(" "),a("tr",[a("td",[t._v("404")]),t._v(" "),a("td",[t._v("找不到请求的路径或者请求的对象不存在")])]),t._v(" "),a("tr",[a("td",[t._v("500")]),t._v(" "),a("td",[t._v("服务端处理请求时发生内部错误")])])])]),t._v(" "),a("h3",{attrs:{id:"返回码-result-codes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回码-result-codes"}},[t._v("#")]),t._v(" 返回码 (result codes)")]),t._v(" "),a("p",[t._v("EMQ X 接口的响应消息体为 JSON 格式，其中总是包含返回码 "),a("code",[t._v("code")]),t._v("。")]),t._v(" "),a("p",[t._v("可能的返回码如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Return Code")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("成功")])]),t._v(" "),a("tr",[a("td",[t._v("101")]),t._v(" "),a("td",[t._v("RPC 错误")])]),t._v(" "),a("tr",[a("td",[t._v("102")]),t._v(" "),a("td",[t._v("未知错误")])]),t._v(" "),a("tr",[a("td",[t._v("103")]),t._v(" "),a("td",[t._v("用户名或密码错误")])]),t._v(" "),a("tr",[a("td",[t._v("104")]),t._v(" "),a("td",[t._v("空用户名或密码")])]),t._v(" "),a("tr",[a("td",[t._v("105")]),t._v(" "),a("td",[t._v("用户不存在")])]),t._v(" "),a("tr",[a("td",[t._v("106")]),t._v(" "),a("td",[t._v("管理员账户不可删除")])]),t._v(" "),a("tr",[a("td",[t._v("107")]),t._v(" "),a("td",[t._v("关键请求参数缺失")])]),t._v(" "),a("tr",[a("td",[t._v("108")]),t._v(" "),a("td",[t._v("请求参数错误")])]),t._v(" "),a("tr",[a("td",[t._v("109")]),t._v(" "),a("td",[t._v("请求参数不是合法 JSON 格式")])]),t._v(" "),a("tr",[a("td",[t._v("110")]),t._v(" "),a("td",[t._v("插件已开启")])]),t._v(" "),a("tr",[a("td",[t._v("111")]),t._v(" "),a("td",[t._v("插件已关闭")])]),t._v(" "),a("tr",[a("td",[t._v("112")]),t._v(" "),a("td",[t._v("客户端不在线")])]),t._v(" "),a("tr",[a("td",[t._v("113")]),t._v(" "),a("td",[t._v("用户已存在")])]),t._v(" "),a("tr",[a("td",[t._v("114")]),t._v(" "),a("td",[t._v("旧密码错误")])]),t._v(" "),a("tr",[a("td",[t._v("115")]),t._v(" "),a("td",[t._v("不合法的主题")])])])]),t._v(" "),a("h2",{attrs:{id:"api-endpoints"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-endpoints"}},[t._v("#")]),t._v(" API Endpoints")]),t._v(" "),a("h2",{attrs:{id:"api-v4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-v4"}},[t._v("#")]),t._v(" /api/v4")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4"}},[t._v("#")]),t._v(" GET /api/v4")]),t._v(" "),a("p",[t._v("返回 EMQ X 支持的所有 Endpoints。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("Endpoints 列表")])]),t._v(" "),a("tr",[a("td",[t._v("- data[0].path")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Endpoint")])]),t._v(" "),a("tr",[a("td",[t._v("- data[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Endpoint 名")])]),t._v(" "),a("tr",[a("td",[t._v("- data[0].method")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("HTTP Method")])]),t._v(" "),a("tr",[a("td",[t._v("- data[0].descr")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("描述")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/auth_clientid"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list_clientid"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"descr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"List available clientid in the cluster"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"broker-基本信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-基本信息"}},[t._v("#")]),t._v(" Broker 基本信息")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-brokers-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-brokers-node"}},[t._v("#")]),t._v(" GET /api/v4/brokers/{node}")]),t._v(" "),a("p",[t._v("返回集群下所有节点的基本信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v('节点名字，如 "emqx@127.0.0.1。'),a("br"),t._v("不指定时返回所有节点的信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object/Array of Objects")]),t._v(" "),a("td",[t._v("node 参数存在时返回指定节点信息，"),a("br"),t._v("不存在时返回所有节点的信息")])]),t._v(" "),a("tr",[a("td",[t._v("data.datetime")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v('当前时间，格式为 "YYYY-MM-DD HH:mm:ss"')])]),t._v(" "),a("tr",[a("td",[t._v("data.node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data.node_status")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点状态")])]),t._v(" "),a("tr",[a("td",[t._v("data.otp_release")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("EMQ X 使用的 Erlang/OTP 版本")])]),t._v(" "),a("tr",[a("td",[t._v("data.sysdescr")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("软件描述")])]),t._v(" "),a("tr",[a("td",[t._v("data.uptime")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v('EMQ X 运行时间，格式为 "H hours, m minutes, s seconds"')])]),t._v(" "),a("tr",[a("td",[t._v("data.version")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("EMQ X 版本")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("获取所有节点的基本信息：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/brokers"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"develop"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uptime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4 hours, 21 minutes, 19 seconds"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sysdescr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Broker"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"otp_release"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"R21/10.3.5"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_status"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Running"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"datetime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-19 15:27:24"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("获取节点 emqx@127.0.0.1 的基本信息：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/brokers/emqx@127.0.0.1"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"develop"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uptime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1 minutes, 51 seconds"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sysdescr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Broker"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"otp_release"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"R21/10.3.5"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_status"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Running"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"datetime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 14:11:31"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#节点"}},[t._v("#")]),t._v(" 节点")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-nodes-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}")]),t._v(" "),a("p",[t._v("返回节点的状态。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v('节点名字，如 "emqx@127.0.0.1。'),a("br"),t._v("不指定时返回所有节点的信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object/Array of Objects")]),t._v(" "),a("td",[t._v("node 参数存在时返回指定节点信息，"),a("br"),t._v("不存在时以 Array 形式返回所有节点的信息")])]),t._v(" "),a("tr",[a("td",[t._v("data.connections")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前接入此节点的客户端数量")])]),t._v(" "),a("tr",[a("td",[t._v("data.load1")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("1 分钟内的 CPU 平均负载")])]),t._v(" "),a("tr",[a("td",[t._v("data.load5")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("5 分钟内的 CPU 平均负载")])]),t._v(" "),a("tr",[a("td",[t._v("data.load15")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("15 分钟内的 CPU 平均负载")])]),t._v(" "),a("tr",[a("td",[t._v("data.max_fds")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("操作系统的最大文件描述符限制")])]),t._v(" "),a("tr",[a("td",[t._v("data.memory_total")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("VM 已分配的系统内存")])]),t._v(" "),a("tr",[a("td",[t._v("data.memory_used")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("VM 已占用的内存大小")])]),t._v(" "),a("tr",[a("td",[t._v("data.node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data.node_status")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点状态")])]),t._v(" "),a("tr",[a("td",[t._v("data.otp_release")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("EMQ X 使用的 Erlang/OTP 版本")])]),t._v(" "),a("tr",[a("td",[t._v("data.process_available")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("可用的进程数量")])]),t._v(" "),a("tr",[a("td",[t._v("data.process_used")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("已占用的进程数量")])]),t._v(" "),a("tr",[a("td",[t._v("data.uptime")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("EMQ X 运行时间")])]),t._v(" "),a("tr",[a("td",[t._v("data.version")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("EMQ X 版本")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("获取所有节点的状态：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"develop"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uptime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7 seconds"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"process_used"')]),t._v(":315,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"process_available"')]),t._v(":2097152,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"otp_release"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"R21/10.3.5"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_status"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Running"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"memory_used"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"96.75M"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"memory_total"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"118.27M"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_fds"')]),t._v(":10240,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"load5"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.60"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"load15"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.65"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"load1"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.31"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connections"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("获取指定节点的状态：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"develop"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uptime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2 minutes, 21 seconds"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"process_used"')]),t._v(":310,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"process_available"')]),t._v(":2097152,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"otp_release"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"R21/10.3.5"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_status"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Running"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"memory_used"')]),t._v(":101379168,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"memory_total"')]),t._v(":123342848,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_fds"')]),t._v(":10240,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"load5"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.50"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"load15"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.61"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"load1"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.99"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connections"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[t._v("#")]),t._v(" 客户端")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-clients"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-clients"}},[t._v("#")]),t._v(" GET /api/v4/clients")]),t._v(" "),a("p",[t._v("返回集群下所有客户端的信息，支持分页。")]),t._v(" "),a("p",[a("strong",[t._v("Query String Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("_page")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("页码")])]),t._v(" "),a("tr",[a("td",[t._v("_limit")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("10000")]),t._v(" "),a("td",[t._v("每页显示的数据条数，未指定时由 "),a("code",[t._v("emqx-management")]),t._v(" 插件的配置项 "),a("code",[t._v("max_row_limit")]),t._v(" 决定")])])])]),t._v(" "),a("p",[t._v("在 4.1 后，支持多条件和模糊查询，其包含的查询参数有：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("username")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端用户名")])]),t._v(" "),a("tr",[a("td",[t._v("zone")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端配置组名称")])]),t._v(" "),a("tr",[a("td",[t._v("ip_address")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端 IP 地址")])]),t._v(" "),a("tr",[a("td",[t._v("conn_state")]),t._v(" "),a("td",[t._v("Enum")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端当前连接状态，"),a("br"),t._v("可取值有："),a("code",[t._v("connected")]),t._v(","),a("code",[t._v("idle")]),t._v(","),a("code",[t._v("disconnected")])])]),t._v(" "),a("tr",[a("td",[t._v("clean_start")]),t._v(" "),a("td",[t._v("Bool")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端是否使用了全新的会话")])]),t._v(" "),a("tr",[a("td",[t._v("proto_name")]),t._v(" "),a("td",[t._v("Enum")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端协议名称，"),a("br"),t._v("可取值有："),a("code",[t._v("MQTT")]),t._v(","),a("code",[t._v("CoAP")]),t._v(","),a("code",[t._v("LwM2M")]),t._v(","),a("code",[t._v("MQTT-SN")])])]),t._v(" "),a("tr",[a("td",[t._v("proto_ver")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端协议版本")])]),t._v(" "),a("tr",[a("td",[t._v("_like_clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端标识符，子串方式模糊查找")])]),t._v(" "),a("tr",[a("td",[t._v("_like_username")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端用户名，子串方式模糊查找")])]),t._v(" "),a("tr",[a("td",[t._v("_gte_created_at")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端会话创建时间，小于等于查找")])]),t._v(" "),a("tr",[a("td",[t._v("_lte_created_at")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端会话创建时间，大于等于查找")])]),t._v(" "),a("tr",[a("td",[t._v("_gte_connected_at")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端连接创建时间，小于等于查找")])]),t._v(" "),a("tr",[a("td",[t._v("_lte_connected_at")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("客户端连接创建时间，大于等于查找")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有客户端的信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端所连接的节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].username")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端连接时使用的用户名")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].proto_name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端协议名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].proto_ver")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端使用的协议版本")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].ip_address")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端的 IP 地址")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].port")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端的端口")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].is_bridge")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("指示客户端是否通过桥接方式连接")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].connected_at")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v('客户端连接时间，格式为 "YYYY-MM-DD HH:mm:ss"')])]),t._v(" "),a("tr",[a("td",[t._v("data[0].disconnected_at")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v('客户端离线时间，格式为 "YYYY-MM-DD HH:mm:ss"，'),a("br"),t._v("此字段仅在 "),a("code",[t._v("connected")]),t._v(" 为 "),a("code",[t._v("false")]),t._v(" 时有效并被返回")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].connected")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("客户端是否处于连接状态")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].zone")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("指示客户端使用的配置组")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].keepalive")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("保持连接时间，单位：秒")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].clean_start")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("指示客户端是否使用了全新的会话")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].expiry_interval")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("会话过期间隔，单位：秒")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].created_at")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v('会话创建时间，格式为 "YYYY-MM-DD HH:mm:ss"')])]),t._v(" "),a("tr",[a("td",[t._v("data[0].subscriptions_cnt")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("此客户端已建立的订阅数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].max_subscriptions")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("此客户端允许建立的最大订阅数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].inflight")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("飞行队列当前长度")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].max_inflight")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("飞行队列最大长度")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].mqueue_len")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("消息队列当前长度")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].max_mqueue")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("消息队列最大长度")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].mqueue_dropped")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("消息队列因超出长度而丢弃的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].awaiting_rel")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("未确认的 PUBREC 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].max_awaiting_rel")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("允许存在未确认的 PUBREC 报文的最大数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].recv_oct")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("EMQ X Broker（下同）接收的字节数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].recv_cnt")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 TCP 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].recv_pkt")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 MQTT 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].recv_msg")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PUBLISH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].send_oct")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的字节数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].send_cnt")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 TCP 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].send_pkt")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 MQTT 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].send_msg")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBLISH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].mailbox_len")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("进程邮箱大小")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].heap_size")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("进程堆栈大小，单位：字节")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].reductions")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Erlang reduction")])]),t._v(" "),a("tr",[a("td",[t._v("meta")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("分页信息")])]),t._v(" "),a("tr",[a("td",[t._v("meta.page")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("页码")])]),t._v(" "),a("tr",[a("td",[t._v("meta.limit")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("每页显示的数据条数")])]),t._v(" "),a("tr",[a("td",[t._v("meta.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("数据总条数")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/clients?_page=1&_limit=10"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"limit"')]),t._v(":10,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zone"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"external"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_cnt"')]),t._v(":2,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_mqueue"')]),t._v(":1000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_inflight"')]),t._v(":32,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_bridge"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inflight"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"heap_size"')]),t._v(":2586,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_subscriptions"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MQTT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-19 17:01:26"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_ver"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reductions"')]),t._v(":3997,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ip_address"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mailbox_len"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"awaiting_rel"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keepalive"')]),t._v(":60,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_pkt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_oct"')]),t._v(":29,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clean_start"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expiry_interval"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"port"')]),t._v(":64491,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_oct"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_pkt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-19 17:01:26"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_awaiting_rel"')]),t._v(":100,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions_cnt"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("注：在 4.1 后，返回的 "),a("code",[t._v("meta")]),t._v(" 内容做了修改：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("count")]),t._v("：仍表示总数，但在 多条件/模糊查询时，固定为 -1。")]),t._v(" "),a("li",[a("code",[t._v("hasnext")]),t._v("：为新增字段，表示是否存在下一页。")])]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-clients-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-clients-clientid"}},[t._v("#")]),t._v(" GET /api/v4/clients/{clientid}")]),t._v(" "),a("p",[t._v("返回指定客户端的信息")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("客户端的信息，详细请参见"),a("br"),a("a",{attrs:{href:"#endpoint-get-clients"}},[t._v("GET /api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("查询指定客户端")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/clients/example"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_cnt"')]),t._v(":2,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_subscriptions"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_ver"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_pkt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inflight"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_mqueue"')]),t._v(":1000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"heap_size"')]),t._v(":2586,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MQTT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_pkt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:38:51"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reductions"')]),t._v(":3978,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ip_address"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expiry_interval"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keepalive"')]),t._v(":60,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_bridge"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_inflight"')]),t._v(":32,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_awaiting_rel"')]),t._v(":100,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"awaiting_rel"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mailbox_len"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_oct"')]),t._v(":29,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:38:51"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clean_start"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"port"')]),t._v(":54889,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_oct"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zone"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"external"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-clients-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-clients-clientid"}},[t._v("#")]),t._v(" DELETE /api/v4/clients/{clientid}")]),t._v(" "),a("p",[t._v("踢除指定客户端。注意踢除客户端操作会将连接与会话一并终结。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("踢除指定客户端")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/clients/example"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-clients"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-clients"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/clients")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-clients"}},[t._v("GET /api/v4/clients")]),t._v("，返回指定节点下所有客户端的信息，支持分页。")]),t._v(" "),a("p",[a("strong",[t._v("Query String Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("_page")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("页码")])]),t._v(" "),a("tr",[a("td",[t._v("_limit")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("10000")]),t._v(" "),a("td",[t._v("每页显示的数据条数，未指定时由 "),a("code",[t._v("emqx-management")]),t._v(" 插件的配置项 "),a("code",[t._v("max_row_limit")]),t._v(" 决定")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有客户端的信息，详情请参看 "),a("a",{attrs:{href:"#endpoint-get-clients"}},[t._v("GET /api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients?_page=1&_limit=10"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"limit"')]),t._v(":10,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_cnt"')]),t._v(":2,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_subscriptions"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_ver"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_pkt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inflight"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_mqueue"')]),t._v(":1000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"heap_size"')]),t._v(":2586,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MQTT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_pkt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-19 18:25:18"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reductions"')]),t._v(":4137,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ip_address"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expiry_interval"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keepalive"')]),t._v(":60,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_bridge"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_inflight"')]),t._v(":32,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_awaiting_rel"')]),t._v(":100,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"awaiting_rel"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mailbox_len"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_oct"')]),t._v(":29,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-19 18:25:18"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clean_start"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"port"')]),t._v(":49509,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_oct"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zone"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"external"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-clients-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-clients-clientid"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/clients/{clientid}")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-a-client"}},[t._v("GET /api/v4/clients/{clientid}")]),t._v("，返回指定节点下指定客户端的信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("客户端的信息，详细请参见"),a("br"),a("a",{attrs:{href:"#endpoint-get-clients"}},[t._v("GET /api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients/example"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_cnt"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_subscriptions"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_ver"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_pkt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inflight"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_mqueue"')]),t._v(":1000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"heap_size"')]),t._v(":2586,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MQTT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_pkt"')]),t._v(":3,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:38:51"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reductions"')]),t._v(":5994,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ip_address"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_cnt"')]),t._v(":3,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expiry_interval"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keepalive"')]),t._v(":60,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_bridge"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_inflight"')]),t._v(":32,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_awaiting_rel"')]),t._v(":100,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"awaiting_rel"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mailbox_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_oct"')]),t._v(":33,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:38:51"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clean_start"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"port"')]),t._v(":54889,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_oct"')]),t._v(":8,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zone"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"external"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-nodes-node-clients-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-nodes-node-clients-clientid"}},[t._v("#")]),t._v(" DELETE /api/v4/nodes/{node}/clients/{clientid}")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-delete-a-client"}},[t._v("DELETE /api/v4/clients/{clientid}")]),t._v("，踢除指定节点下的指定客户端。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients/example"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-clients-username-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-clients-username-username"}},[t._v("#")]),t._v(" GET /api/v4/clients/username/{username}")]),t._v(" "),a("p",[t._v("通过 Username 查询客户端的信息。由于可能存在多个客户端使用相同的用户名的情况，所以可能同时返回多个客户端信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("username")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("Username")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("客户端的信息，详细请参见"),a("br"),a("a",{attrs:{href:"#endpoint-get-clients"}},[t._v("GET /api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/clients/username/steve"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clean_start"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"awaiting_rel"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MQTT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_cnt"')]),t._v(":2,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mailbox_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_subscriptions"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:50:11"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_bridge"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"heap_size"')]),t._v(":2586,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_ver"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expiry_interval"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inflight"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reductions"')]),t._v(":4673,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_pkt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zone"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"external"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_cnt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ip_address"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keepalive"')]),t._v(":60,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_inflight"')]),t._v(":32,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_oct"')]),t._v(":29,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_pkt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_awaiting_rel"')]),t._v(":100,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"steve"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:50:11"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"port"')]),t._v(":56429,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_oct"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_mqueue"')]),t._v(":1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-clients-username-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-clients-username-username"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/clients/username/{username}")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-clients-by-username"}},[t._v("GET /api/v4/clients/username/{username}")]),t._v("，在指定节点下，通过 Username 查询指定客户端的信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("username")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("Username")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("客户端的信息，详细请参见"),a("br"),a("a",{attrs:{href:"#endpoint-get-clients"}},[t._v("GET /api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/clients/username/test"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clean_start"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"awaiting_rel"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MQTT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_cnt"')]),t._v(":6,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mailbox_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_len"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_subscriptions"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:50:11"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_bridge"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"heap_size"')]),t._v(":1598,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"proto_ver"')]),t._v(":4,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions_cnt"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expiry_interval"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inflight"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reductions"')]),t._v(":7615,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_pkt"')]),t._v(":5,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zone"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"external"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_cnt"')]),t._v(":5,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ip_address"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keepalive"')]),t._v(":60,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_inflight"')]),t._v(":32,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_oct"')]),t._v(":37,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"recv_pkt"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_awaiting_rel"')]),t._v(":100,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-02-20 13:50:11"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connected"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"port"')]),t._v(":56429,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send_oct"')]),t._v(":12,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqueue_dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_mqueue"')]),t._v(":1000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-clients-clientid-acl-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-clients-clientid-acl-cache"}},[t._v("#")]),t._v(" GET /api/v4/clients/{clientid}/acl_cache")]),t._v(" "),a("p",[t._v("查询指定客户端的 ACL 缓存。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("ACL 详情")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].access")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("发布/订阅")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("MQTT 主题")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].result")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("允许/拒绝")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].updated_time")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("ACL 缓存建立时间")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("查询 ACL 缓存")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/clients/example/acl_cache"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated_time"')]),t._v(":1582180824571,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"result"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"allow"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"access"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"publish"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-clients-clientid-acl-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-clients-clientid-acl-cache"}},[t._v("#")]),t._v(" DELETE /api/v4/clients/{clientid}/acl_cache")]),t._v(" "),a("p",[t._v("清除指定客户端的 ACL 缓存。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("清除 ACL 缓存")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/clients/example/acl_cache"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"订阅信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#订阅信息"}},[t._v("#")]),t._v(" 订阅信息")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-subscriptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-subscriptions"}},[t._v("#")]),t._v(" GET /api/v4/subscriptions")]),t._v(" "),a("p",[t._v("返回集群下所有订阅信息，支持分页机制。")]),t._v(" "),a("p",[a("strong",[t._v("Query String Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("_page")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("页码")])]),t._v(" "),a("tr",[a("td",[t._v("_limit")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("10000")]),t._v(" "),a("td",[t._v("每页显示的数据条数，未指定时由 "),a("code",[t._v("emqx-management")]),t._v(" 插件的配置项 "),a("code",[t._v("max_row_limit")]),t._v(" 决定")])])])]),t._v(" "),a("p",[t._v("在 4.1 版本后，支持多条件和模糊查询：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("主题，全等查询")])]),t._v(" "),a("tr",[a("td",[t._v("qos")]),t._v(" "),a("td",[t._v("Enum")]),t._v(" "),a("td",[t._v("可取值为："),a("code",[t._v("0")]),t._v(","),a("code",[t._v("1")]),t._v(","),a("code",[t._v("2")])])]),t._v(" "),a("tr",[a("td",[t._v("share")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("共享订阅的组名称")])]),t._v(" "),a("tr",[a("td",[t._v("_match_topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("主题，匹配查询")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有订阅信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("订阅主题")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 等级")])]),t._v(" "),a("tr",[a("td",[t._v("meta")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("同 "),a("code",[t._v("/api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/subscriptions?_page=1&_limit=10"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"limit"')]),t._v(":10000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),t._v(":2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/+/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qos"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"78082755-e8eb-4a87-bab7-8277541513f0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qos"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7a1dfceb-89c0-4f7e-992b-dfeb09329f01"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("注：在 4.1 后，返回的 "),a("code",[t._v("meta")]),t._v(" 内容做了修改：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("count")]),t._v("：仍表示总数，但在 多条件/模糊查询 时，固定为 -1。")]),t._v(" "),a("li",[a("code",[t._v("hasnext")]),t._v("：为新增字段，表示是否存在下一页。")])]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-subscriptions-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-subscriptions-clientid"}},[t._v("#")]),t._v(" GET /api/v4/subscriptions/{clientid}")]),t._v(" "),a("p",[t._v("返回集群下指定客户端的订阅信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("所有订阅信息")])]),t._v(" "),a("tr",[a("td",[t._v("data.node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data.clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("data.topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("订阅主题")])]),t._v(" "),a("tr",[a("td",[t._v("data.qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 等级")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/subscriptions/123"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qos"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-subscriptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-subscriptions"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/subscriptions")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-subscriptions"}},[t._v("GET /api/v4/subscriptions")]),t._v("，返回指定节点下的所有订阅信息，支持分页机制。")]),t._v(" "),a("p",[a("strong",[t._v("Query String Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("_page")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("页码")])]),t._v(" "),a("tr",[a("td",[t._v("_limit")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("10000")]),t._v(" "),a("td",[t._v("每页显示的数据条数，未指定时由 "),a("code",[t._v("emqx-management")]),t._v(" 插件的配置项 "),a("code",[t._v("max_row_limit")]),t._v(" 决定")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有订阅信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("订阅主题")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 等级")])]),t._v(" "),a("tr",[a("td",[t._v("meta")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("同 "),a("code",[t._v("/api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/subscriptions?_page=1&limit=10"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"limit"')]),t._v(":10000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),t._v(":2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/+/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qos"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"78082755-e8eb-4a87-bab7-8277541513f0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qos"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7a1dfceb-89c0-4f7e-992b-dfeb09329f01"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-subscriptions-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-subscriptions-clientid"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/subscriptions/{clientid}")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-subscriptions-by-clientid"}},[t._v("GET /api/v4/subscriptions/{clientid}")]),t._v("，在指定节点下，查询某 clientid 的所有订阅信息，支持分页机制。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("ClientID")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("所有订阅信息")])]),t._v(" "),a("tr",[a("td",[t._v("data.node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data.clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("data.topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("订阅主题")])]),t._v(" "),a("tr",[a("td",[t._v("data.qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 等级")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/subscriptions/sample"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/+/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qos"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sample"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-routes"}},[t._v("#")]),t._v(" GET /api/v4/routes")]),t._v(" "),a("p",[t._v("返回集群下的所有路由信息，支持分页机制。")]),t._v(" "),a("p",[a("strong",[t._v("Query String Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("_page")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("页码")])]),t._v(" "),a("tr",[a("td",[t._v("_limit")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("10000")]),t._v(" "),a("td",[t._v("每页显示的数据条数，未指定时由 "),a("code",[t._v("emqx-management")]),t._v(" 插件的配置项 "),a("code",[t._v("max_row_limit")]),t._v(" 决定")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有路由信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("MQTT 主题")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("meta")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("同 "),a("code",[t._v("/api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/routes"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"limit"')]),t._v(":10000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),t._v(":2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/+/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-routes-topic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-routes-topic"}},[t._v("#")]),t._v(" GET /api/v4/routes/{topic}")]),t._v(" "),a("p",[t._v("返回集群下指定主题的路由信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("topic")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("主题")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("所有路由信息")])]),t._v(" "),a("tr",[a("td",[t._v("data.topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("MQTT 主题")])]),t._v(" "),a("tr",[a("td",[t._v("data.node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/routes/a%2fb%2fc"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"消息发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#消息发布"}},[t._v("#")]),t._v(" 消息发布")]),t._v(" "),a("h3",{attrs:{id:"post-api-v4-mqtt-publish"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-mqtt-publish"}},[t._v("#")]),t._v(" POST /api/v4/mqtt/publish")]),t._v(" "),a("p",[t._v("发布 MQTT 消息。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("主题，与 "),a("code",[t._v("topics")]),t._v(" 至少指定其中之一")])]),t._v(" "),a("tr",[a("td",[t._v("topics")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("以 "),a("code",[t._v(",")]),t._v(" 分割的多个主题，使用此字段能够同时发布消息到多个主题")])]),t._v(" "),a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("payload")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("消息正文")])]),t._v(" "),a("tr",[a("td",[t._v("encoding")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("plain")]),t._v(" "),a("td",[t._v("消息正文使用的编码方式，目前仅支持 "),a("code",[t._v("plain")]),t._v(" 与 "),a("code",[t._v("base64")]),t._v(" 两种")])]),t._v(" "),a("tr",[a("td",[t._v("qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("0")]),t._v(" "),a("td",[t._v("QoS 等级")])]),t._v(" "),a("tr",[a("td",[t._v("retain")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("是否为保留消息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/mqtt/publish"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"topic":"a/b/c","payload":"Hello World","qos":1,"retain":false,"clientid":"example"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"主题订阅"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主题订阅"}},[t._v("#")]),t._v(" 主题订阅")]),t._v(" "),a("h3",{attrs:{id:"post-api-v4-mqtt-subscribe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-mqtt-subscribe"}},[t._v("#")]),t._v(" POST /api/v4/mqtt/subscribe")]),t._v(" "),a("p",[t._v("订阅 MQTT 主题。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("主题，与 "),a("code",[t._v("topics")]),t._v(" 至少指定其中之一")])]),t._v(" "),a("tr",[a("td",[t._v("topics")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("以 "),a("code",[t._v(",")]),t._v(" 分割的多个主题，使用此字段能够同时订阅多个主题")])]),t._v(" "),a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("0")]),t._v(" "),a("td",[t._v("QoS 等级")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("同时订阅 "),a("code",[t._v("a")]),t._v(", "),a("code",[t._v("b")]),t._v(", "),a("code",[t._v("c")]),t._v(" 三个主题")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/mqtt/subscribe"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"topics":"a,b,c","qos":1,"clientid":"example"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-mqtt-unsubscribe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-mqtt-unsubscribe"}},[t._v("#")]),t._v(" POST /api/v4/mqtt/unsubscribe")]),t._v(" "),a("p",[t._v("取消订阅。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("主题")])]),t._v(" "),a("tr",[a("td",[t._v("clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("客户端标识符")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("取消订阅 "),a("code",[t._v("a")]),t._v(" 主题")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/mqtt/unsubscribe"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"topic":"a","qos":1,"clientid":"example"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"消息批量发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#消息批量发布"}},[t._v("#")]),t._v(" 消息批量发布")]),t._v(" "),a("h3",{attrs:{id:"post-api-v4-mqtt-publish-batch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-mqtt-publish-batch"}},[t._v("#")]),t._v(" POST /api/v4/mqtt/publish_batch")]),t._v(" "),a("p",[t._v("批量发布 MQTT 消息。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("主题，与 "),a("code",[t._v("topics")]),t._v(" 至少指定其中之一")])]),t._v(" "),a("tr",[a("td",[t._v("[0].topics")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("以 "),a("code",[t._v(",")]),t._v(" 分割的多个主题，使用此字段能够同时发布消息到多个主题")])]),t._v(" "),a("tr",[a("td",[t._v("[0].clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("[0].payload")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("消息正文")])]),t._v(" "),a("tr",[a("td",[t._v("[0].encoding")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("plain")]),t._v(" "),a("td",[t._v("消息正文使用的编码方式，目前仅支持 "),a("code",[t._v("plain")]),t._v(" 与 "),a("code",[t._v("base64")]),t._v(" 两种")])]),t._v(" "),a("tr",[a("td",[t._v("[0].qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("0")]),t._v(" "),a("td",[t._v("QoS 等级")])]),t._v(" "),a("tr",[a("td",[t._v("[0].retain")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("false")]),t._v(" "),a("td",[t._v("是否为保留消息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/mqtt/publish_batch"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'[{"topic":"a/b/c","payload":"Hello World","qos":1,"retain":false,"clientid":"example"},{"topic":"a/b/c","payload":"Hello World Again","qos":0,"retain":false,"clientid":"example"}]\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"主题批量订阅"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主题批量订阅"}},[t._v("#")]),t._v(" 主题批量订阅")]),t._v(" "),a("h3",{attrs:{id:"post-api-v4-mqtt-subscribe-batch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-mqtt-subscribe-batch"}},[t._v("#")]),t._v(" POST /api/v4/mqtt/subscribe_batch")]),t._v(" "),a("p",[t._v("批量订阅 MQTT 主题。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("主题，与 "),a("code",[t._v("topics")]),t._v(" 至少指定其中之一")])]),t._v(" "),a("tr",[a("td",[t._v("[0].topics")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("以 "),a("code",[t._v(",")]),t._v(" 分割的多个主题，使用此字段能够同时订阅多个主题")])]),t._v(" "),a("tr",[a("td",[t._v("[0].clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[t._v("[0].qos")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("0")]),t._v(" "),a("td",[t._v("QoS 等级")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("一次性订阅 "),a("code",[t._v("a")]),t._v(", "),a("code",[t._v("b")]),t._v(", "),a("code",[t._v("c")]),t._v(" 三个主题")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/mqtt/subscribe_batch"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'[{"topic":"a","qos":1,"clientid":"example"},{"topic":"b","qos":1,"clientid":"example"},{"topic":"c","qos":1,"clientid":"example"}]\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-mqtt-unsubscribe-batch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-mqtt-unsubscribe-batch"}},[t._v("#")]),t._v(" POST /api/v4/mqtt/unsubscribe_batch")]),t._v(" "),a("p",[t._v("批量取消订阅。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("主题")])]),t._v(" "),a("tr",[a("td",[t._v("[0].clientid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("客户端标识符")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("一次性取消订阅 "),a("code",[t._v("a")]),t._v(", "),a("code",[t._v("b")]),t._v(" 主题")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/mqtt/unsubscribe_batch"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'[{"topic":"a","qos":1,"clientid":"example"},{"topic":"b","qos":1,"clientid":"example"}]\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[t._v("#")]),t._v(" 插件")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-plugins"}},[t._v("#")]),t._v(" GET /api/v4/plugins")]),t._v(" "),a("p",[t._v("返回集群下的所有插件信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有路由信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].plugins")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("插件信息，由对象组成的数组，见下文")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].plugins.name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].plugins.version")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件版本")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].plugins.description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件描述")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].plugins.active")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("插件是否启动")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].plugins.type")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件类型，目前有"),a("br"),a("code",[t._v("auth")]),t._v("、"),a("code",[t._v("bridge")]),t._v("、"),a("code",[t._v("feature")]),t._v("、"),a("code",[t._v("protocol")]),t._v(" 四种类型")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/plugins"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"develop"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auth"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_auth_clientid"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Authentication with ClientId/Password"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-plugins"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/plugins")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-plugins"}},[t._v("GET /api/v4/plugins")]),t._v("，返回指定节点下的插件信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有路由信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].version")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件版本")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件描述")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].active")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("插件是否启动")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].type")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件类型，目前有"),a("br"),a("code",[t._v("auth")]),t._v("、"),a("code",[t._v("bridge")]),t._v("、"),a("code",[t._v("feature")]),t._v("、"),a("code",[t._v("protocol")]),t._v(" 四种类型")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"develop"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auth"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_auth_clientid"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Authentication with ClientId/Password"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"put-api-v4-nodes-node-plugins-plugin-load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-nodes-node-plugins-plugin-load"}},[t._v("#")]),t._v(" PUT /api/v4/nodes/{node}/plugins/{plugin}/load")]),t._v(" "),a("p",[t._v("加载指定节点下的指定插件。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X PUT "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins/emqx_delayed_publish/load"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"put-api-v4-nodes-node-plugins-plugin-unload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-nodes-node-plugins-plugin-unload"}},[t._v("#")]),t._v(" PUT /api/v4/nodes/{node}/plugins/{plugin}/unload")]),t._v(" "),a("p",[t._v("卸载指定节点下的指定插件。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X PUT "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins/emqx_delayed_publish/unload"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"put-api-v4-nodes-node-plugins-plugin-reload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-nodes-node-plugins-plugin-reload"}},[t._v("#")]),t._v(" PUT /api/v4/nodes/{node}/plugins/{plugin}/reload")]),t._v(" "),a("p",[t._v("重新加载指定节点下的指定插件。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X PUT "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/plugins/emqx_delayed_publish/reload"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"监听器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监听器"}},[t._v("#")]),t._v(" 监听器")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-listeners"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-listeners"}},[t._v("#")]),t._v(" GET /api/v4/listeners")]),t._v(" "),a("p",[t._v("返回集群下的所有监听器信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点的监听器列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listeners")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("监听器列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listeners[0].acceptors")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Acceptor 进程数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listeners[0].listen_on")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("监听端口")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listeners[0].protocol")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件描述")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listeners[0].current_conns")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("插件是否启动")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listeners[0].max_conns")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("允许建立的最大连接数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listeners[0].shutdown_count")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("连接关闭原因及计数")])])])]),t._v(" "),a("p",[a("em",[t._v("常见 shutdown_count")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("normal")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("正常关闭的连接数量，仅在计数大于 0 时返回")])]),t._v(" "),a("tr",[a("td",[t._v("kicked")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("被手动踢除的连接数量，仅在计数大于 0 时返回")])]),t._v(" "),a("tr",[a("td",[t._v("discarded")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("由于 "),a("code",[t._v("Clean Session")]),t._v(" 或 "),a("code",[t._v("Clean Start")]),t._v(" 为 "),a("code",[t._v("true")]),t._v(" 而被丢弃的连接数量")])]),t._v(" "),a("tr",[a("td",[t._v("takeovered")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("由于 "),a("code",[t._v("Clean Session")]),t._v(" 或 "),a("code",[t._v("Clean Start")]),t._v(" 为 "),a("code",[t._v("false")]),t._v(" 而被接管的连接数量")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/listeners"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listeners"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:ssl"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":102400,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8883"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":16"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:tcp"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":1024000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.0.0.0:1883"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:tcp"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":1024000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1:11883"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http:dashboard"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":512,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18083"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http:management"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":512,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8081"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https:dashboard"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":512,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18084"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:ws:8083"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":102400,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8083"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:wss:8084"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":16,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8084"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-listeners"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-listeners"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/listeners")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-listeners"}},[t._v("GET /api/v4/listeners")]),t._v("，返回指定节点的监听器信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点的监听器列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].acceptors")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Acceptor 进程数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].listen_on")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("监听端口")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].protocol")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("插件描述")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].current_conns")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("插件是否启动")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].max_conns")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("允许建立的最大连接数量")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].shutdown_count")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("连接关闭原因及计数")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/listeners"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:ssl"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":102400,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8883"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":16"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:tcp"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":1024000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.0.0.0:1883"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:tcp"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":1024000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1:11883"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http:dashboard"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":512,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18083"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http:management"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":512,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8081"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https:dashboard"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":512,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18084"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:ws:8083"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":102400,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8083"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shutdown_count"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"protocol"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mqtt:wss:8084"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max_conns"')]),t._v(":16,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"listen_on"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8084"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current_conns"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"acceptors"')]),t._v(":4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"内置模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置模块"}},[t._v("#")]),t._v(" 内置模块")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-modules"}},[t._v("#")]),t._v(" GET /api/v4/modules")]),t._v(" "),a("p",[t._v("返回集群下所有内置模块信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点上的内置模块列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].modules")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("内置模块信息列表，详见下面的 modules:")])])])]),t._v(" "),a("p",[a("strong",[t._v("modules:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("模块名")])]),t._v(" "),a("tr",[a("td",[t._v("description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("模块功能描述")])]),t._v(" "),a("tr",[a("td",[t._v("active")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("是否处于活跃状态（是否正在运行）")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/modules"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"modules"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_delayed"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Delayed Publish Module"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_topic_metrics"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Topic Metrics Module"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_subscription"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Subscription Module"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_acl_internal"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Internal ACL Module"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_rewrite"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Topic Rewrite Module"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_presence"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EMQ X Presence Module"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active"')]),t._v(":true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-modules"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/modules")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-modules"}},[t._v("GET /api/v4/modules")]),t._v("，返回指定节点下所有内置模块信息。")]),t._v(" "),a("h3",{attrs:{id:"put-api-v4-modules-module-load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-modules-module-load"}},[t._v("#")]),t._v(" PUT /api/v4/modules/{module}/load")]),t._v(" "),a("p",[t._v("加载集群下所有节点的指定内置模块。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X PUT "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/modules/emqx_mod_topic_metrics/load"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"put-api-v4-nodes-node-modules-module-load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-nodes-node-modules-module-load"}},[t._v("#")]),t._v(" PUT /api/v4/nodes/{node}/modules/{module}/load")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-load-module"}},[t._v("PUT /api/v4/modules/{module}/load")]),t._v("，加载指定节点下的指定内置模块。")]),t._v(" "),a("h3",{attrs:{id:"put-api-v4-modules-module-unload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-modules-module-unload"}},[t._v("#")]),t._v(" PUT /api/v4/modules/{module}/unload")]),t._v(" "),a("p",[t._v("卸载集群下所有节点的指定内置模块。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X PUT "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/modules/emqx_mod_topic_metrics/unload"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"put-api-v4-nodes-node-modules-module-unload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-nodes-node-modules-module-unload"}},[t._v("#")]),t._v(" PUT /api/v4/nodes/{node}/modules/{module}/unload")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-unload-module"}},[t._v("PUT /api/v4/modules/{module}/unload")]),t._v("，卸载指定节点下的指定内置模块。")]),t._v(" "),a("h3",{attrs:{id:"put-api-v4-modules-module-reload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-modules-module-reload"}},[t._v("#")]),t._v(" PUT /api/v4/modules/{module}/reload")]),t._v(" "),a("p",[t._v("重新加载集群下所有节点的指定内置模块，仅为 "),a("code",[t._v("emqx_mod_acl_internal")]),t._v(" 提供此功能。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X PUT "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/modules/emqx_mod_acl_internal/reload"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"put-api-v4-nodes-node-modules-module-reload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-nodes-node-modules-module-reload"}},[t._v("#")]),t._v(" PUT /api/v4/nodes/{node}/modules/{module}/reload")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-reload-module"}},[t._v("PUT /api/v4/modules/{module}/reload")]),t._v("，重新加载指定节点下的指定内置模块，仅为 "),a("code",[t._v("emqx_mod_acl_internal")]),t._v(" 提供此功能。")]),t._v(" "),a("h2",{attrs:{id:"统计指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#统计指标"}},[t._v("#")]),t._v(" 统计指标")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-metrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-metrics"}},[t._v("#")]),t._v(" GET /api/v4/metrics")]),t._v(" "),a("p",[t._v("返回集群下所有统计指标数据。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点上的统计指标列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].metrics")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("监控指标数据，详见下面的 metrics：")])])])]),t._v(" "),a("p",[a("strong",[t._v("metrics：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("actions.failure")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("规则引擎 action 成功失败次数")])]),t._v(" "),a("tr",[a("td",[t._v("actions.success")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("规则引擎 action 执行失败次数")])]),t._v(" "),a("tr",[a("td",[t._v("bytes.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("EMQ X 接收的字节数")])]),t._v(" "),a("tr",[a("td",[t._v("bytes.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("EMQ X 在此连接上发送的字节数")])]),t._v(" "),a("tr",[a("td",[t._v("client.authenticate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端认证次数")])]),t._v(" "),a("tr",[a("td",[t._v("client.auth.anonymous")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("匿名登录的客户端数量")])]),t._v(" "),a("tr",[a("td",[t._v("client.connect")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端连接次数")])]),t._v(" "),a("tr",[a("td",[t._v("client.connack")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送 CONNACK 报文的次数")])]),t._v(" "),a("tr",[a("td",[t._v("client.connected")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端成功连接次数")])]),t._v(" "),a("tr",[a("td",[t._v("client.disconnected")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端断开连接次数")])]),t._v(" "),a("tr",[a("td",[t._v("client.check_acl")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("ACL 规则检查次数")])]),t._v(" "),a("tr",[a("td",[t._v("client.subscribe")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端订阅次数")])]),t._v(" "),a("tr",[a("td",[t._v("client.unsubscribe")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("客户端取消订阅次数")])]),t._v(" "),a("tr",[a("td",[t._v("delivery.dropped.too_large")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送时由于长度超过限制而被丢弃的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("delivery.dropped.queue_full")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送时由于消息队列满而被丢弃的 QoS 不为 0 的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("delivery.dropped.qos0_msg")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送时由于消息队列满而被丢弃的 QoS 为 0 的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("delivery.dropped.expired")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送时由于消息过期而被丢弃的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("delivery.dropped.no_local")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送时由于 "),a("code",[t._v("No Local")]),t._v(" 订阅选项而被丢弃的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("delivery.dropped")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送时丢弃的消息总数")])]),t._v(" "),a("tr",[a("td",[t._v("messages.delayed")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("EMQ X 存储的延迟发布的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.delivered")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("EMQ X 内部转发到订阅进程的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.dropped")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("EMQ X 内部转发到订阅进程前丢弃的消息总数")])]),t._v(" "),a("tr",[a("td",[t._v("messages.dropped.expired")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收时由于消息过期而被丢弃的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.dropped.no_subscribers")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("由于没有订阅者而被丢弃的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.forward")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("向其他节点转发的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.publish")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("除系统消息外发布的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收来自客户端的 QoS 0 消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收来自客户端的 QoS 1 消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收来自客户端的 QoS 2 消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送给客户端的 QoS 0 消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送给客户端的 QoS 1 消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送给客户端的 QoS 2 消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收来自客户端的消息数量，等于 "),a("code",[t._v("messages.qos0.received")]),t._v("，"),a("code",[t._v("messages.qos1.received")]),t._v(" 与 "),a("code",[t._v("messages.qos2.received")]),t._v(" 之和")])]),t._v(" "),a("tr",[a("td",[t._v("messages.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送给客户端的消息数量，等于 "),a("code",[t._v("messages.qos0.sent")]),t._v("，"),a("code",[t._v("messages.qos1.sent")]),t._v(" 与 "),a("code",[t._v("messages.qos2.sent")]),t._v(" 之和")])]),t._v(" "),a("tr",[a("td",[t._v("messages.retained")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("EMQ X 存储的保留消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("messages.acked")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PUBACK 和 PUBREC 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.connect.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 CONNECT 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.connack.auth_error")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的认证失败的 CONNECT 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.connack.error")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的未成功连接的 CONNECT 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.connack.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 CONNACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.publish.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PUBLISH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.publish.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBLISH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.publish.inuse")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的报文标识符已被占用的 PUBLISH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.publish.auth_error")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的未通过 ACL 检查的 PUBLISH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.publish.error")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的无法被发布的 PUBLISH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.publish.dropped")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("超出接收限制而被丢弃的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.puback.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PUBACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.puback.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.puback.inuse")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的报文标识符已被占用的 PUBACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.puback.missed")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的未知报文标识符 PUBACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubrec.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PUBREC 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubrec.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBREC 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubrec.inuse")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的报文标识符已被占用的 PUBREC 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubrec.missed")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的未知报文标识符 PUBREC 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubrel.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PUBREL 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubrel.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBREL 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubrel.missed")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的未知报文标识符 PUBREL 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubcomp.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PUBCOMP 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubcomp.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBCOMP 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubcomp.inuse")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的报文标识符已被占用的 PUBCOMP 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pubcomp.missed")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBCOMP 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.subscribe.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 SUBSCRIBE 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.subscribe.error")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的订阅失败的 SUBSCRIBE 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.subscribe.auth_error")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的未通过 ACL 检查的 SUBACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.suback.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 SUBACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.unsubscribe.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 UNSUBSCRIBE 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.unsubscribe.error")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的取消订阅失败的 UNSUBSCRIBE 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.unsuback.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 UNSUBACK 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pingreq.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 PINGREQ 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.pingresp.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 PUBRESP 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.disconnect.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 DISCONNECT 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.disconnect.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 DISCONNECT 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.auth.received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的 AUTH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("packets.auth.sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的 AUTH 报文数量")])]),t._v(" "),a("tr",[a("td",[t._v("rules.matched")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("规则的匹配次数")])]),t._v(" "),a("tr",[a("td",[t._v("session.created")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("创建的会话数量")])]),t._v(" "),a("tr",[a("td",[t._v("session.discarded")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("由于 "),a("code",[t._v("Clean Session")]),t._v(" 或 "),a("code",[t._v("Clean Start")]),t._v(" 为 "),a("code",[t._v("true")]),t._v(" 而被丢弃的会话数量")])]),t._v(" "),a("tr",[a("td",[t._v("session.resumed")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("由于 "),a("code",[t._v("Clean Session")]),t._v(" 或 "),a("code",[t._v("Clean Start")]),t._v(" 为 "),a("code",[t._v("false")]),t._v(" 而恢复的会话数量")])]),t._v(" "),a("tr",[a("td",[t._v("session.takeovered")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("由于 "),a("code",[t._v("Clean Session")]),t._v(" 或 "),a("code",[t._v("Clean Start")]),t._v(" 为 "),a("code",[t._v("false")]),t._v(" 而被接管的会话数量")])]),t._v(" "),a("tr",[a("td",[t._v("session.terminated")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("终结的会话数量")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/metrics"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.no_subscribers"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connack.sent"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bytes.received"')]),t._v(":805,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.unsuback.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.delivered"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.disconnected"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.subscribe.auth_error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.queue_full"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.forward"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.qos0_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.expired"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bytes.sent"')]),t._v(":52,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.no_local"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.check_acl"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.takeovered"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.expired"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.success"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.retained"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.received"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.acked"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.terminated"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.sent"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.unsubscribe.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.connect"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.auth.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.disconnect.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.auth.anonymous"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.auth.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.unsubscribe.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.auth_error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.connected"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules.matched"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.disconnect.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.created"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pingreq.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.failure"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.resumed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connack.auth_error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrel.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.unsubscribe"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrel.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.connack"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connack.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.subscribe"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.subscribe.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.suback.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.too_large"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pingresp.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrel.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connect.received"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.subscribe.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.authenticate"')]),t._v(":13,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.publish"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.delayed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.discarded"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-metrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-metrics"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/metrics")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-metrics"}},[t._v("GET /api/v4/metrics")]),t._v("，返回指定节点下所有监控指标数据。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("各节点上的统计指标列表，详见 "),a("a",{attrs:{href:"#endpoint-get-metrics"}},[t._v("GET /api/v4/metrics")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/metrics"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bytes.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.connected"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pingreq.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.delayed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules.matched"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.failure"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pingresp.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.auth_error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.check_acl"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.queue_full"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.success"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bytes.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrel.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.too_large"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.subscribe.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.suback.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrel.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.publish"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.forward"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.auth.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.qos0_msg"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.disconnect.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.auth.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.unsubscribe.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.takeovered"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.delivered"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.auth.anonymous"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connack.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connack.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.subscribe.auth_error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.unsuback.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.connack"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.subscribe"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.created"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.expired"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.unsubscribe"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrel.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.unsubscribe.error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connack.auth_error"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.resumed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delivery.dropped.no_local"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.missed"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubcomp.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.expired"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.no_subscribers"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.discarded"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.puback.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.acked"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.connect"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.disconnect.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.disconnected"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.retained"')]),t._v(":3,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"session.terminated"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.publish.inuse"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.pubrec.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.connect.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client.authenticate"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"packets.subscribe.received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.received"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"主题统计指标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主题统计指标"}},[t._v("#")]),t._v(" 主题统计指标")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-topic-metrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-topic-metrics"}},[t._v("#")]),t._v(" GET /api/v4/topic-metrics")]),t._v(" "),a("p",[t._v("返回所有主题统计指标数据。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点上的统计指标列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("主题名")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].metrics")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("主题统计指标数据，详见下面的 metrics:")])])])]),t._v(" "),a("p",[a("strong",[t._v("metrics:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("messages.qos2.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.dropped.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息 5 秒内平均丢弃速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.dropped.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息丢弃数量统计")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/topic-metrics"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/topic-metrics"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"topic":"a/b/c"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/topic-metrics"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a/b/c"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.count"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-topic-metrics-topic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-topic-metrics-topic"}},[t._v("#")]),t._v(" GET /api/v4/topic-metrics/{topic}")]),t._v(" "),a("p",[t._v("返回指定主题的统计指标数据。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("主题统计指标数据，详见下面的 data:")])])])]),t._v(" "),a("p",[a("strong",[t._v("data:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("messages.qos2.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos2.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 2 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos1.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 1 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.qos0.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("QoS 0 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.out.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息 5 秒内平均发送速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.out.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息发送数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.in.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息 5 秒内平均接收速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.in.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息接收数量统计")])]),t._v(" "),a("tr",[a("td",[t._v("messages.dropped.rate")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息 5 秒内平均丢弃速率")])]),t._v(" "),a("tr",[a("td",[t._v("messages.dropped.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("MQTT 消息丢弃数量统计")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/topic-metrics/a%2Fb%2Fc"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos2.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos1.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.qos0.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.out.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.out.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.in.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.in.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.rate"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages.dropped.count"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-topic-metrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-topic-metrics"}},[t._v("#")]),t._v(" POST /api/v4/topic-metrics")]),t._v(" "),a("p",[t._v("开启对指定主题的指标统计。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("topic")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("MQTT 主题名")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("开启对 "),a("code",[t._v("a/b/c")]),t._v(" 主题的指标统计")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/topic-metrics"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"topic":"a/b/c"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-topic-metrics-topic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-topic-metrics-topic"}},[t._v("#")]),t._v(" DELETE /api/v4/topic-metrics/{topic}")]),t._v(" "),a("p",[t._v("关闭对指定主题的指标统计。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("关闭对 "),a("code",[t._v("a/b/c")]),t._v(" 主题的指标统计")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/topic-metrics/a%2Fb%2Fc"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-topic-metrics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-topic-metrics"}},[t._v("#")]),t._v(" DELETE /api/v4/topic-metrics")]),t._v(" "),a("p",[t._v("关闭所有主题的指标统计。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("关闭所有主题的指标统计")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/topic-metrics"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#状态"}},[t._v("#")]),t._v(" 状态")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-stats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-stats"}},[t._v("#")]),t._v(" GET /api/v4/stats")]),t._v(" "),a("p",[t._v("返回集群下所有状态数据。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点上的状态数据列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].stats")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("状态数据，详见下面的 "),a("em",[t._v("stats")])])])])]),t._v(" "),a("p",[a("strong",[t._v("stats:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("connections.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前连接数量")])]),t._v(" "),a("tr",[a("td",[t._v("connections.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("连接数量的历史最大值")])]),t._v(" "),a("tr",[a("td",[t._v("channels.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("即 "),a("code",[t._v("sessions.count")])])]),t._v(" "),a("tr",[a("td",[t._v("channels.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("即 "),a("code",[t._v("session.max")])])]),t._v(" "),a("tr",[a("td",[t._v("sessions.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前会话数量")])]),t._v(" "),a("tr",[a("td",[t._v("sessions.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("会话数量的历史最大值")])]),t._v(" "),a("tr",[a("td",[t._v("topics.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前主题数量")])]),t._v(" "),a("tr",[a("td",[t._v("topics.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("主题数量的历史最大值")])]),t._v(" "),a("tr",[a("td",[t._v("suboptions.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("即 "),a("code",[t._v("subscriptions.count")])])]),t._v(" "),a("tr",[a("td",[t._v("suboptions.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("即 "),a("code",[t._v("subscriptions.max")])])]),t._v(" "),a("tr",[a("td",[t._v("subscribers.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前订阅者数量")])]),t._v(" "),a("tr",[a("td",[t._v("subscribers.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("订阅者数量的历史最大值")])]),t._v(" "),a("tr",[a("td",[t._v("subscriptions.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前订阅数量，包含共享订阅")])]),t._v(" "),a("tr",[a("td",[t._v("subscriptions.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("订阅数量的历史最大值")])]),t._v(" "),a("tr",[a("td",[t._v("subscriptions.shared.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前共享订阅数量")])]),t._v(" "),a("tr",[a("td",[t._v("subscriptions.shared.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("共享订阅数量的历史最大值")])]),t._v(" "),a("tr",[a("td",[t._v("routes.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前路由数量")])]),t._v(" "),a("tr",[a("td",[t._v("routes.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("路由数量的历史最大值")])]),t._v(" "),a("tr",[a("td",[t._v("retained.count")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前保留消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("retained.max")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("保留消息的历史最大值")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/stats"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stats"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topics.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topics.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.shared.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.shared.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribers.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribers.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"suboptions.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"suboptions.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sessions.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sessions.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"routes.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"routes.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"retained.max"')]),t._v(":3,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"retained.count"')]),t._v(":3,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resources.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resources.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connections.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connections.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"channels.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"channels.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.max"')]),t._v(":5,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.count"')]),t._v(":5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-stats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-stats"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/stats")]),t._v(" "),a("p",[t._v("类似 "),a("a",{attrs:{href:"#endpoint-get-stats"}},[t._v("GET /api/v4/stats")]),t._v("，返回指定节点上的状态数据。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点上的状态数据列表，详见 "),a("a",{attrs:{href:"#endpoint-get-stats"}},[t._v("GET /api/v4/stats")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/stats"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topics.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topics.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.shared.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.shared.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscriptions.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribers.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribers.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"suboptions.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"suboptions.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sessions.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sessions.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"routes.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"routes.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"retained.max"')]),t._v(":3,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"retained.count"')]),t._v(":3,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resources.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resources.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connections.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"connections.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"channels.max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"channels.count"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.max"')]),t._v(":5,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions.count"')]),t._v(":5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"告警"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#告警"}},[t._v("#")]),t._v(" 告警")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-alarms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-alarms"}},[t._v("#")]),t._v(" GET /api/v4/alarms")]),t._v(" "),a("p",[t._v("返回集群下当前告警信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("各节点上的告警列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("节点名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].alarms")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("当前告警列表")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].alarms[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("告警名称")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].alarms[0].message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("人类易读的告警信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].alarms[0].details")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("告警详情")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].alarms[0].activate_at")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("告警激活时间，以微秒为单位的 UNIX 时间戳")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].alarms[0].deactivate_at")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("告警取消激活时间，以微秒为单位的 UNIX 时间戳")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].alarms[0].activated")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("是否激活")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/alarms"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alarms"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"infinity"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597996203658236"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),t._v(":1597994359335482,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597993108657522"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-alarms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-alarms"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/alarms")]),t._v(" "),a("p",[t._v("返回指定节点下的告警信息。接口参数和返回请参看 "),a("a",{attrs:{href:"#endpoint-get-alarms"}},[t._v("GET /api/v4/alarms")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/alarms"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"infinity"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597996203658236"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),t._v(":1597994359335482,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597993108657522"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-alarms-activated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-alarms-activated"}},[t._v("#")]),t._v(" GET /api/v4/alarms/activated")]),t._v(" "),a("p",[t._v("返回集群下激活中的告警。接口参数和返回请参看 "),a("a",{attrs:{href:"#endpoint-get-alarms"}},[t._v("GET /api/v4/alarms")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/alarms/activated"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alarms"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"infinity"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597996203658236"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-alarms-activated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-alarms-activated"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/alarms/activated")]),t._v(" "),a("p",[t._v("返回指定节点下激活中的告警。接口参数和返回请参看 "),a("a",{attrs:{href:"#endpoint-get-alarms"}},[t._v("GET /api/v4/alarms")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/alarms/activated"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"infinity"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597996203658236"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-alarms-deactivated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-alarms-deactivated"}},[t._v("#")]),t._v(" GET /api/v4/alarms/deactivated")]),t._v(" "),a("p",[t._v("返回集群下已经取消的告警。接口参数和返回请参看 "),a("a",{attrs:{href:"#endpoint-get-activated-alarms"}},[t._v("GET /api/v4/alarms/activated")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/alarms/deactivated"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alarms"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),t._v(":1597994359335482,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597993108657522"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-nodes-node-alarms-deactivated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-nodes-node-alarms-deactivated"}},[t._v("#")]),t._v(" GET /api/v4/nodes/{node}/alarms/deactivated")]),t._v(" "),a("p",[t._v("返回指定节点下已经取消的告警。接口参数和返回请参看 "),a("a",{attrs:{href:"#endpoint-get-activated-alarms-in-specified-node"}},[t._v("GET /api/v4/alarms/activated")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/alarms/deactivated"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_system_memory_usage"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"System memory usage is higher than 60%"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"details"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"high_watermark"')]),t._v(":60"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deactivate_at"')]),t._v(":1597994359335482,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activated"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activate_at"')]),t._v(":1597993108657522"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-alarms-deactivated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-alarms-deactivated"}},[t._v("#")]),t._v(" POST /api/v4/alarms/deactivated")]),t._v(" "),a("p",[t._v("取消指定告警。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("node")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("告警所在节点")])]),t._v(" "),a("tr",[a("td",[t._v("name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("告警名称")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -vX POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/alarms/deactivated"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"node":"emqx@127.0.0.1","name":"high_system_memory_usage"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-alarms-deactivated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-alarms-deactivated"}},[t._v("#")]),t._v(" DELETE /api/v4/alarms/deactivated")]),t._v(" "),a("p",[t._v("清除所有已经取消的告警。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/alarms/deactivated"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-nodes-node-alarms-deactivated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-nodes-node-alarms-deactivated"}},[t._v("#")]),t._v(" DELETE /api/v4/nodes/{node}/alarms/deactivated")]),t._v(" "),a("p",[t._v("清除指定节点下所有已经取消的告警。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/nodes/emqx@127.0.0.1/alarms/deactivated"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"黑名单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#黑名单"}},[t._v("#")]),t._v(" 黑名单")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-banned"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-banned"}},[t._v("#")]),t._v(" GET /api/v4/banned")]),t._v(" "),a("p",[t._v("获取黑名单")]),t._v(" "),a("p",[a("strong",[t._v("Query String Parameters:")])]),t._v(" "),a("p",[t._v("同 "),a("code",[t._v("/api/v4/clients")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("由对象构成的数组，对象中的字段与 "),a("em",[t._v("POST")]),t._v(" 方法中的 Request Body 相同")])]),t._v(" "),a("tr",[a("td",[t._v("meta")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("同 "),a("code",[t._v("/api/v4/clients")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("获取黑名单列表:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -vX GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/banned"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meta"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"page"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"limit"')]),t._v(":10000,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"count"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"who"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"until"')]),t._v(":1582265833,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reason"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"undefined"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"by"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"at"')]),t._v(":1582265533,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"as"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-banned"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-banned"}},[t._v("#")]),t._v(" POST /api/v4/banned")]),t._v(" "),a("p",[t._v("将对象添加至黑名单")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("who")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("添加至黑名单的对象，可以是客户端标识符、用户名和 IP 地址")])]),t._v(" "),a("tr",[a("td",[t._v("as")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("用于区分黑名单对象类型，可以是 "),a("code",[t._v("clientid")]),t._v("，"),a("code",[t._v("username")]),t._v("，"),a("code",[t._v("peerhost")])])]),t._v(" "),a("tr",[a("td",[t._v("by")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("user")]),t._v(" "),a("td",[t._v("指示该对象被谁添加至黑名单")])]),t._v(" "),a("tr",[a("td",[t._v("at")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("当前系统时间")]),t._v(" "),a("td",[t._v("添加至黑名单的时间，单位：秒")])]),t._v(" "),a("tr",[a("td",[t._v("until")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Optional")]),t._v(" "),a("td",[t._v("当前系统时间 + 5 分钟")]),t._v(" "),a("td",[t._v("何时从黑名单中解除，单位：秒")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("与传入的 Request Body 相同")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("将 client 添加到黑名单:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -vX POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/banned"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"who":"example","as":"clientid"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"who"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"as"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"clientid"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-banned-as-who"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-banned-as-who"}},[t._v("#")]),t._v(" DELETE /api/v4/banned/{as}/{who}")]),t._v(" "),a("p",[t._v("将对象从黑名单中删除")]),t._v(" "),a("p",[a("strong",[t._v("Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("将 client 从黑名单中移除:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/banned/clientid/example"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"数据导入导出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据导入导出"}},[t._v("#")]),t._v(" 数据导入导出")]),t._v(" "),a("p",[t._v("数据导入导出。")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-data-export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-data-export"}},[t._v("#")]),t._v(" GET /api/v4/data/export")]),t._v(" "),a("p",[t._v("获取当前的导出文件信息列表，包括文件名、大小和创建时间。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("所有路由信息")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].filename")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("文件名")])]),t._v(" "),a("tr",[a("td",[t._v("data[0].created_at")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v('"YYYY-MM-DD HH-mm-SS" 格式的文件创建时间')])]),t._v(" "),a("tr",[a("td",[t._v("data[0].size")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("文件大小，单位：字节")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("列出当前的导出文件信息列表:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/data/export"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"size"')]),t._v(":350,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filename"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx-export-2020-5-15-18-6-29.json"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-5-15 18:6:29"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"size"')]),t._v(":388,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filename"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx-export-2020-5-15-17-39-0.json"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-5-15 17:39:0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-data-export"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-data-export"}},[t._v("#")]),t._v(" POST /api/v4/data/export")]),t._v(" "),a("p",[t._v("导出当前数据到文件。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("文件信息")])]),t._v(" "),a("tr",[a("td",[t._v("data.filename")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("文件名")])]),t._v(" "),a("tr",[a("td",[t._v("data.created_at")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v('"YYYY-MM-DD HH-mm-SS" 格式的文件创建时间')])]),t._v(" "),a("tr",[a("td",[t._v("data.size")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("文件大小，单位：字节")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("导出文件：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/data/export"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"size"')]),t._v(":350,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filename"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx-export-2020-5-18-17-17-44.json"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2020-5-18 17:17:44"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-data-import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-data-import"}},[t._v("#")]),t._v(" POST /api/v4/data/import")]),t._v(" "),a("p",[t._v("从指定文件导入数据。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("filename")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("导入的文件名")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("从指定文件导入数据：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/data/import"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"filename":"emqx-export-2020-5-18-17-17-44.json"}\'')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-data-file-filename"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-data-file-filename"}},[t._v("#")]),t._v(" GET /api/v4/data/file/{filename}")]),t._v(" "),a("p",[t._v("下载数据文件。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("filename")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("导入的文件名")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("filename")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("文件名")])]),t._v(" "),a("tr",[a("td",[t._v("file")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("文件内容")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("下载指定的数据文件：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/data/file/emqx-export-2020-5-18-17-17-44.json"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"filename"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Users/zhouzibo/emqx-rel/_build/emqx/rel/emqx/data/emqx-export-2020-5-18-17-17-44.json"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("version"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("users"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("username"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("admin"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("tags"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("administrator"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("password"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("oKQPB1hbigv6+2ntALELNOb1fF0="),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("}],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("schemas"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("rules"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("resources"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("date"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("2020-05-18 17:17:44"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("blacklist"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("auth_mnesia"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("apps"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("status"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("secret"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("public"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("name"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Default"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("id"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("admin"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("expired"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("undefined"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("desc"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Application user"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("}],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("acl_mnesia"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(':[]}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"post-api-v4-data-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-data-file"}},[t._v("#")]),t._v(" POST /api/v4/data/file")]),t._v(" "),a("p",[t._v("上传数据文件。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("filename")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("文件名")])]),t._v(" "),a("tr",[a("td",[t._v("file")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("文件内容")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("上传指定的数据文件：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/data/file"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"filename":"emqx-export-2020-5-18-17-17-44.json","file":"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("version"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("dev"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("users"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("username"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("admin"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("tags"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("administrator"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("password"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("oKQPB1hbigv6+2ntALELNOb1fF0="),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("}],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("schemas"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("rules"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("resources"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("date"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("2020-05-18 17:17:44"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("blacklist"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("auth_mnesia"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("apps"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[{"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("status"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("secret"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("public"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("name"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Default"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("id"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("admin"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("expired"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("undefined"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("desc"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Application user"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("}],"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("acl_mnesia"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":[]}\"}'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"delete-api-v4-data-file-filename"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-data-file-filename"}},[t._v("#")]),t._v(" DELETE /api/v4/data/file/{filename}")]),t._v(" "),a("p",[t._v("远程删除数据文件。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("filename")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("文件名")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("删除指定的数据文件：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X DELETE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/data/file/emqx-export-2020-5-18-17-17-44.json"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规则"}},[t._v("#")]),t._v(" 规则")]),t._v(" "),a("p",[t._v("查询规则引擎的动作")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-rules-rule-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-rules-rule-id"}},[t._v("#")]),t._v(" GET /api/v4/rules/{rule_id}")]),t._v(" "),a("p",[t._v("获取某个规则的详情，包括规则的 SQL、Topics 列表、动作列表等。还会返回当前规则和动作的统计指标的值。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("rule_id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("可选，Rule ID。如不指定 rule_id 则"),a("br"),t._v("以数组形式返回所有已创建的规则")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("规则对象")])]),t._v(" "),a("tr",[a("td",[t._v("- data.id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Rule ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.rawsql")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("SQL 语句，与请求中的 rawsql 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.for")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Topic 列表，表示哪些 topic 可以匹配到此规则")])]),t._v(" "),a("tr",[a("td",[t._v("- data.metrics")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("统计指标，具体可参看 Dashboard 上的 Rule Metrics")])]),t._v(" "),a("tr",[a("td",[t._v("- data.description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("规则的描述信息，与请求中的 description 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("动作列表")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Action ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].params")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("动作参数，与请求中的 actions.params 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("动作名字，与请求中的 actions.name 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].metrics")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("统计指标，具体可参看 Dashboard 上的 Rule Metrics")])])])]),t._v(" "),a("h3",{attrs:{id:"post-api-v4-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-rules"}},[t._v("#")]),t._v(" POST /api/v4/rules")]),t._v(" "),a("p",[t._v("创建规则，返回规则 ID。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("rawsql")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("规则的 SQL 语句")])]),t._v(" "),a("tr",[a("td",[t._v("actions")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("动作列表")])]),t._v(" "),a("tr",[a("td",[t._v("- actions[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("动作名称")])]),t._v(" "),a("tr",[a("td",[t._v("- actions[0].params")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("动作参数。参数以 key-value 形式表示。"),a("br"),t._v("详情可参看添加规则的示例")])]),t._v(" "),a("tr",[a("td",[t._v("description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("可选，规则描述")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("创建成功的规则对象，包含 Rule ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Rule ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.rawsql")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("SQL 语句，与请求中的 rawsql 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.for")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Topic 列表，表示哪些 topic 可以匹配到此规则")])]),t._v(" "),a("tr",[a("td",[t._v("- data.metrics")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("统计指标，具体可参看 Dashboard 上的 Rule Metrics")])]),t._v(" "),a("tr",[a("td",[t._v("- data.description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("规则的描述信息，与请求中的 description 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("动作列表，每个动作是一个 Object")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Action ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].params")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("动作参数，与请求中的 actions.params 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("动作名字，与请求中的 actions.name 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].metrics")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("统计指标，具体可参看 Dashboard 上的 Rule Metrics")])])])]),t._v(" "),a("h3",{attrs:{id:"put-api-v4-rules-rule-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-rules-rule-id"}},[t._v("#")]),t._v(" PUT /api/v4/rules/{rule_id}")]),t._v(" "),a("p",[t._v("更新规则，返回规则 ID。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("rawsql")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("可选，规则的 SQL 语句")])]),t._v(" "),a("tr",[a("td",[t._v("actions")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("可选，动作列表")])]),t._v(" "),a("tr",[a("td",[t._v("- actions[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("可选，动作名称")])]),t._v(" "),a("tr",[a("td",[t._v("- actions[0].params")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("可选，动作参数。参数以 key-value 形式表示。"),a("br"),t._v("详情可参看添加规则的示例")])]),t._v(" "),a("tr",[a("td",[t._v("description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("可选，规则描述")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("创建成功的规则对象，包含 Rule ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Rule ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.rawsql")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("SQL 语句，与请求中的 rawsql 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.for")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Topic 列表，表示哪些 topic 可以匹配到此规则")])]),t._v(" "),a("tr",[a("td",[t._v("- data.metrics")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("统计指标，具体可参看 Dashboard 上的 Rule Metrics")])]),t._v(" "),a("tr",[a("td",[t._v("- data.description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("规则的描述信息，与请求中的 description 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("动作列表，每个动作是一个 Object")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Action ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].params")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("动作参数，与请求中的 actions.params 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("动作名字，与请求中的 actions.name 一致")])]),t._v(" "),a("tr",[a("td",[t._v("- data.actions[0].metrics")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("统计指标，具体可参看 Dashboard 上的 Rule Metrics")])])])]),t._v(" "),a("h3",{attrs:{id:"delete-api-v4-rules-rule-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-rules-rule-id"}},[t._v("#")]),t._v(" DELETE /api/v4/rules/{rule_id}")]),t._v(" "),a("p",[t._v("删除规则。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v('添加一个规则，对于所有匹配到主题 "t/a" 的消息，打印其规则运行参数。')]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -XPOST -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{\n  "rawsql": "select * from '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("t/a"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('",\n  "actions": [{\n      "name": "inspect",\n      "params": {\n          "a": 1\n      }\n  }],\n  "description": "test-rule"\n}\'')]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/rules'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rawsql"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("t/a"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_last5m"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"matched"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rule:7fdb2c9e"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"for"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enabled"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test-rule"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"failed"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect_1582434715354188116"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("使用规则 ID 获取刚才创建的规则详情:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rawsql"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("t/a"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_last5m"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"matched"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rule:7fdb2c9e"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"for"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enabled"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test-rule"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"failed"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect_1582434715354188116"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("获取所有的规则，注意返回值里的 data 是个规则对象的数组:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/rules'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rawsql"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("t/a"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_last5m"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"matched"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rule:7fdb2c9e"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"for"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enabled"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test-rule"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"failed"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect_1582434715354188116"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("更新一下规则的 SQL 语句，改为 "),a("code",[t._v('select * from "t/b"')]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -XPUT --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"rawsql":"select * from '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("t/b"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("\"}'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rawsql"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("t/b"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_last5m"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"matched"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rule:7fdb2c9e"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"for"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enabled"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test-rule"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"failed"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect_1582434715354188116"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("停用规则 (disable):")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -XPUT --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{\"enabled\": false}'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rawsql"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("t/b"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_max"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed_last5m"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speed"')]),t._v(":0.0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"matched"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rule:7fdb2c9e"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"for"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"t/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enabled"')]),t._v(":false,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test-rule"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),t._v(":1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metrics"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"failed"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect_1582434715354188116"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("删除规则:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -XDELETE --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/rules/rule:7fdb2c9e'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"动作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动作"}},[t._v("#")]),t._v(" 动作")]),t._v(" "),a("p",[t._v("查询规则引擎的动作。注意动作只能由 emqx 提供，不能添加。")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-actions-action-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-actions-action-name"}},[t._v("#")]),t._v(" GET api/v4/actions/{action_name}")]),t._v(" "),a("p",[t._v("获取某个动作的详情，包括动作名字、参数列表等。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("action_name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("可选，动作名。如不指定 action_name 则"),a("br"),t._v("以数组形式返回当前支持的所有动作。")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("规则对象")])]),t._v(" "),a("tr",[a("td",[t._v("- data.types")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("指示当前动作从属于那些资源类型")])]),t._v(" "),a("tr",[a("td",[t._v("- data.title")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("动作的简述，中英文。")])]),t._v(" "),a("tr",[a("td",[t._v("- data.params")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("动作的参数列表。参数以 key-value 形式表示。"),a("br"),t._v("详情可参看后面的示例")])]),t._v(" "),a("tr",[a("td",[t._v("- data.description")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("动作的描述信息，中英文。")])]),t._v(" "),a("tr",[a("td",[t._v("- data.app")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("动作的提供者")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("查询 inspect 动作的详情：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/actions/inspect'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"types"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"检查 (调试)"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Inspect (debug)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inspect"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"for"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$any")]),t._v('"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"检查动作参数 (用以调试)"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Inspect the details of action params for debug purpose"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_rule_engine"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("查询当前所有的动作：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/actions'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"types"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"空动作 (调试)"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Do Nothing (debug)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"do_nothing"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"for"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$any")]),t._v('"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"此动作什么都不做，并且不会失败 (用以调试)"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This action does nothing and never fails. It\'s for debug purpose"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_rule_engine"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"资源类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源类型"}},[t._v("#")]),t._v(" 资源类型")]),t._v(" "),a("p",[t._v("查询规则引擎的资源类型。注意资源类型只能由 emqx 提供，不能添加。")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-resource-types-resource-type-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-resource-types-resource-type-name"}},[t._v("#")]),t._v(" GET api/v4/resource_types/{resource_type_name}")]),t._v(" "),a("p",[t._v("获取某个资源的详情，包括资源描述、参数列表等。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("resource_type_name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("可选，资源类型名。如不指定 resource_type_name 则"),a("br"),t._v("以数组形式返回当前支持的所有资源类型。")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("规则对象")])]),t._v(" "),a("tr",[a("td",[t._v("- data.title")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("资源类型的简述，中英文。")])]),t._v(" "),a("tr",[a("td",[t._v("- data.params")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("资源类型的参数列表。参数以 key-value 形式表示。"),a("br"),t._v("详情可参看后面的示例")])]),t._v(" "),a("tr",[a("td",[t._v("- data.description")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("资源类型的描述信息，中英文。")])]),t._v(" "),a("tr",[a("td",[t._v("- data.provider")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("资源类型的提供者")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("查询 web_hook 资源类型的详细信息：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/resource_types/web_hook'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"provider"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_web_hook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求 URL"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request URL"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"format"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求 URL"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request URL"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求方法"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Method"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enum"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PUT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求方法"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Method"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headers"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求头"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Header"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"schema"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求头"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Header"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web_hook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("查询当前所有的资源类型：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/resource_types'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"provider"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_web_hook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"params"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求 URL"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request URL"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),t._v(":true,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"format"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求 URL"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request URL"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求方法"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Method"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enum"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PUT"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求方法"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Method"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headers"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求头"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Header"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"schema"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求头"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Request Header"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web_hook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WebHook"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源"}},[t._v("#")]),t._v(" 资源")]),t._v(" "),a("p",[t._v("管理规则引擎的资源。资源是资源类型的实例，用于维护数据库连接等相关资源。")]),t._v(" "),a("h3",{attrs:{id:"get-api-v4-resources-resource-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-resources-resource-id"}},[t._v("#")]),t._v(" GET api/v4/resources/{resource_id}")]),t._v(" "),a("p",[t._v("获取指定的资源的详细信息。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("resource_id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("可选，资源类型 ID。如不指定 resource_id 则"),a("br"),t._v("以数组形式返回当前所有的资源。")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("规则对象")])]),t._v(" "),a("tr",[a("td",[t._v("- data.id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("资源 ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.type")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("资源所从属的资源类型的名字。")])]),t._v(" "),a("tr",[a("td",[t._v("- data.config")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("资源的配置。参数以 key-value 形式表示。"),a("br"),t._v("详情可参看后面的示例")])]),t._v(" "),a("tr",[a("td",[t._v("- data.status")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td",[t._v("资源的状态信息。详情请参看 Dashboard 上资源的状态。")])]),t._v(" "),a("tr",[a("td",[t._v("- data.description")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("资源的描述信息，中英文。")])])])]),t._v(" "),a("h3",{attrs:{id:"post-api-v4-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-api-v4-resources"}},[t._v("#")]),t._v(" POST /api/v4/resources")]),t._v(" "),a("p",[t._v("创建规则，返回资源 ID。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("资源类型名。指定要使用哪个资源类型创建资源。")])]),t._v(" "),a("tr",[a("td",[t._v("config")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("True")]),t._v(" "),a("td",[t._v("资源参数。要跟对应的资源类型的 params 里指定的格式相一致。")])]),t._v(" "),a("tr",[a("td",[t._v("description")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("False")]),t._v(" "),a("td",[t._v("可选，资源描述")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("规则对象")])]),t._v(" "),a("tr",[a("td",[t._v("- data.id")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("资源 ID")])]),t._v(" "),a("tr",[a("td",[t._v("- data.type")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("资源所从属的资源类型的名字。")])]),t._v(" "),a("tr",[a("td",[t._v("- data.config")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("资源的配置。参数以 key-value 形式表示。"),a("br"),t._v("详情可参看后面的示例")])]),t._v(" "),a("tr",[a("td",[t._v("- data.description")]),t._v(" "),a("td",[t._v("Object")]),t._v(" "),a("td",[t._v("资源的描述信息，中英文。")])])])]),t._v(" "),a("h3",{attrs:{id:"delete-api-v4-resources-resource-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-api-v4-resources-resource-id"}},[t._v("#")]),t._v(" DELETE /api/v4/resources/{resource_id}")]),t._v(" "),a("p",[t._v("删除资源。")]),t._v(" "),a("p",[a("strong",[t._v("Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("创建一个 webhook 资源，webserver 的 URL 为 http://127.0.0.1:9910 ：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -XPOST -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{\n  "type": "web_hook",\n  "config": {\n      "url": "http://127.0.0.1:9910",\n      "headers": {"token":"axfw34y235wrq234t4ersgw4t"},\n      "method": "POST"\n  },\n  "description": "web hook resource-1"\n}\'')]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/resources'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web_hook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resource:b12d3e44"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web hook resource-1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:9910"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headers"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"axfw34y235wrq234t4ersgw4t"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("使用资源 ID 查询刚创建的资源：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/resources/resource:b12d3e44'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web_hook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"status"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx@127.0.0.1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_alive"')]),t._v(":false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resource:b12d3e44"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web hook resource-1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:9910"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headers"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"axfw34y235wrq234t4ersgw4t"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("查询当前已创建的所有的资源：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/resources'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web_hook"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resource:b12d3e44"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web hook resource-1"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:9910"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"method"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"headers"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"axfw34y235wrq234t4ersgw4t"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("删除资源:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -XDELETE --basic -u admin:public "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8081/api/v4/resources/resource:b12d3e44'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("{% emqxce %}")]),t._v(" "),a("h2",{attrs:{id:"数据遥测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据遥测"}},[t._v("#")]),t._v(" 数据遥测")]),t._v(" "),a("p",[t._v("数据遥测")]),t._v(" "),a("h3",{attrs:{id:"put-api-v4-telemetry-status"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-api-v4-telemetry-status"}},[t._v("#")]),t._v(" PUT /api/v4/telemetry/status")]),t._v(" "),a("p",[t._v("启用或关闭数据遥测功能。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Parameters (json):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Required")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enabled")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("Required")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("是否启用")])])])]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("仅在发生错误时返回，用于提供更详细的错误信息")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("启用数据遥测功能：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X PUT "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/telemetry/status"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{\"enabled\":true}'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-telemetry-status"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-telemetry-status"}},[t._v("#")]),t._v(" GET /api/v4/telemetry/status")]),t._v(" "),a("p",[t._v("查询数据遥测功能是否启用。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("遥测状态")])]),t._v(" "),a("tr",[a("td",[t._v("data.enabled")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td",[t._v("是否启用")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("查询数据遥测功能是否启用:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/telemetry/status"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enabled"')]),t._v(":true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"get-api-v4-telemetry-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-api-v4-telemetry-data"}},[t._v("#")]),t._v(" GET /api/v4/telemetry/data")]),t._v(" "),a("p",[t._v("获取数据遥测功能上报的数据内容。")]),t._v(" "),a("p",[a("strong",[t._v("Path Parameters:")]),t._v(" 无")]),t._v(" "),a("p",[a("strong",[t._v("Success Response Body (JSON):")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("code")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("0")])]),t._v(" "),a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("遥测数据")])]),t._v(" "),a("tr",[a("td",[t._v("data.uuid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("由时间戳、随机数组成的 UUID")])]),t._v(" "),a("tr",[a("td",[t._v("data.up_time")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("Broker 启动时间，单位为毫秒")])]),t._v(" "),a("tr",[a("td",[t._v("data.otp_version")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Broker 使用的 Erlang OTP 版本")])]),t._v(" "),a("tr",[a("td",[t._v("data.os_version")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("操作系统版本")])]),t._v(" "),a("tr",[a("td",[t._v("data.os_name")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("操作系统名称")])]),t._v(" "),a("tr",[a("td",[t._v("data.num_clients")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("当前连接的客户端数量")])]),t._v(" "),a("tr",[a("td",[t._v("data.nodes_uuid")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("集群中其他节点的 UUID")])]),t._v(" "),a("tr",[a("td",[t._v("data.nodes_uuid[0].uuid")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("集群中其他节点的 UUID")])]),t._v(" "),a("tr",[a("td",[t._v("data.messages_sent")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("发送的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("data.messages_received")]),t._v(" "),a("td",[t._v("Integer")]),t._v(" "),a("td",[t._v("接收的消息数量")])]),t._v(" "),a("tr",[a("td",[t._v("data.license")]),t._v(" "),a("td",[t._v("Objects")]),t._v(" "),a("td",[t._v("证书信息")])]),t._v(" "),a("tr",[a("td",[t._v("data.license.edition")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("版本")])]),t._v(" "),a("tr",[a("td",[t._v("data.emqx_version")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("Broker 版本")])]),t._v(" "),a("tr",[a("td",[t._v("data.active_plugins")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("启用插件列表")])]),t._v(" "),a("tr",[a("td",[t._v("data.active_modules")]),t._v(" "),a("td",[t._v("Array of Objects")]),t._v(" "),a("td",[t._v("启用模块列表")])])])]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("p",[t._v("获取数据遥测功能上报的数据内容:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -i --basic -u admin:public -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/api/v4/telemetry/data"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uuid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"856916F6-ECC1-11EA-87C9-F9385C1F4A9C"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"up_time"')]),t._v(":553357,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"otp_version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"22"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"os_version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.13.6"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"os_name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mac OS X"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"num_clients"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nodes_uuid"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages_sent"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"messages_received"')]),t._v(":0,"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"license"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"edition"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"community"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dev-v4.2-rc.3"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active_plugins"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_telemetry"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_rule_engine"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_retainer"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_recon"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_management"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_dashboard"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"active_modules"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_presence"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_rewrite"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"emqx_mod_acl_internal"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code"')]),t._v(":0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("{% endemqxce %}")])])}),[],!1,null,null,null);s.default=n.exports}}]);