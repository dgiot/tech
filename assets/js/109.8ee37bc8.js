(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{549:function(t,a,e){"use strict";e.r(a);var s=e(7),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),e("h2",{attrs:{id:"_0-怎么报告问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-怎么报告问题"}},[t._v("#")]),t._v(" 0. 怎么报告问题？")]),t._v(" "),e("p",[t._v("如果 FAQ 中的信息不能够帮到您，需要 TDengine 技术团队的技术支持与协助，请将以下两个目录中内容打包：")]),t._v(" "),e("ol",[e("li",[t._v("/var/log/taos （如果没有修改过默认路径）")]),t._v(" "),e("li",[t._v("/etc/taos")])]),t._v(" "),e("p",[t._v("附上必要的问题描述，包括使用的 TDengine 版本信息、平台环境信息、发生该问题的执行操作、出现问题的表征及大概的时间，在 "),e("a",{attrs:{href:"https://github.com/taosdata/TDengine",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),e("OutboundLink")],1),t._v(" 提交Issue。")]),t._v(" "),e("p",[t._v('为了保证有足够的debug信息，如果问题能够重复，请修改/etc/taos/taos.cfg文件，最后面添加一行“debugFlag 135"(不带引号本身），然后重启taosd, 重复问题，然后再递交。也可以通过如下SQL语句，临时设置taosd的日志级别。')]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("    alter dnode <dnode_id> debugFlag 135;\n")])])]),e("p",[t._v("但系统正常运行时，请一定将debugFlag设置为131，否则会产生大量的日志信息，降低系统效率。")]),t._v(" "),e("h2",{attrs:{id:"_1-tdengine2-0之前的版本升级到2-0及以上的版本应该注意什么-☆☆☆"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-tdengine2-0之前的版本升级到2-0及以上的版本应该注意什么-☆☆☆"}},[t._v("#")]),t._v(" 1. TDengine2.0之前的版本升级到2.0及以上的版本应该注意什么？☆☆☆")]),t._v(" "),e("p",[t._v("2.0版本在之前版本的基础上，进行了完全的重构，配置文件和数据文件是不兼容的。在升级之前务必进行如下操作：")]),t._v(" "),e("ol",[e("li",[t._v("删除配置文件，执行 "),e("code",[t._v(" sudo rm -rf /etc/taos/taos.cfg ")])]),t._v(" "),e("li",[t._v("删除日志文件，执行 "),e("code",[t._v(" sudo rm -rf /var/log/taos/ ")])]),t._v(" "),e("li",[t._v("确保数据已经不再需要的前提下，删除数据文件，执行 "),e("code",[t._v(" sudo rm -rf /var/lib/taos/ ")])]),t._v(" "),e("li",[t._v("安装最新稳定版本的TDengine")]),t._v(" "),e("li",[t._v("如果数据需要迁移数据或者数据文件损坏，请联系涛思数据官方技术支持团队，进行协助解决")])]),t._v(" "),e("h2",{attrs:{id:"_2-windows平台下jdbcdriver找不到动态链接库-怎么办"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-windows平台下jdbcdriver找不到动态链接库-怎么办"}},[t._v("#")]),t._v(" 2. Windows平台下JDBCDriver找不到动态链接库，怎么办？")]),t._v(" "),e("p",[t._v("请看为此问题撰写的"),e("a",{attrs:{href:"https://www.taosdata.com/blog/2019/12/03/jdbcdriver%E6%89%BE%E4%B8%8D%E5%88%B0%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/",target:"_blank",rel:"noopener noreferrer"}},[t._v("技术博客"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_3-创建数据表时提示more-dnodes-are-needed"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建数据表时提示more-dnodes-are-needed"}},[t._v("#")]),t._v(" 3. 创建数据表时提示more dnodes are needed")]),t._v(" "),e("p",[t._v("请看为此问题撰写的"),e("a",{attrs:{href:"https://www.taosdata.com/blog/2019/12/03/%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8%E6%97%B6%E6%8F%90%E7%A4%BAmore-dnodes-are-needed/",target:"_blank",rel:"noopener noreferrer"}},[t._v("技术博客"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_4-如何让tdengine-crash时生成core文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-如何让tdengine-crash时生成core文件"}},[t._v("#")]),t._v(" 4. 如何让TDengine crash时生成core文件？")]),t._v(" "),e("p",[t._v("请看为此问题撰写的"),e("a",{attrs:{href:"https://www.taosdata.com/blog/2019/12/06/tdengine-crash%E6%97%B6%E7%94%9F%E6%88%90core%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95/",target:"_blank",rel:"noopener noreferrer"}},[t._v("技术博客"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_5-遇到错误-unable-to-establish-connection-我怎么办"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-遇到错误-unable-to-establish-connection-我怎么办"}},[t._v("#")]),t._v(' 5. 遇到错误"Unable to establish connection", 我怎么办？')]),t._v(" "),e("p",[t._v("客户端遇到连接故障，请按照下面的步骤进行检查：")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("检查网络环境")]),t._v(" "),e("ul",[e("li",[t._v("云服务器：检查云服务器的安全组是否打开TCP/UDP 端口6030-6042的访问权限")]),t._v(" "),e("li",[t._v("本地虚拟机：检查网络能否ping通，尽量避免使用"),e("code",[t._v("localhost")]),t._v(" 作为hostname")]),t._v(" "),e("li",[t._v("公司服务器：如果为NAT网络环境，请务必检查服务器能否将消息返回值客户端")])])]),t._v(" "),e("li",[e("p",[t._v("确保客户端与服务端版本号是完全一致的，开源社区版和企业版也不能混用")])]),t._v(" "),e("li",[e("p",[t._v("在服务器，执行 "),e("code",[t._v("systemctl status taosd")]),t._v(" 检查"),e("em",[t._v("taosd")]),t._v("运行状态。如果没有运行，启动"),e("em",[t._v("taosd")])])]),t._v(" "),e("li",[e("p",[t._v("确认客户端连接时指定了正确的服务器FQDN (Fully Qualified Domain Name(可在服务器上执行Linux命令hostname -f获得)）,FQDN配置参考："),e("a",{attrs:{href:"https://www.taosdata.com/blog/2020/09/11/1824.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("一篇文章说清楚TDengine的FQDN"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("li",[e("p",[t._v("ping服务器FQDN，如果没有反应，请检查你的网络，DNS设置，或客户端所在计算机的系统hosts文件")])]),t._v(" "),e("li",[e("p",[t._v("检查防火墙设置（Ubuntu 使用 ufw status，CentOS 使用 firewall-cmd --list-port），确认TCP/UDP 端口6030-6042 是打开的")])]),t._v(" "),e("li",[e("p",[t._v("对于Linux上的JDBC（ODBC, Python, Go等接口类似）连接, 确保"),e("em",[t._v("libtaos.so")]),t._v("在目录*/usr/local/taos/driver"),e("em",[t._v("里, 并且")]),t._v("/usr/local/taos/driver"),e("em",[t._v("在系统库函数搜索路径")]),t._v("LD_LIBRARY_PATH*里")])]),t._v(" "),e("li",[e("p",[t._v("对于windows上的JDBC, ODBC, Python, Go等连接，确保"),e("em",[t._v("C:\\TDengine\\driver\\taos.dll")]),t._v("在你的系统库函数搜索目录里 (建议"),e("em",[t._v("taos.dll")]),t._v("放在目录 "),e("em",[t._v("C:\\Windows\\System32")]),t._v(")")])]),t._v(" "),e("li",[e("p",[t._v("如果仍不能排除连接故障")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Linux 系统请使用命令行工具nc来分别判断指定端口的TCP和UDP连接是否通畅\n检查UDP端口连接是否工作："),e("code",[t._v("nc -vuz {hostIP} {port}")]),t._v("\n检查服务器侧TCP端口连接是否工作："),e("code",[t._v("nc -l {port}")]),t._v("\n检查客户端侧TCP端口连接是否工作："),e("code",[t._v("nc {hostIP} {port}")])])]),t._v(" "),e("li",[e("p",[t._v("Windows 系统请使用 PowerShell 命令 Net-TestConnection -ComputerName {fqdn} -Port {port} 检测服务段端口是否访问")])])])]),t._v(" "),e("li",[e("p",[t._v("也可以使用taos程序内嵌的网络连通检测功能，来验证服务器和客户端之间指定的端口连接是否通畅（包括TCP和UDP）："),e("a",{attrs:{href:"https://www.taosdata.com/blog/2020/09/08/1816.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("TDengine 内嵌网络检测工具使用指南"),e("OutboundLink")],1),t._v("。")])])]),t._v(" "),e("h2",{attrs:{id:"_6-遇到错误-unexpected-generic-error-in-rpc-或者-tdengine-error-unable-to-resolve-fqdn-我怎么办"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-遇到错误-unexpected-generic-error-in-rpc-或者-tdengine-error-unable-to-resolve-fqdn-我怎么办"}},[t._v("#")]),t._v(' 6. 遇到错误“Unexpected generic error in RPC”或者"TDengine Error: Unable to resolve FQDN"， 我怎么办？')]),t._v(" "),e("p",[t._v("产生这个错误，是由于客户端或数据节点无法解析FQDN(Fully Qualified Domain Name)导致。对于TAOS Shell或客户端应用，请做如下检查：")]),t._v(" "),e("ol",[e("li",[t._v("请检查连接的服务器的FQDN是否正确,FQDN配置参考："),e("a",{attrs:{href:"https://www.taosdata.com/blog/2020/09/11/1824.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("一篇文章说清楚TDengine的FQDN"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("li",[t._v("如果网络配置有DNS server, 请检查是否正常工作")]),t._v(" "),e("li",[t._v("如果网络没有配置DNS server, 请检查客户端所在机器的hosts文件，查看该FQDN是否配置，并是否有正确的IP地址。")]),t._v(" "),e("li",[t._v("如果网络配置OK，从客户端所在机器，你需要能Ping该连接的FQDN，否则客户端是无法连接服务器的")])]),t._v(" "),e("h2",{attrs:{id:"_7-虽然语法正确-为什么我还是得到-invalid-sql-错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-虽然语法正确-为什么我还是得到-invalid-sql-错误"}},[t._v("#")]),t._v(' 7. 虽然语法正确，为什么我还是得到 "Invalid SQL" 错误')]),t._v(" "),e("p",[t._v("如果你确认语法正确，2.0之前版本，请检查SQL语句长度是否超过64K。如果超过，也会返回这个错误。")]),t._v(" "),e("h2",{attrs:{id:"_8-是否支持validation-queries"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-是否支持validation-queries"}},[t._v("#")]),t._v(" 8. 是否支持validation queries?")]),t._v(" "),e("p",[t._v('TDengine还没有一组专用的validation queries。然而建议你使用系统监测的数据库”log"来做。')]),t._v(" "),e("h2",{attrs:{id:"_9-我可以删除或更新一条记录吗"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-我可以删除或更新一条记录吗"}},[t._v("#")]),t._v(" 9. 我可以删除或更新一条记录吗？")]),t._v(" "),e("p",[t._v("TDengine 目前尚不支持删除功能，未来根据用户需求可能会支持。")]),t._v(" "),e("p",[t._v("从 2.0.8.0 开始，TDengine 支持更新已经写入数据的功能。使用更新功能需要在创建数据库时使用 UPDATE 1 参数，之后可以使用 INSERT INTO 命令更新已经写入的相同时间戳数据。UPDATE 参数不支持 ALTER DATABASE 命令修改。没有使用 UPDATE 1 参数创建的数据库，写入相同时间戳的数据不会修改之前的数据，也不会报错。")]),t._v(" "),e("h2",{attrs:{id:"_10-我怎么创建超过1024列的表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-我怎么创建超过1024列的表"}},[t._v("#")]),t._v(" 10. 我怎么创建超过1024列的表？")]),t._v(" "),e("p",[t._v("使用2.0及其以上版本，默认支持1024列；2.0之前的版本，TDengine最大允许创建250列的表。但是如果确实超过限值，建议按照数据特性，逻辑地将这个宽表分解成几个小表。")]),t._v(" "),e("h2",{attrs:{id:"_10-最有效的写入数据的方法是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-最有效的写入数据的方法是什么"}},[t._v("#")]),t._v(" 10. 最有效的写入数据的方法是什么？")]),t._v(" "),e("p",[t._v("批量插入。每条写入语句可以一张表同时插入多条记录，也可以同时插入多张表的多条记录。")]),t._v(" "),e("h2",{attrs:{id:"_11-最有效的写入数据的方法是什么-windows系统下插入的nchar类数据中的汉字被解析成了乱码如何解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-最有效的写入数据的方法是什么-windows系统下插入的nchar类数据中的汉字被解析成了乱码如何解决"}},[t._v("#")]),t._v(" 11. 最有效的写入数据的方法是什么？windows系统下插入的nchar类数据中的汉字被解析成了乱码如何解决？")]),t._v(" "),e("p",[t._v("Windows下插入nchar类的数据中如果有中文，请先确认系统的地区设置成了中国（在Control Panel里可以设置），这时cmd中的"),e("code",[t._v("taos")]),t._v("客户端应该已经可以正常工作了；如果是在IDE里开发Java应用，比如Eclipse， Intellij，请确认IDE里的文件编码为GBK（这是Java默认的编码类型），然后在生成Connection时，初始化客户端的配置，具体语句如下：")]),t._v(" "),e("div",{staticClass:"language-JAVA extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("forName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"com.taosdata.jdbc.TSDBDriver"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" properties "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nproperties"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TSDBDriver")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LOCALE_KEY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UTF-8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Connection")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DriverManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getConnection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" properties"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"_12-tdengine-go-windows驱动的如何编译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-tdengine-go-windows驱动的如何编译"}},[t._v("#")]),t._v(" 12.TDengine GO windows驱动的如何编译？")]),t._v(" "),e("p",[t._v("请看为此问题撰写的"),e("a",{attrs:{href:"https://www.taosdata.com/blog/2020/01/06/tdengine-go-windows%E9%A9%B1%E5%8A%A8%E7%9A%84%E7%BC%96%E8%AF%91/",target:"_blank",rel:"noopener noreferrer"}},[t._v("技术博客"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_13-jdbc报错-the-excuted-sql-is-not-a-dml-or-a-ddl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-jdbc报错-the-excuted-sql-is-not-a-dml-or-a-ddl"}},[t._v("#")]),t._v(" 13.JDBC报错： the excuted SQL is not a DML or a DDL？")]),t._v(" "),e("p",[t._v("请更新至最新的JDBC驱动")]),t._v(" "),e("div",{staticClass:"language-JAVA extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token generics"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token generics"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("taosdata"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jdbc"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("groupId"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token generics"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("taos"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jdbcdriver"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("artifactId"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token generics"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.0")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("version"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dependency"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("h2",{attrs:{id:"_14-taos-connect-failed-reason-invalid-timestamp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_14-taos-connect-failed-reason-invalid-timestamp"}},[t._v("#")]),t._v(" 14. taos connect failed, reason: invalid timestamp")]),t._v(" "),e("p",[t._v("常见原因是服务器和客户端时间没有校准，可以通过和时间服务器同步的方式（Linux 下使用 ntpdate 命令，Windows 在系统时间设置中选择自动同步）校准。")]),t._v(" "),e("h2",{attrs:{id:"_15-表名显示不全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-表名显示不全"}},[t._v("#")]),t._v(" 15. 表名显示不全")]),t._v(" "),e("p",[t._v("由于 taos shell 在终端中显示宽度有限，有可能比较长的表名显示不全，如果按照显示的不全的表名进行相关操作会发生 Table does not exist 错误。解决方法可以是通过修改 taos.cfg 文件中的设置项 maxBinaryDisplayWidth， 或者直接输入命令 set max_binary_display_width 100。或者在命令结尾使用 \\G 参数来调整结果的显示方式。")]),t._v(" "),e("h2",{attrs:{id:"_16-如何进行数据迁移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-如何进行数据迁移"}},[t._v("#")]),t._v(" 16. 如何进行数据迁移？")]),t._v(" "),e("p",[t._v("TDengine是根据hostname唯一标志一台机器的，在数据文件从机器A移动机器B时，注意如下两件事：")]),t._v(" "),e("ul",[e("li",[t._v("2.0.0.0 至 2.0.6.x 的版本，重新配置机器B的hostname为机器A的hostname")]),t._v(" "),e("li",[t._v("2.0.7.0 及以后的版本，到/var/lib/taos/dnode下，修复dnodeEps.json的dnodeId对应的FQDN，重启。确保机器内所有机器的此文件是完全相同的。")]),t._v(" "),e("li",[t._v("1.x 和 2.x 版本的存储结构不兼容，需要使用迁移工具或者自己开发应用导出导入数据。")])]),t._v(" "),e("h2",{attrs:{id:"_17-如何在命令行程序-taos-中临时调整日志级别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_17-如何在命令行程序-taos-中临时调整日志级别"}},[t._v("#")]),t._v(" 17. 如何在命令行程序 taos 中临时调整日志级别")]),t._v(" "),e("p",[t._v("为了调试方便，从 2.0.16 版本开始，命令行程序 taos 新增了与日志记录相关的两条指令：")]),t._v(" "),e("div",{staticClass:"language-mysql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ALTER LOCAL flag_name flag_value;\n")])])]),e("p",[t._v("其含义是，在当前的命令行程序下，修改一个特定模块的日志记录级别（只对当前命令行程序有效，如果 taos 命令行程序重启，则需要重新设置）：")]),t._v(" "),e("ul",[e("li",[t._v("flag_name 的取值可以是：debugFlag，cDebugFlag，tmrDebugFlag，uDebugFlag，rpcDebugFlag")]),t._v(" "),e("li",[t._v("flag_value 的取值可以是：131（输出错误和警告日志），135（ 输出错误、警告和调试日志），143（ 输出错误、警告、调试和跟踪日志）")])]),t._v(" "),e("div",{staticClass:"language-mysql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ALTER LOCAL RESETLOG;\n")])])]),e("p",[t._v("其含义是，清空本机所有由客户端生成的日志文件。")])])}),[],!1,null,null,null);a.default=r.exports}}]);