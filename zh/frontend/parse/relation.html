<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>对象关系 | 数蛙技术团队</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1279876880&amp;web_id=1279876880"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="数蛙科技是一家致力于提供物联网垂直领域应用使能平台及解决方案的创新型公司。">
    <meta name="referrer" content="never">
    
    <link rel="preload" href="/assets/css/0.styles.30e04dfa.css" as="style"><link rel="preload" href="/assets/js/app.cae30ac7.js" as="script"><link rel="preload" href="/assets/js/7.5b24c3a5.js" as="script"><link rel="preload" href="/assets/js/5.7fd7e714.js" as="script"><link rel="preload" href="/assets/js/116.fc1e77bc.js" as="script"><link rel="prefetch" href="/assets/js/10.62caf3d8.js"><link rel="prefetch" href="/assets/js/100.41a991cf.js"><link rel="prefetch" href="/assets/js/101.793606ac.js"><link rel="prefetch" href="/assets/js/102.1ab08e07.js"><link rel="prefetch" href="/assets/js/103.d74d27d5.js"><link rel="prefetch" href="/assets/js/104.e8db623f.js"><link rel="prefetch" href="/assets/js/105.0e30d8c3.js"><link rel="prefetch" href="/assets/js/106.6326febd.js"><link rel="prefetch" href="/assets/js/107.3d2a98b8.js"><link rel="prefetch" href="/assets/js/108.89ef46ac.js"><link rel="prefetch" href="/assets/js/109.ab726492.js"><link rel="prefetch" href="/assets/js/11.5a838491.js"><link rel="prefetch" href="/assets/js/110.0e7972ba.js"><link rel="prefetch" href="/assets/js/111.95d55777.js"><link rel="prefetch" href="/assets/js/112.54168525.js"><link rel="prefetch" href="/assets/js/113.0fde5c8d.js"><link rel="prefetch" href="/assets/js/114.d25bfa2a.js"><link rel="prefetch" href="/assets/js/115.0b6dfb6b.js"><link rel="prefetch" href="/assets/js/117.92a2bbaa.js"><link rel="prefetch" href="/assets/js/118.82481221.js"><link rel="prefetch" href="/assets/js/119.8bc466f5.js"><link rel="prefetch" href="/assets/js/12.f4c8bad1.js"><link rel="prefetch" href="/assets/js/120.81a07022.js"><link rel="prefetch" href="/assets/js/121.46d33a3b.js"><link rel="prefetch" href="/assets/js/122.76ea41a0.js"><link rel="prefetch" href="/assets/js/123.c5a41494.js"><link rel="prefetch" href="/assets/js/124.fffd6a9f.js"><link rel="prefetch" href="/assets/js/125.32d8e72f.js"><link rel="prefetch" href="/assets/js/126.3dbf9d44.js"><link rel="prefetch" href="/assets/js/127.2a398482.js"><link rel="prefetch" href="/assets/js/128.ddea611a.js"><link rel="prefetch" href="/assets/js/129.dc9fb181.js"><link rel="prefetch" href="/assets/js/13.1a4ce8c3.js"><link rel="prefetch" href="/assets/js/130.0afb6681.js"><link rel="prefetch" href="/assets/js/131.17fe9c4d.js"><link rel="prefetch" href="/assets/js/132.283a6aa8.js"><link rel="prefetch" href="/assets/js/133.97b7f282.js"><link rel="prefetch" href="/assets/js/134.e31416bb.js"><link rel="prefetch" href="/assets/js/135.c923ead8.js"><link rel="prefetch" href="/assets/js/136.d5c091b4.js"><link rel="prefetch" href="/assets/js/137.327e04ac.js"><link rel="prefetch" href="/assets/js/138.7b915dd1.js"><link rel="prefetch" href="/assets/js/139.95c3ca05.js"><link rel="prefetch" href="/assets/js/14.6b2cf9a8.js"><link rel="prefetch" href="/assets/js/140.7eb03ee4.js"><link rel="prefetch" href="/assets/js/141.bf6a3d71.js"><link rel="prefetch" href="/assets/js/142.4bb62b00.js"><link rel="prefetch" href="/assets/js/143.19ab508d.js"><link rel="prefetch" href="/assets/js/144.b1786c02.js"><link rel="prefetch" href="/assets/js/145.68281933.js"><link rel="prefetch" href="/assets/js/146.0ae27f9d.js"><link rel="prefetch" href="/assets/js/147.87740ce3.js"><link rel="prefetch" href="/assets/js/148.d0efa2ce.js"><link rel="prefetch" href="/assets/js/149.b28f14bb.js"><link rel="prefetch" href="/assets/js/15.362a57ae.js"><link rel="prefetch" href="/assets/js/150.b2f1d371.js"><link rel="prefetch" href="/assets/js/151.d7fd9324.js"><link rel="prefetch" href="/assets/js/152.b33c63aa.js"><link rel="prefetch" href="/assets/js/153.c68c20e5.js"><link rel="prefetch" href="/assets/js/154.75978296.js"><link rel="prefetch" href="/assets/js/155.b2573e32.js"><link rel="prefetch" href="/assets/js/156.d20364e8.js"><link rel="prefetch" href="/assets/js/157.ff541e45.js"><link rel="prefetch" href="/assets/js/158.9675e1e9.js"><link rel="prefetch" href="/assets/js/159.19bebba7.js"><link rel="prefetch" href="/assets/js/16.3e326f12.js"><link rel="prefetch" href="/assets/js/160.1ab861f0.js"><link rel="prefetch" href="/assets/js/161.f9e18eae.js"><link rel="prefetch" href="/assets/js/162.42d2f459.js"><link rel="prefetch" href="/assets/js/163.06bf73b3.js"><link rel="prefetch" href="/assets/js/164.f1cb2f25.js"><link rel="prefetch" href="/assets/js/165.06519f26.js"><link rel="prefetch" href="/assets/js/166.ab96e3af.js"><link rel="prefetch" href="/assets/js/167.c9979ea1.js"><link rel="prefetch" href="/assets/js/168.05e77523.js"><link rel="prefetch" href="/assets/js/169.8238e03f.js"><link rel="prefetch" href="/assets/js/17.d04ffa32.js"><link rel="prefetch" href="/assets/js/170.8997bb8d.js"><link rel="prefetch" href="/assets/js/171.78871d9a.js"><link rel="prefetch" href="/assets/js/172.4cd87fed.js"><link rel="prefetch" href="/assets/js/173.e330b0b0.js"><link rel="prefetch" href="/assets/js/174.2404ca4c.js"><link rel="prefetch" href="/assets/js/175.13c08107.js"><link rel="prefetch" href="/assets/js/176.766a53ae.js"><link rel="prefetch" href="/assets/js/177.6da8df96.js"><link rel="prefetch" href="/assets/js/178.2d676bc2.js"><link rel="prefetch" href="/assets/js/179.9bcd85c7.js"><link rel="prefetch" href="/assets/js/18.e704569f.js"><link rel="prefetch" href="/assets/js/180.6451ac33.js"><link rel="prefetch" href="/assets/js/181.92dd325d.js"><link rel="prefetch" href="/assets/js/182.c8f7207f.js"><link rel="prefetch" href="/assets/js/183.78d7312d.js"><link rel="prefetch" href="/assets/js/184.3317c1cb.js"><link rel="prefetch" href="/assets/js/185.8128eb7f.js"><link rel="prefetch" href="/assets/js/186.eb06ccad.js"><link rel="prefetch" href="/assets/js/187.0d17001f.js"><link rel="prefetch" href="/assets/js/188.833657d7.js"><link rel="prefetch" href="/assets/js/189.026cb254.js"><link rel="prefetch" href="/assets/js/19.d23d7910.js"><link rel="prefetch" href="/assets/js/190.7d76024c.js"><link rel="prefetch" href="/assets/js/191.419b5193.js"><link rel="prefetch" href="/assets/js/192.451e0725.js"><link rel="prefetch" href="/assets/js/193.2db7e1a7.js"><link rel="prefetch" href="/assets/js/194.fb32b747.js"><link rel="prefetch" href="/assets/js/195.ed4393da.js"><link rel="prefetch" href="/assets/js/196.90fe2b30.js"><link rel="prefetch" href="/assets/js/197.cfb5c64c.js"><link rel="prefetch" href="/assets/js/198.ae595b31.js"><link rel="prefetch" href="/assets/js/199.cf1553ba.js"><link rel="prefetch" href="/assets/js/20.f1aacde5.js"><link rel="prefetch" href="/assets/js/200.8ed4a41c.js"><link rel="prefetch" href="/assets/js/201.f2e9d0e6.js"><link rel="prefetch" href="/assets/js/202.b8d8f1fe.js"><link rel="prefetch" href="/assets/js/203.7b7f0e44.js"><link rel="prefetch" href="/assets/js/204.376f9524.js"><link rel="prefetch" href="/assets/js/205.e30060b9.js"><link rel="prefetch" href="/assets/js/206.30504235.js"><link rel="prefetch" href="/assets/js/207.7edd3f76.js"><link rel="prefetch" href="/assets/js/208.e4a955ec.js"><link rel="prefetch" href="/assets/js/209.dbcd642e.js"><link rel="prefetch" href="/assets/js/21.d6352ddc.js"><link rel="prefetch" href="/assets/js/210.9b10a244.js"><link rel="prefetch" href="/assets/js/211.336f4943.js"><link rel="prefetch" href="/assets/js/212.6ed2530c.js"><link rel="prefetch" href="/assets/js/213.8b2a89e2.js"><link rel="prefetch" href="/assets/js/214.1c25da5f.js"><link rel="prefetch" href="/assets/js/215.11173b07.js"><link rel="prefetch" href="/assets/js/216.5a124825.js"><link rel="prefetch" href="/assets/js/217.eca4ffaf.js"><link rel="prefetch" href="/assets/js/218.b6034e1c.js"><link rel="prefetch" href="/assets/js/219.a013ac0e.js"><link rel="prefetch" href="/assets/js/22.b814d20f.js"><link rel="prefetch" href="/assets/js/220.9c6b0501.js"><link rel="prefetch" href="/assets/js/221.0c735561.js"><link rel="prefetch" href="/assets/js/222.2f1f4bae.js"><link rel="prefetch" href="/assets/js/223.ec13dcba.js"><link rel="prefetch" href="/assets/js/224.dd70249c.js"><link rel="prefetch" href="/assets/js/225.ec03833b.js"><link rel="prefetch" href="/assets/js/226.9325f80c.js"><link rel="prefetch" href="/assets/js/227.81e9482a.js"><link rel="prefetch" href="/assets/js/228.01c55f35.js"><link rel="prefetch" href="/assets/js/229.d3a8c831.js"><link rel="prefetch" href="/assets/js/23.742167d4.js"><link rel="prefetch" href="/assets/js/230.60b58e8b.js"><link rel="prefetch" href="/assets/js/231.6ea81e3f.js"><link rel="prefetch" href="/assets/js/232.0c2f3bc0.js"><link rel="prefetch" href="/assets/js/233.c0ae0625.js"><link rel="prefetch" href="/assets/js/234.7d63076b.js"><link rel="prefetch" href="/assets/js/235.318c482b.js"><link rel="prefetch" href="/assets/js/236.ee0e2477.js"><link rel="prefetch" href="/assets/js/237.478c2297.js"><link rel="prefetch" href="/assets/js/238.50084307.js"><link rel="prefetch" href="/assets/js/239.fa0b9b55.js"><link rel="prefetch" href="/assets/js/24.fe4b1f8e.js"><link rel="prefetch" href="/assets/js/240.c18aaccb.js"><link rel="prefetch" href="/assets/js/241.806c1aa8.js"><link rel="prefetch" href="/assets/js/242.47a0e807.js"><link rel="prefetch" href="/assets/js/243.eb9f89c1.js"><link rel="prefetch" href="/assets/js/244.a7e88a2c.js"><link rel="prefetch" href="/assets/js/245.1bb60083.js"><link rel="prefetch" href="/assets/js/246.da3162a3.js"><link rel="prefetch" href="/assets/js/247.10a1c0fa.js"><link rel="prefetch" href="/assets/js/248.54c33457.js"><link rel="prefetch" href="/assets/js/249.cdfdd5d7.js"><link rel="prefetch" href="/assets/js/25.eaf90b73.js"><link rel="prefetch" href="/assets/js/250.693dfb9e.js"><link rel="prefetch" href="/assets/js/251.402ce2ae.js"><link rel="prefetch" href="/assets/js/252.cdcd583c.js"><link rel="prefetch" href="/assets/js/253.5a4db6bb.js"><link rel="prefetch" href="/assets/js/254.d5887e14.js"><link rel="prefetch" href="/assets/js/255.0f35be01.js"><link rel="prefetch" href="/assets/js/256.c56801e4.js"><link rel="prefetch" href="/assets/js/257.9bfca7bb.js"><link rel="prefetch" href="/assets/js/258.f05e2b00.js"><link rel="prefetch" href="/assets/js/259.2393514e.js"><link rel="prefetch" href="/assets/js/26.30dcc348.js"><link rel="prefetch" href="/assets/js/260.26d66ac5.js"><link rel="prefetch" href="/assets/js/261.6ae6f89c.js"><link rel="prefetch" href="/assets/js/262.5c88302d.js"><link rel="prefetch" href="/assets/js/263.6c474bf6.js"><link rel="prefetch" href="/assets/js/264.5137ed8c.js"><link rel="prefetch" href="/assets/js/265.29a169ba.js"><link rel="prefetch" href="/assets/js/266.e8b9590c.js"><link rel="prefetch" href="/assets/js/267.fb31cd45.js"><link rel="prefetch" href="/assets/js/268.4a646815.js"><link rel="prefetch" href="/assets/js/269.a600c8bc.js"><link rel="prefetch" href="/assets/js/27.6219b1fb.js"><link rel="prefetch" href="/assets/js/270.11e5a6ff.js"><link rel="prefetch" href="/assets/js/271.75303dc2.js"><link rel="prefetch" href="/assets/js/272.27ed9b64.js"><link rel="prefetch" href="/assets/js/273.e976b7f0.js"><link rel="prefetch" href="/assets/js/274.b7f08f46.js"><link rel="prefetch" href="/assets/js/275.ed766a1a.js"><link rel="prefetch" href="/assets/js/276.90d591a7.js"><link rel="prefetch" href="/assets/js/277.9b96d5fa.js"><link rel="prefetch" href="/assets/js/278.0f59063b.js"><link rel="prefetch" href="/assets/js/28.fb38ecdf.js"><link rel="prefetch" href="/assets/js/29.4ef5adc0.js"><link rel="prefetch" href="/assets/js/30.ead0b8ea.js"><link rel="prefetch" href="/assets/js/31.f8831c2f.js"><link rel="prefetch" href="/assets/js/32.1bf8b2f8.js"><link rel="prefetch" href="/assets/js/33.01e7cfc2.js"><link rel="prefetch" href="/assets/js/34.d6942c64.js"><link rel="prefetch" href="/assets/js/35.ad35a726.js"><link rel="prefetch" href="/assets/js/36.7c253cef.js"><link rel="prefetch" href="/assets/js/37.4d561a56.js"><link rel="prefetch" href="/assets/js/38.f819d8f2.js"><link rel="prefetch" href="/assets/js/39.08770cfa.js"><link rel="prefetch" href="/assets/js/40.d0cc0175.js"><link rel="prefetch" href="/assets/js/41.a74db857.js"><link rel="prefetch" href="/assets/js/42.71264edc.js"><link rel="prefetch" href="/assets/js/43.fbb3f834.js"><link rel="prefetch" href="/assets/js/44.fff24446.js"><link rel="prefetch" href="/assets/js/45.0257073c.js"><link rel="prefetch" href="/assets/js/46.773a77a4.js"><link rel="prefetch" href="/assets/js/47.a7ad5d95.js"><link rel="prefetch" href="/assets/js/48.93b47b97.js"><link rel="prefetch" href="/assets/js/49.35a05694.js"><link rel="prefetch" href="/assets/js/50.c926dde9.js"><link rel="prefetch" href="/assets/js/51.122b50e9.js"><link rel="prefetch" href="/assets/js/52.7ec3b3e9.js"><link rel="prefetch" href="/assets/js/53.821a6e1a.js"><link rel="prefetch" href="/assets/js/54.b6528d66.js"><link rel="prefetch" href="/assets/js/55.5cab16db.js"><link rel="prefetch" href="/assets/js/56.d9b6e4f9.js"><link rel="prefetch" href="/assets/js/57.86b52e5f.js"><link rel="prefetch" href="/assets/js/58.c3429ecd.js"><link rel="prefetch" href="/assets/js/59.85e56f88.js"><link rel="prefetch" href="/assets/js/6.300c849a.js"><link rel="prefetch" href="/assets/js/60.f5248f17.js"><link rel="prefetch" href="/assets/js/61.0298b597.js"><link rel="prefetch" href="/assets/js/62.4cd45563.js"><link rel="prefetch" href="/assets/js/63.8afb6a57.js"><link rel="prefetch" href="/assets/js/64.0defe1fa.js"><link rel="prefetch" href="/assets/js/65.6b0afb59.js"><link rel="prefetch" href="/assets/js/66.39ee9f9f.js"><link rel="prefetch" href="/assets/js/67.4f5c6701.js"><link rel="prefetch" href="/assets/js/68.c4eb2d25.js"><link rel="prefetch" href="/assets/js/69.50c1863d.js"><link rel="prefetch" href="/assets/js/70.72fbcd1c.js"><link rel="prefetch" href="/assets/js/71.c07a0fd2.js"><link rel="prefetch" href="/assets/js/72.c1e58979.js"><link rel="prefetch" href="/assets/js/73.77ebe771.js"><link rel="prefetch" href="/assets/js/74.dfcbe292.js"><link rel="prefetch" href="/assets/js/75.3eb8823c.js"><link rel="prefetch" href="/assets/js/76.223106ba.js"><link rel="prefetch" href="/assets/js/77.0f2bc4f2.js"><link rel="prefetch" href="/assets/js/78.52b15e1d.js"><link rel="prefetch" href="/assets/js/79.7673e049.js"><link rel="prefetch" href="/assets/js/8.cb709667.js"><link rel="prefetch" href="/assets/js/80.abf84cfb.js"><link rel="prefetch" href="/assets/js/81.691e80c2.js"><link rel="prefetch" href="/assets/js/82.aa4a47ff.js"><link rel="prefetch" href="/assets/js/83.e1ee7e29.js"><link rel="prefetch" href="/assets/js/84.aceb9c03.js"><link rel="prefetch" href="/assets/js/85.a8ae9e6f.js"><link rel="prefetch" href="/assets/js/86.ae794988.js"><link rel="prefetch" href="/assets/js/87.6d13921d.js"><link rel="prefetch" href="/assets/js/88.12fb5865.js"><link rel="prefetch" href="/assets/js/89.c72fc4db.js"><link rel="prefetch" href="/assets/js/9.cfab03b0.js"><link rel="prefetch" href="/assets/js/90.76c8f59a.js"><link rel="prefetch" href="/assets/js/91.5eed03ed.js"><link rel="prefetch" href="/assets/js/92.43e03ad0.js"><link rel="prefetch" href="/assets/js/93.c1a6699a.js"><link rel="prefetch" href="/assets/js/94.cc34e051.js"><link rel="prefetch" href="/assets/js/95.5c230a10.js"><link rel="prefetch" href="/assets/js/96.e0c1c420.js"><link rel="prefetch" href="/assets/js/97.581e6166.js"><link rel="prefetch" href="/assets/js/98.219eb4ae.js"><link rel="prefetch" href="/assets/js/99.90422682.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8d7743fe.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.f20d812e.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.751a6989.js">
    <link rel="stylesheet" href="/assets/css/0.styles.30e04dfa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">数蛙技术团队</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link router-link-active">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/frontend/parse/relation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link router-link-active">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/frontend/parse/relation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div style="padding-left:1.5rem;"><div></div></div> <ul class="sidebar-links"><li><a href="/zh/frontend/" aria-current="page" class="sidebar-link">交互技术</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>云组态</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>安卓App</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>苹果App</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微信小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Konva</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Parse-Server</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/frontend/parse/parse.html" class="sidebar-link">简介</a></li><li><a href="/zh/frontend/parse/get-started.html" class="sidebar-link">开始</a></li><li><a href="/zh/frontend/parse/Object.html" class="sidebar-link">对象Objects</a></li><li><a href="/zh/frontend/parse/Query.html" class="sidebar-link">查询Queries</a></li><li><a href="/zh/frontend/parse/Live Query.html" class="sidebar-link">实时查询Live Queries</a></li><li><a href="/zh/frontend/parse/Users.html" class="sidebar-link">用户Users</a></li><li><a href="/zh/frontend/parse/Session.html" class="sidebar-link">会话Session</a></li><li><a href="/zh/frontend/parse/Roles.html" class="sidebar-link">角色Roles</a></li><li><a href="/zh/frontend/parse/Files.html" class="sidebar-link">角色Files</a></li><li><a href="/zh/frontend/parse/Promise.html" class="sidebar-link">链式写法Promise</a></li><li><a href="/zh/frontend/parse/Geo Point.html" class="sidebar-link">坐标GeoPoint</a></li><li><a href="/zh/frontend/parse/config.html" class="sidebar-link">配置Config</a></li><li><a href="/zh/frontend/parse/analytics.html" class="sidebar-link">分析analytics</a></li><li><a href="/zh/frontend/parse/data.html" class="sidebar-link">分析data</a></li><li><a href="/zh/frontend/parse/relation.html" aria-current="page" class="active sidebar-link">对象关系relation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#一对多关系" class="sidebar-link">一对多关系</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#使用指针" class="sidebar-link">使用指针</a></li><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#使用数组" class="sidebar-link">使用数组</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#多对多关系" class="sidebar-link">多对多关系</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#使用parse-realtion" class="sidebar-link">使用Parse.Realtion</a></li><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#使用指针-2" class="sidebar-link">使用指针</a></li><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#使用数组-2" class="sidebar-link">使用数组</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/frontend/parse/relation.html#一对一关系" class="sidebar-link">一对一关系</a></li></ul></li><li><a href="/zh/frontend/parse/error-handling.html" class="sidebar-link">错误处理error-handling</a></li><li><a href="/zh/frontend/parse/security.html" class="sidebar-link">安全security</a></li><li><a href="/zh/frontend/parse/performance.html" class="sidebar-link">性能performance</a></li><li><a href="/zh/frontend/parse/error-code.html" class="sidebar-link">错误码error-code</a></li><li><a href="/zh/frontend/parse/parseserver.html" class="sidebar-link">番外: ParseServer配置指南</a></li><li><a href="/zh/frontend/parse/dashboard.html" class="sidebar-link">番外: 仪表盘配置指南</a></li><li><a href="/zh/frontend/parse/cloudcode.html" class="sidebar-link">番外: 云代码使用指南</a></li></ul></section></li></ul> </aside> <!----> <!----> <main class="page"><div class="theme-default-content" style="margin-top:3.6rem;padding-top:0;padding-bottom:0;"></div> <div class="theme-default-content"><div class="content__default"><h1 id="对象关系"><a href="#对象关系" class="header-anchor">#</a> 对象关系</h1> <p>对象关系有三种。一对一关系，即一个对象关联另一个对象的关系；一对多关系，即多个对象关联一个对象的关系；多对多关系，即多个对象中复杂的关系。</p> <p>有4种方法在Parse中建立对象关系：</p> <h2 id="一对多关系"><a href="#一对多关系" class="header-anchor">#</a> 一对多关系</h2> <p>如果你想使用指针或数组来实现一对多的关系，有几个因素需要考虑。首先要考虑，这种关系中涉及多少个对象，如果子对象数量多余100个，推荐使用一对多的关系，如果少于100个，使用数组可能更方便，尤其是你想根据父对象一次获取所有子对象的时候。</p> <h3 id="使用指针"><a href="#使用指针" class="header-anchor">#</a> <em>使用指针</em></h3> <p>假设我们有一个游戏应用，要跟踪玩家的分数和成就，在Parse中，我们可以把这些数据保存在Game对象中。如果这个游戏非常成功，所有玩家可能会存储几千个Game对象到系统中，对于这样的情况，子对象的数量可能任意大，指针就是最合适的选择。</p> <p>要实现这样的游戏应用，我们要确保每个Game对象都关联一个用户对象，我们可以这样实现：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> game <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Object</span><span class="token punctuation">(</span><span class="token string">&quot;Game&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
game<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;createdBy&quot;</span><span class="token punctuation">,</span> Parse<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我们可以通过匹配用户对象来查询用户的所有Game对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Query</span><span class="token punctuation">(</span><span class="token string">&quot;Game&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;createdBy&quot;</span><span class="token punctuation">,</span> Parse<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果要获取Game对象的创建者，可以通过指针字段获取：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Game对象</span>
<span class="token keyword">var</span> game <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">// Game对象创建者</span>
<span class="token keyword">var</span> user <span class="token operator">=</span> game<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;createdBy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>大多数情况下，实现一对多的关系，使用指针都是最好的选择。</p> <h3 id="使用数组"><a href="#使用数组" class="header-anchor">#</a> <em>使用数组</em></h3> <p>当我们已知子对象的数量很少时，使用数组是个好办法。<code>includeKey</code>参数提供一些便捷性，可以让你在获得父对象的同时获得所有的子对象。不过，如果子对象数量很大的话，会造成响应时间增长。</p> <p>假设在我们的游戏中，要跟踪玩家在游戏中积累的武器，并且要限制武器的数量。我们已知武器的数量不大，并且需把用户的武器按顺序显示在屏幕中。在这个例子中，使用数组就是很好的方法。</p> <p>现在让我们来为用户对象创建一个<code>weaponsList</code>(武器列表)字段，然后存储一些<code>Weapon</code>(武器)到<code>weaponsList</code>中：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设我们有4个武器对象</span>
<span class="token keyword">var</span> scimitar <span class="token operator">=</span> <span class="token operator">...</span>
<span class="token keyword">var</span> plasmaRifle <span class="token operator">=</span> <span class="token operator">...</span>
<span class="token keyword">var</span> grenade <span class="token operator">=</span> <span class="token operator">...</span>
<span class="token keyword">var</span> bunnyRabbit <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">//插入武器到对象</span>
<span class="token keyword">var</span> weapons <span class="token operator">=</span> <span class="token punctuation">[</span>scimitar<span class="token punctuation">,</span> plasmaRifle<span class="token punctuation">,</span> grenade<span class="token punctuation">,</span> bunnyRabbit<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 为用户设置weaponsList</span>
<span class="token keyword">var</span> user <span class="token operator">=</span> Parse<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;weaponsList&quot;</span><span class="token punctuation">,</span> weapons<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果以后想再获得<code>Weapon</code>对象，只需要一行代码即可：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> weapons <span class="token operator">=</span> Parse<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;weaponsList&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>有时我们fetch一个对象，想要同时拉取父对象的子对象，只需要为<code>Parse.Query</code>添加<code>includeKey</code>即可：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 用户对象的查询对象</span>
<span class="token keyword">var</span> userQuery <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Query</span><span class="token punctuation">(</span>Parse<span class="token punctuation">.</span>User<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// configure any constraints on your query...</span>
<span class="token comment">// for example, you may want users who are also playing with or against you</span>

<span class="token comment">// 告诉查询对象想要同时拉取到哪个子对象</span>
userQuery<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">&quot;weaponsList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 执行查询</span>
userQuery<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// results contains all of the User objects, and their associated Weapon objects, too</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>你也可以通过子对象获取父对象，比如，我们要查询哪个用户具有给定的子对象，我们可以为查询对象增加一个这样的条件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 增加武器列表是否包含某武器的条件</span>
userQuery<span class="token punctuation">.</span><span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;weaponsList&quot;</span><span class="token punctuation">,</span> scimitar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者传入武器数组查找包含多个武器的用户</span>
userQuery<span class="token punctuation">.</span><span class="token function">containedIn</span><span class="token punctuation">(</span><span class="token string">&quot;weaponsList&quot;</span><span class="token punctuation">,</span> arrayOfWeapons<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h2 id="多对多关系"><a href="#多对多关系" class="header-anchor">#</a> 多对多关系</h2> <p>现在我们来处理多对多关系。假设我们有一个阅读应用，我们需要构建<code>Book</code>对象和<code>Author</code>对象，一个作者可以写多本书，并且一本书可以有多个作者，这就是一个多对多关系的场景，你必须从数组、对象关系、指针三个方案中做出选择。</p> <p>决策的关键点在于你是否有父子对象以外的信息要保存。</p> <p>如果没有，使用关系对象或者使用数组是最简单的方案。通常，使用数组会产生更高的并发和较少的请求。</p> <p>如果有，那么使用指针指向关联对象更合适。</p> <h3 id="使用parse-realtion"><a href="#使用parse-realtion" class="header-anchor">#</a> <em>使用Parse.Realtion</em></h3> <p>使用Parse.Relation，我们可以在<code>Book</code>对象和一些<code>Author</code>对象中建立关联。你可以在数据浏览器中，在<code>Book</code>对象上创建一个relation类型的<code>authors</code>字段。然后，我们可以为Book对象关联一些author：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设有这么几个author对象</span>
<span class="token keyword">var</span> authorOne <span class="token operator">=</span> <span class="token operator">...</span>
<span class="token keyword">var</span> authorTwo <span class="token operator">=</span> <span class="token operator">...</span>
<span class="token keyword">var</span> authorThree <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">// 构建book对象</span>
<span class="token keyword">var</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Object</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 为book对象关联作者</span>
<span class="token keyword">var</span> relation <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">relation</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
relation<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>authorOne<span class="token punctuation">)</span><span class="token punctuation">;</span>
relation<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>authorTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
relation<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>authorThree<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 保存</span>
book<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>要获取一本书的作者列表，可以创建一个查询：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设有一个book对象</span>
<span class="token keyword">var</span> book <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">// 通过relation方法获取relation对象</span>
<span class="token keyword">var</span> relation <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">relation</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 通过relation对象构建查询对象</span>
<span class="token keyword">var</span> query <span class="token operator">=</span> relation<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 执行查询即可</span>
</code></pre></div><p>假如你想获取一个作者参与编辑过的书籍列表， 只需要为查询对象增加条件即可：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设有一个作者对象</span>
<span class="token keyword">var</span> author <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">// 构建查询对象</span>
<span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Query</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 增加约束条件</span>
query<span class="token punctuation">.</span><span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">,</span> author<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="使用指针-2"><a href="#使用指针-2" class="header-anchor">#</a> <em>使用指针</em></h3> <p>假设我们要在用户间构建一个following(我关注的)/follower(关注我的)关系，一个用户可以关注多个用户，就像社交平台一样。在我们的应用中，我们不只需要知道谁关注了谁，还需要知道是什么时候关注的。要有序的记录这些数据，你必须创建一个独立的class表，这个表我们将命名为<code>Follow</code>，它有<code>form</code>字段和<code>to</code>字段，都是指向一个用户的指针。除了这些，你还可以添加一个<code>Date</code>类型的字段<code>date</code>用来记录时间。</p> <p>现在，如果你想保存两个用户的关注信息，只需要在<code>Follow</code>表中设置<code>from</code>、<code>to</code>和<code>date</code>的值即可：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> otherUser <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">// 构建Follow对象</span>
<span class="token keyword">var</span> follow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Object</span><span class="token punctuation">(</span><span class="token string">&quot;Follow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
follow<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;from&quot;</span><span class="token punctuation">,</span> Parse<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
follow<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;to&quot;</span><span class="token punctuation">,</span> otherUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
follow<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
follow<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果你想查找你关注的所有用户，可以创建一个<code>Follow</code>的查询对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Query</span><span class="token punctuation">(</span><span class="token string">&quot;Follow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;from&quot;</span><span class="token punctuation">,</span> Parse<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">users</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>要查找关注我的所有用户也同样简单，通过<code>to</code>字段查找即可：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 构建查询对象</span>
<span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Query</span><span class="token punctuation">(</span><span class="token string">&quot;Follow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;to&quot;</span><span class="token punctuation">,</span> Parse<span class="token punctuation">.</span>User<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">users</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="使用数组-2"><a href="#使用数组-2" class="header-anchor">#</a> <em>使用数组</em></h3> <p>在多对多关系中使用数组和在一对多关系中使用数组很像，关系一方的对象用一个数组字段包含另一方的一些对象。</p> <p>还是假设我们有一个阅读应有，有<code>Book</code>和<code>Author</code>两个对象，<code>Book</code>对象有一个authors数组字段包含了<code>Book</code>的所有<code>Author</code>，数组在这里就非常合适，因为一本书的作者不会超过100个人。不过一个作者可能会写100本以上的书。</p> <p>下面是我们保存<code>Book</code>和<code>Author</code>关系的示例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设有一个作者对象</span>
<span class="token keyword">var</span> author <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">// 假设有个Book对象</span>
<span class="token keyword">var</span> book <span class="token operator">=</span> <span class="token operator">...</span>

<span class="token comment">// 把author对象添加到authors数组中</span>
book<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">,</span> author<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>因为<code>authors</code>是一个数组，你应该在查询<code>Book</code>的时使用<code>includeKey</code>参数把<code>author</code>包含进来，以便服务器返回<code>Book</code>对象时同时包含作者：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 构建Book查询对象</span>
<span class="token keyword">var</span> bookQuery <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Query</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 告诉查询对象包含authors字段</span>
bookQuery<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// execute the query</span>
bookQuery<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">books</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>要根据拿到的<code>Book</code>对象获取<code>authors</code>数组可以直接使用<code>get</code>方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> authorList <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>最后，如果你想根据一个用户对象，查询用户所有参与编辑过的书，直接使用<code>include</code>方法即可：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 构建查询对象</span>
<span class="token keyword">var</span> bookQuery <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parse<span class="token punctuation">.</span>Query</span><span class="token punctuation">(</span><span class="token string">&quot;Book&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 增加约束条件</span>
bookQuery<span class="token punctuation">.</span><span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">,</span> author<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 告诉查询对象要包含作者</span>
bookQuery<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">&quot;authors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 执行查询</span>
bookQuery<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">books</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h2 id="一对一关系"><a href="#一对一关系" class="header-anchor">#</a> 一对一关系</h2> <p>在某些情况下，要将一个对象分成两个对象，一对一关系就很合适。这种例子可能很少，但是也有如下两个例子：</p> <ul><li><strong>限制某些用户数据的可见</strong>。在这个场景中，你要把对象一分为二，其中一部分数据对其他用户可见，关联的另一部分数据对其他用户不可见，并且被ACL保护。</li> <li><strong>分割对象大小</strong>。在这个场景中，你的原始对象大小超过了允许的128K，所以你决定创建第二个对象存储额外的数据。所以设计好你的数据模型很重要，可以避免对象过大要分割对象。如果你无法避免这样做，你可以考虑将大文件存储到Parse.File中。</li></ul> <p>最后，感谢你阅读了这么多，我们为这复杂程度向你致歉。虽然对象关系是比较难的部分，但是也有好的一面：</p> <p>它可比人际关系简单多了。</p></div> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/12/2021, 8:38:18 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/frontend/parse/data.html" class="prev">分析data</a></span> <span class="next"><a href="/zh/frontend/parse/error-handling.html">错误处理error-handling</a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div><div class="add-this"></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.cae30ac7.js" defer></script><script src="/assets/js/7.5b24c3a5.js" defer></script><script src="/assets/js/5.7fd7e714.js" defer></script><script src="/assets/js/116.fc1e77bc.js" defer></script>
  </body>
</html>
