<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数蛙技术团队</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1279876880&amp;web_id=1279876880"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="数蛙科技是一家致力于提供物联网垂直领域应用使能平台及解决方案的创新型公司。">
    <meta name="referrer" content="never">
    
    <link rel="preload" href="/assets/css/0.styles.30e04dfa.css" as="style"><link rel="preload" href="/assets/js/app.cae30ac7.js" as="script"><link rel="preload" href="/assets/js/7.5b24c3a5.js" as="script"><link rel="preload" href="/assets/js/5.7fd7e714.js" as="script"><link rel="preload" href="/assets/js/228.01c55f35.js" as="script"><link rel="prefetch" href="/assets/js/10.62caf3d8.js"><link rel="prefetch" href="/assets/js/100.41a991cf.js"><link rel="prefetch" href="/assets/js/101.793606ac.js"><link rel="prefetch" href="/assets/js/102.1ab08e07.js"><link rel="prefetch" href="/assets/js/103.d74d27d5.js"><link rel="prefetch" href="/assets/js/104.e8db623f.js"><link rel="prefetch" href="/assets/js/105.0e30d8c3.js"><link rel="prefetch" href="/assets/js/106.6326febd.js"><link rel="prefetch" href="/assets/js/107.3d2a98b8.js"><link rel="prefetch" href="/assets/js/108.89ef46ac.js"><link rel="prefetch" href="/assets/js/109.ab726492.js"><link rel="prefetch" href="/assets/js/11.5a838491.js"><link rel="prefetch" href="/assets/js/110.0e7972ba.js"><link rel="prefetch" href="/assets/js/111.95d55777.js"><link rel="prefetch" href="/assets/js/112.54168525.js"><link rel="prefetch" href="/assets/js/113.0fde5c8d.js"><link rel="prefetch" href="/assets/js/114.d25bfa2a.js"><link rel="prefetch" href="/assets/js/115.0b6dfb6b.js"><link rel="prefetch" href="/assets/js/116.fc1e77bc.js"><link rel="prefetch" href="/assets/js/117.92a2bbaa.js"><link rel="prefetch" href="/assets/js/118.82481221.js"><link rel="prefetch" href="/assets/js/119.8bc466f5.js"><link rel="prefetch" href="/assets/js/12.f4c8bad1.js"><link rel="prefetch" href="/assets/js/120.81a07022.js"><link rel="prefetch" href="/assets/js/121.46d33a3b.js"><link rel="prefetch" href="/assets/js/122.76ea41a0.js"><link rel="prefetch" href="/assets/js/123.c5a41494.js"><link rel="prefetch" href="/assets/js/124.fffd6a9f.js"><link rel="prefetch" href="/assets/js/125.32d8e72f.js"><link rel="prefetch" href="/assets/js/126.3dbf9d44.js"><link rel="prefetch" href="/assets/js/127.2a398482.js"><link rel="prefetch" href="/assets/js/128.ddea611a.js"><link rel="prefetch" href="/assets/js/129.dc9fb181.js"><link rel="prefetch" href="/assets/js/13.1a4ce8c3.js"><link rel="prefetch" href="/assets/js/130.0afb6681.js"><link rel="prefetch" href="/assets/js/131.17fe9c4d.js"><link rel="prefetch" href="/assets/js/132.283a6aa8.js"><link rel="prefetch" href="/assets/js/133.97b7f282.js"><link rel="prefetch" href="/assets/js/134.e31416bb.js"><link rel="prefetch" href="/assets/js/135.c923ead8.js"><link rel="prefetch" href="/assets/js/136.d5c091b4.js"><link rel="prefetch" href="/assets/js/137.327e04ac.js"><link rel="prefetch" href="/assets/js/138.7b915dd1.js"><link rel="prefetch" href="/assets/js/139.95c3ca05.js"><link rel="prefetch" href="/assets/js/14.6b2cf9a8.js"><link rel="prefetch" href="/assets/js/140.7eb03ee4.js"><link rel="prefetch" href="/assets/js/141.bf6a3d71.js"><link rel="prefetch" href="/assets/js/142.4bb62b00.js"><link rel="prefetch" href="/assets/js/143.19ab508d.js"><link rel="prefetch" href="/assets/js/144.b1786c02.js"><link rel="prefetch" href="/assets/js/145.68281933.js"><link rel="prefetch" href="/assets/js/146.0ae27f9d.js"><link rel="prefetch" href="/assets/js/147.87740ce3.js"><link rel="prefetch" href="/assets/js/148.d0efa2ce.js"><link rel="prefetch" href="/assets/js/149.b28f14bb.js"><link rel="prefetch" href="/assets/js/15.362a57ae.js"><link rel="prefetch" href="/assets/js/150.b2f1d371.js"><link rel="prefetch" href="/assets/js/151.d7fd9324.js"><link rel="prefetch" href="/assets/js/152.b33c63aa.js"><link rel="prefetch" href="/assets/js/153.c68c20e5.js"><link rel="prefetch" href="/assets/js/154.75978296.js"><link rel="prefetch" href="/assets/js/155.b2573e32.js"><link rel="prefetch" href="/assets/js/156.d20364e8.js"><link rel="prefetch" href="/assets/js/157.ff541e45.js"><link rel="prefetch" href="/assets/js/158.9675e1e9.js"><link rel="prefetch" href="/assets/js/159.19bebba7.js"><link rel="prefetch" href="/assets/js/16.3e326f12.js"><link rel="prefetch" href="/assets/js/160.1ab861f0.js"><link rel="prefetch" href="/assets/js/161.f9e18eae.js"><link rel="prefetch" href="/assets/js/162.42d2f459.js"><link rel="prefetch" href="/assets/js/163.06bf73b3.js"><link rel="prefetch" href="/assets/js/164.f1cb2f25.js"><link rel="prefetch" href="/assets/js/165.06519f26.js"><link rel="prefetch" href="/assets/js/166.ab96e3af.js"><link rel="prefetch" href="/assets/js/167.c9979ea1.js"><link rel="prefetch" href="/assets/js/168.05e77523.js"><link rel="prefetch" href="/assets/js/169.8238e03f.js"><link rel="prefetch" href="/assets/js/17.d04ffa32.js"><link rel="prefetch" href="/assets/js/170.8997bb8d.js"><link rel="prefetch" href="/assets/js/171.78871d9a.js"><link rel="prefetch" href="/assets/js/172.4cd87fed.js"><link rel="prefetch" href="/assets/js/173.e330b0b0.js"><link rel="prefetch" href="/assets/js/174.2404ca4c.js"><link rel="prefetch" href="/assets/js/175.13c08107.js"><link rel="prefetch" href="/assets/js/176.766a53ae.js"><link rel="prefetch" href="/assets/js/177.6da8df96.js"><link rel="prefetch" href="/assets/js/178.2d676bc2.js"><link rel="prefetch" href="/assets/js/179.9bcd85c7.js"><link rel="prefetch" href="/assets/js/18.e704569f.js"><link rel="prefetch" href="/assets/js/180.6451ac33.js"><link rel="prefetch" href="/assets/js/181.92dd325d.js"><link rel="prefetch" href="/assets/js/182.c8f7207f.js"><link rel="prefetch" href="/assets/js/183.78d7312d.js"><link rel="prefetch" href="/assets/js/184.3317c1cb.js"><link rel="prefetch" href="/assets/js/185.8128eb7f.js"><link rel="prefetch" href="/assets/js/186.eb06ccad.js"><link rel="prefetch" href="/assets/js/187.0d17001f.js"><link rel="prefetch" href="/assets/js/188.833657d7.js"><link rel="prefetch" href="/assets/js/189.026cb254.js"><link rel="prefetch" href="/assets/js/19.d23d7910.js"><link rel="prefetch" href="/assets/js/190.7d76024c.js"><link rel="prefetch" href="/assets/js/191.419b5193.js"><link rel="prefetch" href="/assets/js/192.451e0725.js"><link rel="prefetch" href="/assets/js/193.2db7e1a7.js"><link rel="prefetch" href="/assets/js/194.fb32b747.js"><link rel="prefetch" href="/assets/js/195.ed4393da.js"><link rel="prefetch" href="/assets/js/196.90fe2b30.js"><link rel="prefetch" href="/assets/js/197.cfb5c64c.js"><link rel="prefetch" href="/assets/js/198.ae595b31.js"><link rel="prefetch" href="/assets/js/199.cf1553ba.js"><link rel="prefetch" href="/assets/js/20.f1aacde5.js"><link rel="prefetch" href="/assets/js/200.8ed4a41c.js"><link rel="prefetch" href="/assets/js/201.f2e9d0e6.js"><link rel="prefetch" href="/assets/js/202.b8d8f1fe.js"><link rel="prefetch" href="/assets/js/203.7b7f0e44.js"><link rel="prefetch" href="/assets/js/204.376f9524.js"><link rel="prefetch" href="/assets/js/205.e30060b9.js"><link rel="prefetch" href="/assets/js/206.30504235.js"><link rel="prefetch" href="/assets/js/207.7edd3f76.js"><link rel="prefetch" href="/assets/js/208.e4a955ec.js"><link rel="prefetch" href="/assets/js/209.dbcd642e.js"><link rel="prefetch" href="/assets/js/21.d6352ddc.js"><link rel="prefetch" href="/assets/js/210.9b10a244.js"><link rel="prefetch" href="/assets/js/211.336f4943.js"><link rel="prefetch" href="/assets/js/212.6ed2530c.js"><link rel="prefetch" href="/assets/js/213.8b2a89e2.js"><link rel="prefetch" href="/assets/js/214.1c25da5f.js"><link rel="prefetch" href="/assets/js/215.11173b07.js"><link rel="prefetch" href="/assets/js/216.5a124825.js"><link rel="prefetch" href="/assets/js/217.eca4ffaf.js"><link rel="prefetch" href="/assets/js/218.b6034e1c.js"><link rel="prefetch" href="/assets/js/219.a013ac0e.js"><link rel="prefetch" href="/assets/js/22.b814d20f.js"><link rel="prefetch" href="/assets/js/220.9c6b0501.js"><link rel="prefetch" href="/assets/js/221.0c735561.js"><link rel="prefetch" href="/assets/js/222.2f1f4bae.js"><link rel="prefetch" href="/assets/js/223.ec13dcba.js"><link rel="prefetch" href="/assets/js/224.dd70249c.js"><link rel="prefetch" href="/assets/js/225.ec03833b.js"><link rel="prefetch" href="/assets/js/226.9325f80c.js"><link rel="prefetch" href="/assets/js/227.81e9482a.js"><link rel="prefetch" href="/assets/js/229.d3a8c831.js"><link rel="prefetch" href="/assets/js/23.742167d4.js"><link rel="prefetch" href="/assets/js/230.60b58e8b.js"><link rel="prefetch" href="/assets/js/231.6ea81e3f.js"><link rel="prefetch" href="/assets/js/232.0c2f3bc0.js"><link rel="prefetch" href="/assets/js/233.c0ae0625.js"><link rel="prefetch" href="/assets/js/234.7d63076b.js"><link rel="prefetch" href="/assets/js/235.318c482b.js"><link rel="prefetch" href="/assets/js/236.ee0e2477.js"><link rel="prefetch" href="/assets/js/237.478c2297.js"><link rel="prefetch" href="/assets/js/238.50084307.js"><link rel="prefetch" href="/assets/js/239.fa0b9b55.js"><link rel="prefetch" href="/assets/js/24.fe4b1f8e.js"><link rel="prefetch" href="/assets/js/240.c18aaccb.js"><link rel="prefetch" href="/assets/js/241.806c1aa8.js"><link rel="prefetch" href="/assets/js/242.47a0e807.js"><link rel="prefetch" href="/assets/js/243.eb9f89c1.js"><link rel="prefetch" href="/assets/js/244.a7e88a2c.js"><link rel="prefetch" href="/assets/js/245.1bb60083.js"><link rel="prefetch" href="/assets/js/246.da3162a3.js"><link rel="prefetch" href="/assets/js/247.10a1c0fa.js"><link rel="prefetch" href="/assets/js/248.54c33457.js"><link rel="prefetch" href="/assets/js/249.cdfdd5d7.js"><link rel="prefetch" href="/assets/js/25.eaf90b73.js"><link rel="prefetch" href="/assets/js/250.693dfb9e.js"><link rel="prefetch" href="/assets/js/251.402ce2ae.js"><link rel="prefetch" href="/assets/js/252.cdcd583c.js"><link rel="prefetch" href="/assets/js/253.5a4db6bb.js"><link rel="prefetch" href="/assets/js/254.d5887e14.js"><link rel="prefetch" href="/assets/js/255.0f35be01.js"><link rel="prefetch" href="/assets/js/256.c56801e4.js"><link rel="prefetch" href="/assets/js/257.9bfca7bb.js"><link rel="prefetch" href="/assets/js/258.f05e2b00.js"><link rel="prefetch" href="/assets/js/259.2393514e.js"><link rel="prefetch" href="/assets/js/26.30dcc348.js"><link rel="prefetch" href="/assets/js/260.26d66ac5.js"><link rel="prefetch" href="/assets/js/261.6ae6f89c.js"><link rel="prefetch" href="/assets/js/262.5c88302d.js"><link rel="prefetch" href="/assets/js/263.6c474bf6.js"><link rel="prefetch" href="/assets/js/264.5137ed8c.js"><link rel="prefetch" href="/assets/js/265.29a169ba.js"><link rel="prefetch" href="/assets/js/266.e8b9590c.js"><link rel="prefetch" href="/assets/js/267.fb31cd45.js"><link rel="prefetch" href="/assets/js/268.4a646815.js"><link rel="prefetch" href="/assets/js/269.a600c8bc.js"><link rel="prefetch" href="/assets/js/27.6219b1fb.js"><link rel="prefetch" href="/assets/js/270.11e5a6ff.js"><link rel="prefetch" href="/assets/js/271.75303dc2.js"><link rel="prefetch" href="/assets/js/272.27ed9b64.js"><link rel="prefetch" href="/assets/js/273.e976b7f0.js"><link rel="prefetch" href="/assets/js/274.b7f08f46.js"><link rel="prefetch" href="/assets/js/275.ed766a1a.js"><link rel="prefetch" href="/assets/js/276.90d591a7.js"><link rel="prefetch" href="/assets/js/277.9b96d5fa.js"><link rel="prefetch" href="/assets/js/278.0f59063b.js"><link rel="prefetch" href="/assets/js/28.fb38ecdf.js"><link rel="prefetch" href="/assets/js/29.4ef5adc0.js"><link rel="prefetch" href="/assets/js/30.ead0b8ea.js"><link rel="prefetch" href="/assets/js/31.f8831c2f.js"><link rel="prefetch" href="/assets/js/32.1bf8b2f8.js"><link rel="prefetch" href="/assets/js/33.01e7cfc2.js"><link rel="prefetch" href="/assets/js/34.d6942c64.js"><link rel="prefetch" href="/assets/js/35.ad35a726.js"><link rel="prefetch" href="/assets/js/36.7c253cef.js"><link rel="prefetch" href="/assets/js/37.4d561a56.js"><link rel="prefetch" href="/assets/js/38.f819d8f2.js"><link rel="prefetch" href="/assets/js/39.08770cfa.js"><link rel="prefetch" href="/assets/js/40.d0cc0175.js"><link rel="prefetch" href="/assets/js/41.a74db857.js"><link rel="prefetch" href="/assets/js/42.71264edc.js"><link rel="prefetch" href="/assets/js/43.fbb3f834.js"><link rel="prefetch" href="/assets/js/44.fff24446.js"><link rel="prefetch" href="/assets/js/45.0257073c.js"><link rel="prefetch" href="/assets/js/46.773a77a4.js"><link rel="prefetch" href="/assets/js/47.a7ad5d95.js"><link rel="prefetch" href="/assets/js/48.93b47b97.js"><link rel="prefetch" href="/assets/js/49.35a05694.js"><link rel="prefetch" href="/assets/js/50.c926dde9.js"><link rel="prefetch" href="/assets/js/51.122b50e9.js"><link rel="prefetch" href="/assets/js/52.7ec3b3e9.js"><link rel="prefetch" href="/assets/js/53.821a6e1a.js"><link rel="prefetch" href="/assets/js/54.b6528d66.js"><link rel="prefetch" href="/assets/js/55.5cab16db.js"><link rel="prefetch" href="/assets/js/56.d9b6e4f9.js"><link rel="prefetch" href="/assets/js/57.86b52e5f.js"><link rel="prefetch" href="/assets/js/58.c3429ecd.js"><link rel="prefetch" href="/assets/js/59.85e56f88.js"><link rel="prefetch" href="/assets/js/6.300c849a.js"><link rel="prefetch" href="/assets/js/60.f5248f17.js"><link rel="prefetch" href="/assets/js/61.0298b597.js"><link rel="prefetch" href="/assets/js/62.4cd45563.js"><link rel="prefetch" href="/assets/js/63.8afb6a57.js"><link rel="prefetch" href="/assets/js/64.0defe1fa.js"><link rel="prefetch" href="/assets/js/65.6b0afb59.js"><link rel="prefetch" href="/assets/js/66.39ee9f9f.js"><link rel="prefetch" href="/assets/js/67.4f5c6701.js"><link rel="prefetch" href="/assets/js/68.c4eb2d25.js"><link rel="prefetch" href="/assets/js/69.50c1863d.js"><link rel="prefetch" href="/assets/js/70.72fbcd1c.js"><link rel="prefetch" href="/assets/js/71.c07a0fd2.js"><link rel="prefetch" href="/assets/js/72.c1e58979.js"><link rel="prefetch" href="/assets/js/73.77ebe771.js"><link rel="prefetch" href="/assets/js/74.dfcbe292.js"><link rel="prefetch" href="/assets/js/75.3eb8823c.js"><link rel="prefetch" href="/assets/js/76.223106ba.js"><link rel="prefetch" href="/assets/js/77.0f2bc4f2.js"><link rel="prefetch" href="/assets/js/78.52b15e1d.js"><link rel="prefetch" href="/assets/js/79.7673e049.js"><link rel="prefetch" href="/assets/js/8.cb709667.js"><link rel="prefetch" href="/assets/js/80.abf84cfb.js"><link rel="prefetch" href="/assets/js/81.691e80c2.js"><link rel="prefetch" href="/assets/js/82.aa4a47ff.js"><link rel="prefetch" href="/assets/js/83.e1ee7e29.js"><link rel="prefetch" href="/assets/js/84.aceb9c03.js"><link rel="prefetch" href="/assets/js/85.a8ae9e6f.js"><link rel="prefetch" href="/assets/js/86.ae794988.js"><link rel="prefetch" href="/assets/js/87.6d13921d.js"><link rel="prefetch" href="/assets/js/88.12fb5865.js"><link rel="prefetch" href="/assets/js/89.c72fc4db.js"><link rel="prefetch" href="/assets/js/9.cfab03b0.js"><link rel="prefetch" href="/assets/js/90.76c8f59a.js"><link rel="prefetch" href="/assets/js/91.5eed03ed.js"><link rel="prefetch" href="/assets/js/92.43e03ad0.js"><link rel="prefetch" href="/assets/js/93.c1a6699a.js"><link rel="prefetch" href="/assets/js/94.cc34e051.js"><link rel="prefetch" href="/assets/js/95.5c230a10.js"><link rel="prefetch" href="/assets/js/96.e0c1c420.js"><link rel="prefetch" href="/assets/js/97.581e6166.js"><link rel="prefetch" href="/assets/js/98.219eb4ae.js"><link rel="prefetch" href="/assets/js/99.90422682.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8d7743fe.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.f20d812e.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.751a6989.js">
    <link rel="stylesheet" href="/assets/css/0.styles.30e04dfa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">数蛙技术团队</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link router-link-active">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/cmp/coap_connect.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link router-link-active">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/cmp/coap_connect.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div style="padding-left:1.5rem;"><div></div></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>产品简介</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>设备接入</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/product/dgiot/cmp/" aria-current="page" class="sidebar-link">创建产品</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>设备接入</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/zh/product/dgiot/cmp/get_sdk.html" class="sidebar-link">下载设备端SDK</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>设备接入</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>设备安全认证</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>消息通信Topic</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Mqtt协议接入</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>CoAP协议接入</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/product/dgiot/cmp/what_is_coap.html" class="sidebar-link">CoAP协议规范</a></li><li><a href="/zh/product/dgiot/cmp/coap_connect.html" aria-current="page" class="active sidebar-link">CoAP连接通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/product/dgiot/cmp/coap_connect.html#基础流程" class="sidebar-link">基础流程</a></li><li class="sidebar-sub-header"><a href="/zh/product/dgiot/cmp/coap_connect.html#使用对称加密自主接入" class="sidebar-link">使用对称加密自主接入</a></li><li class="sidebar-sub-header"><a href="/zh/product/dgiot/cmp/coap_connect.html#使用dtls自主接入" class="sidebar-link">使用DTLS自主接入</a></li><li class="sidebar-sub-header"><a href="/zh/product/dgiot/cmp/coap_connect.html#示例" class="sidebar-link">示例</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>HTTP协议接入</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>NB-IoT设备接入</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>消息通信</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <!----> <!----> <main class="page"><div class="theme-default-content" style="margin-top:3.6rem;padding-top:0;padding-bottom:0;"></div> <div class="theme-default-content"><div class="content__default"><p>物联网平台支持CoAP协议连接通信。CoAP协议适用在资源受限的低功耗设备上，尤其是NB-IoT的设备使用。本文介绍基于CoAP协议进行设备接入的流程，及使用DTLS和对称加密两种认证方式下的自主接入流程。</p> <h2 id="基础流程"><a href="#基础流程" class="header-anchor">#</a> 基础流程</h2> <p>基于CoAP协议将NB-IoT设备接入物联网平台的流程如下图所示。<img src="https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4645559951/p110116.png" alt="coap"></p> <table><thead><tr><th>序号</th> <th>描述</th></tr></thead> <tbody><tr><td>①</td> <td>在设备端NB-IoT模块中，集成阿里云物联网平台SDK。厂商在物联网平台控制台申请设备证书（ProductKey、DeviceName和DeviceSecret）并烧录到设备中。</td></tr> <tr><td>②</td> <td>NB-IoT设备通过运营商的蜂窝网络进行入网。需要联系当地运营商，确保设备所属地区已经覆盖NB网络，并已具备NB-IoT入网能力。</td></tr> <tr><td>③</td> <td>设备入网成功后，NB设备产生的流量数据及产生的费用数据，将由运营商的M2M平台管理。此部分平台能力由运营商提供。</td></tr> <tr><td>④</td> <td>设备开发者可通过CoAP/UDP协议，将设备采集的实时数据上报到阿里云物联网平台，借助物联网平台，实现海量亿级设备的安全连接和数据管理能力。并且，可通过规则引擎，将数据转发至阿里云的大数据产品、云数据库、表格存储等服务中进行处理。</td></tr> <tr><td>⑤</td> <td>物联网平台提供相关的数据开放接口和消息推送服务，可将数据转发到业务服务器中，实现设备资产与实际应用的快速集成。</td></tr></tbody></table> <h2 id="使用对称加密自主接入"><a href="#使用对称加密自主接入" class="header-anchor">#</a> 使用对称加密自主接入</h2> <ol><li><p>连接CoAP服务器。</p> <p>Endpoint地址：</p> <ul><li><p>企业版实例的接入域名，请在<a href="https://iot.console.aliyun.com/" target="_blank" rel="noopener noreferrer">物联网平台控制台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，找到对应的实例，单击实例，进入实例详情页面查看。</p> <p>具体操作，请参见<a href="https://help.aliyun.com/document_detail/147356.htm#section-7lj-bvu-re8" target="_blank" rel="noopener noreferrer">查看实例终端节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></li> <li><p>公共实例的Endpoint地址为<code>${YourProductKey}.coap.${region}.link.aliyuncs.com:${port}</code>。</p> <ul><li>${YourProductKey}：请替换为设备所属产品的ProductKey。可登录<a href="https://iot.console.aliyun.com/" target="_blank" rel="noopener noreferrer">物联网平台控制台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在对应实例的设备详情页面获取。</li> <li><code>${region}</code>：地域代码。各地域代码的表达方法，请参见<a href="https://help.aliyun.com/document_detail/40654.htm#concept-2459516" title="本文提供完整的阿里云地域和可用区列表。" target="_blank" rel="noopener noreferrer">地域和可用区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li><code>${port}</code>：端口。使用对称加密时端口为5682。</li></ul></li></ul></li> <li><p>设备认证。</p> <p>设备认证请求：</p> <div class="language-auto extra-class"><pre class="language-text"><code>POST /auth
Host: ${YourEndpoint}
Port: 5682
Accept: application/json or application/cbor
Content-Format: application/json or application/cbor
payload: {&quot;productKey&quot;:&quot;a1NUjcV****&quot;,&quot;deviceName&quot;:&quot;ff1a11e7c08d4b3db2b1500d8e0e55&quot;,&quot;clientId&quot;:&quot;a1NUjcV****&amp;ff1a11e7c08d4b3db2b1500d8e0e55&quot;,&quot;sign&quot;:&quot;F9FD53EE0CD010FCA40D14A9FE******&quot;, &quot;seq&quot;:&quot;10&quot;}
</code></pre></div><p>表 1. 设备认证参数说明</p> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>Method</td> <td>请求方法，只支持POST方法。</td></tr> <tr><td>URL</td> <td>URL地址，取值：<code>/auth</code>。</td></tr> <tr><td>Host</td> <td>Endpoint地址。</td></tr> <tr><td>Port</td> <td>端口，取值：<code>5682</code>。</td></tr> <tr><td>Accept</td> <td>设备接收的数据编码方式。目前，支持两种方式：application/json和application/cbor。</td></tr> <tr><td>Content-Format</td> <td>设备发送给物联网平台的上行数据的编码格式，目前，支持两种方式：application/json和application/cbor。</td></tr> <tr><td>payload</td> <td>设备认证信息内容，JSON数据格式。具体参数，请参见下表Payload说明。</td></tr></tbody></table> <p>表 2. Payload 说明</p> <table><thead><tr><th>字段名称</th> <th>是否必需</th> <th>说明</th></tr></thead> <tbody><tr><td>productKey</td> <td>是</td> <td>设备证书信息中ProductKey的值，是物联网平台为产品颁发的全局唯一标识。可从物联网平台控制台对应实例下的设备详情页获取。</td></tr> <tr><td>deviceName</td> <td>是</td> <td>设备证书信息中DeviceName的值，在注册设备时自定义或自动生成的设备名称。可从物联网平台控制台对应实例下的设备详情页获取。</td></tr> <tr><td>ackMode</td> <td>否</td> <td>通信模式。取值：</td></tr></tbody></table> <ul><li>0：request/response是携带模式，即客户端发送请求到服务端后，服务端处理完业务，回复业务数据和ACK。</li> <li>1：request/response是分离模式，即客户端发送请求到服务端后，服务端先回复一个确认ACK，然后再处理业务，回复业务数据。</li></ul> <p>若不传入此参数，则默认为携带模式。</p> <p>|
| sign | 是 | 签名。</p> <p>您需将根据签名计算方法<code>signmethod(DeviceSecret,content)</code>计算出的值，作为sign的值。支持hmacmd5和hmacsha1方法。</p> <p>签名计算所需参数：</p> <ul><li><p>signmethod：签名方法，需与您的传入signmethod取值一致。</p></li> <li><p>DeviceSecret：设备的DeviceSecret。可在物联网平台控制台对应实例下的设备详情页查看。</p></li> <li><p>content：是将所有提交给服务器的参数（除version、sign、resources和signmethod外），按照英文字母升序，依次拼接排序（无拼接符号）。</p> <p><strong>说明</strong> 用于签名计算的参数值需与设备认证请求中提交的参数值一致。</p></li></ul> <p>签名计算示例：</p> <div class="language-auto extra-class"><pre class="language-text"><code>hmac_md5(mRPVdzSMu2nVBxzK77ERPIMxSYIv****, clientIda1NUjcV****&amp;ff1a11e7c08d4b3db2b1500d8e0e55deviceNameff1a11e7c08d4b3db2b1500d8e0e55productKeya1NUjcV****seq10timestamp1524448722000)
</code></pre></div><p>|
| signmethod | 否 | 算法类型，支持hmacmd5和hmacsha1。默认是hmacmd5。 |
| clientId | 是 | 客户端ID，长度需在64字符内。建议使用设备的MAC地址或SN码作为clientId的值。 |
| timestamp | 否 | 时间戳。目前，时间戳不做时间窗口校验。 |</p> <p>返回结果示例：</p> <div class="language-auto extra-class"><pre class="language-text"><code>{&quot;random&quot;:&quot;ad2b3a5eb51d6****&quot;,&quot;seqOffset&quot;:1,&quot;token&quot;:&quot;MZ8m37hp01w1SSqoDFzo001050****.ad2b&quot;}
</code></pre></div><p>表 3. 返回参数说明</p> <table><thead><tr><th>字段名称</th> <th>说明</th></tr></thead> <tbody><tr><td>random</td> <td>用于后续上、下行加密，组成加密Key。</td></tr> <tr><td>seqOffset</td> <td>认证seq偏移初始值。</td></tr> <tr><td>token</td> <td>设备认证成功后，返回的Token值。</td></tr></tbody></table></li> <li><p>上报数据。</p> <p>上报数据请求：</p> <div class="language-auto extra-class"><pre class="language-text"><code>POST /topic/${topic}
Host: ${YourEndpoint}
Port: 5682
Accept: application/json or application/cbor
Content-Format: application/json or application/cbor
payload: ${your_data}
CustomOptions: number:2088, 2089
</code></pre></div><p>表 4. 上报数据参数说明</p> <table><thead><tr><th>字段名称</th> <th>是否必需</th> <th>说明</th></tr></thead> <tbody><tr><td>Method</td> <td>是</td> <td>请求方法，只支持POST方法。</td></tr> <tr><td>URL</td> <td>是</td> <td>传入格式：<code>/topic/${topic}</code>。其中，变量${topic}需替换为设备数据上行Topic。</td></tr> <tr><td>Host</td> <td>是</td> <td>Endpoint地址。</td></tr> <tr><td>Port</td> <td>是</td> <td>端口，取值：<code>5682</code>。</td></tr> <tr><td>Accept</td> <td>是</td> <td>设备接收的数据编码方式。目前，支持两种方式：application/json和application/cbor。</td></tr> <tr><td>Content-Format</td> <td>是</td> <td>上行数据的编码格式，服务端对此不做校验。目前，支持两种方式：application/json和application/cbor。</td></tr> <tr><td>payload</td> <td>是</td> <td>待上传的数据经高级加密标准（AES）加密后的数据。</td></tr></tbody></table> <p><strong>说明</strong> AES加密时，Transform为<code>AES/CBC/PKCS5Padding</code>， 初始向量IV为<code>543yhjy97ae7fyfg</code>，Key由sha256算法生成。</p> <p>Key生成示例：</p> <p>假设<code>deviceSecret=zPwChiLh0EaifR809D5Rc6LDIC6A****</code>，设备认证返回<code>random=8fe3c8d50e10****</code>。</p> <ol><li><p>将deviceSecret和random按照<code>${deviceSecret},${random}</code>格式组成以下字符串。</p> <div class="language-auto extra-class"><pre class="language-text"><code>zPwChiLh0EaifR809D5Rc6LDIC6A****,8fe3c8d50e10****
</code></pre></div></li> <li><p>使用sha256对以上字符串的UTF-8编码结果进行加密，并转换为16进制字符串。</p> <div class="language-auto extra-class"><pre class="language-text"><code>59ea5ac1cb092e5910c405821119959e5297516d185b71e344735cf3f268****
</code></pre></div></li> <li><p>从上一步得到的字符串的第17位开始，截取长度为32位的字符串（subString(16,48)），得到密钥。</p> <div class="language-auto extra-class"><pre class="language-text"><code>10c405821119959e5297516d185b71e3
</code></pre></div></li></ol> <p>|
| CustomOptions | 是 | option值有<code>2088</code>和<code>2089</code>两种类型：</p> <ul><li><p><code>2088</code>：表示token，取值为设备认证后返回的token值。</p> <p><strong>说明</strong> 每次上报数据都需要携带token信息。如果token失效，需要重新进行设备认证，获取token。</p></li> <li><p><code>2089</code>：表示seq，取值需比设备认证后返回的seqOffset值更大，且在认证生效周期内不重复的随机值。建议设置为根据每次请求数据包中的seq递增值，使用上一栏所介绍的方法进行AES加密填充。</p></li></ul> <p>option返回示例：</p> <div class="language-auto extra-class"><pre class="language-text"><code>number:2090
</code></pre></div><p><code>2090</code>：表示云端消息ID。</p> <p>token和seq除了写在options中，还可以写在URL中，例如<code>/topic/${topic}?token=xxxx&amp;seq=xxxxx</code>。如果同时存在于options和URL中，以options为准。</p> <p>|</p> <p>消息上行成功后，返回成功状态码，同时返回物联网平台生成的消息ID。</p></li></ol> <h2 id="使用dtls自主接入"><a href="#使用dtls自主接入" class="header-anchor">#</a> 使用DTLS自主接入</h2> <ol><li><p>连接CoAP服务器。</p> <p>Endpoint地址：</p> <ul><li><p>企业版实例的接入域名，请在<a href="https://iot.console.aliyun.com/" target="_blank" rel="noopener noreferrer">物联网平台控制台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，找到对应的实例，单击实例，进入实例详情页面查看。</p> <p>具体操作，请参见<a href="https://help.aliyun.com/document_detail/147356.htm#section-7lj-bvu-re8" target="_blank" rel="noopener noreferrer">查看实例终端节点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></li> <li><p>华东2（上海）地域，公共实例的Endpoint地址为<code>${YourProductKey}.coap.${region}.link.aliyuncs.com:${port}</code>。</p> <ul><li>${YourProductKey}：请替换为设备所属产品的ProductKey。可登录<a href="https://iot.console.aliyun.com/" target="_blank" rel="noopener noreferrer">物联网平台控制台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在对应实例的设备详情页面获取。</li> <li><code>${region}</code>：地域代码。各地域代码的表达方法，请参见<a href="https://help.aliyun.com/document_detail/40654.htm#concept-2459516" title="本文提供完整的阿里云地域和可用区列表。" target="_blank" rel="noopener noreferrer">地域和可用区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>${port}：端口。使用DTLS时，端口为5684。</li></ul></li></ul></li> <li><p>如果您使用阿里云提供的<a href="https://help.aliyun.com/document_detail/42648.htm#concept-jlk-mjl-vdb" title="物联网平台提供各类设备端SDK，简化开发过程，使设备快速上云。" target="_blank" rel="noopener noreferrer">设备端SDK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，则DTLS安全通道默认使用PSK加密算法。</p> <p>如果您未使用阿里云提供的设备端SDK，则需要<a href="https://aliyun-iot.oss-cn-hangzhou.aliyuncs.com/cert_pub/root.crt?spm=5176.doc30539.2.1.1MRvV5&amp;file=root.crt" target="_blank" rel="noopener noreferrer">下载DTLS安全通道根证书<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，自行使用DTLS库连接物联网平台，PSK对应的加密方式如下：</p> <div class="language-auto extra-class"><pre class="language-text"><code>psk_id: &quot;${authType}&quot; + &quot;|&quot; + &quot;${signMethod}&quot; + &quot;|&quot; + &quot;${productKey}&quot; + &quot;&amp;&quot; + &quot;${deviceName}&quot; + &quot;timestamp&quot;
psk: signMethod(DeviceSecret, &quot;${productKey}&quot; + &quot;&amp;&quot; + &quot;${deviceName}&quot; + &quot;${timestamp}&quot;)
</code></pre></div><p>表 5. 字段说明</p> <table><thead><tr><th>字段</th> <th>是否必需</th> <th>说明</th></tr></thead> <tbody><tr><td>authType</td> <td>是</td> <td>认证类型，这里设为固定值：devicename。</td></tr> <tr><td>signMethod</td> <td>是</td> <td>算法类型，支持hmacmd5、hmacsha1、hmacsha256。</td></tr> <tr><td>productKey</td> <td>是</td> <td>设备所属产品的ProductKey。</td></tr> <tr><td>deviceName</td> <td>是</td> <td>设备名称，DeviceName。</td></tr> <tr><td>DeviceSecret</td> <td>是</td> <td>设备的DeviceSecret</td></tr> <tr><td>timestamp</td> <td>是</td> <td>时间戳。</td></tr></tbody></table></li> <li><p>设备认证。使用auth接口认证设备，获取Token。上报数据时，需携带Token信息。</p> <p>设备认证请求：</p> <div class="language-auto extra-class"><pre class="language-text"><code>POST /auth
Host: ${YourEndpoint}
Port: 5684
Accept: application/json or application/cbor
Content-Format: application/json or application/cbor
payload: {&quot;productKey&quot;:&quot;ZG1EvTE****&quot;,&quot;deviceName&quot;:&quot;NlwaSPXsCpTQuh8FxBGH&quot;,&quot;clientId&quot;:&quot;mylight1000002&quot;,&quot;sign&quot;:&quot;bccb3d2618afe74b3eab12b94042****&quot;}
</code></pre></div><p>除 Port参数外，其他参数及Payload内容说明，可参见。</p> <p>返回结果示例：</p> <div class="language-auto extra-class"><pre class="language-text"><code>response：{&quot;token&quot;:&quot;f13102810756432e85dfd351eeb4****&quot;}
</code></pre></div><p>表 6. 返回码说明</p> <table><thead><tr><th>Code</th> <th>描述</th> <th>Payload</th> <th>备注</th></tr></thead> <tbody><tr><td>2.05</td> <td>Content</td> <td>认证通过：Token对象</td> <td>正确请求。</td></tr> <tr><td>4.00</td> <td>Bad Request</td> <td>no payload</td> <td>请求发送的Payload非法。</td></tr> <tr><td>4.01</td> <td>Unauthorized</td> <td>no payload</td> <td>未授权的请求。</td></tr> <tr><td>4.03</td> <td>Forbidden</td> <td>no payload</td> <td>禁止的请求。</td></tr> <tr><td>4.04</td> <td>Not Found</td> <td>no payload</td> <td>请求的路径不存在。</td></tr> <tr><td>4.05</td> <td>Method Not Allowed</td> <td>no payload</td> <td>请求方法不是指定值。</td></tr> <tr><td>4.06</td> <td>Not Acceptable</td> <td>no payload</td> <td>Accept不是指定的类型。</td></tr> <tr><td>4.15</td> <td>Unsupported Content-Format</td> <td>no payload</td> <td>请求的content不是指定类型。</td></tr> <tr><td>5.00</td> <td>Internal Server Error</td> <td>no payload</td> <td>auth服务器超时或错误。</td></tr></tbody></table></li> <li><p>上行数据。</p> <p>设备通过指定自定义Topic将数据发送到云端</p> <p>自定义Topic，在物联网平台的控制台，设备所属产品的产品详情页的Topic类列表中进行创建。仅支持发布权限的Topic用于数据上报。</p> <p>例如：Topic为<code>/${YourProductKey}/${YourDeviceName}/pub</code>，假设当前设备名称为device，所属产品的ProductKey为a1GFjLP****，那么您可使用 <code>a1GFjLP****.coap.cn-shanghai.link.aliyuncs.com:5684/topic/a1GFjLP****/device/pub</code> 地址来上报数据。</p> <p>上报数据请求：</p> <div class="language-auto extra-class"><pre class="language-text"><code>POST /topic/${topic}
Host: ${YourEndpoint}
Port: 5684
Accept: application/json or application/cbor
Content-Format: application/json or application/cbor
payload: ${your_data}
CustomOptions: number:2088
</code></pre></div></li></ol> <p>表 7. 上报数据请求参数说明</p> <table><thead><tr><th>参数</th> <th>是否必需</th> <th>说明</th></tr></thead> <tbody><tr><td>Method</td> <td>是</td> <td>请求方法。支持POST方法。</td></tr> <tr><td>URL</td> <td>是</td> <td><code>/topic/${topic}</code>。其中，变量<code>${topic}</code>需替换为当前设备对应的Topic。</td></tr> <tr><td>Host</td> <td>是</td> <td>Endpoint地址。</td></tr> <tr><td>Port</td> <td>是</td> <td>端口，取值：<code>5684</code>。</td></tr> <tr><td>Accept</td> <td>是</td> <td>设备接收的数据编码方式。目前，支持两种方式：application/json和application/cbor。</td></tr> <tr><td>Content-Format</td> <td>是</td> <td>上行数据的编码格式，服务端对此不做校验。目前，支持两种方式：application/json和application/cbor。</td></tr> <tr><td>CustomOptions</td> <td>是</td> <td></td></tr></tbody></table> <ul><li>number取值：<code>2088</code>。</li> <li>token为设备认证（auth）返回的token值。</li></ul> <div class="language- extra-class"><pre><code>**说明** 每次上报数据都需要携带token信息。如果token失效，需要重新进行设备认证，获取token。



|
</code></pre></div><h2 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h2> <p>设备通过CoAP协议接入物联网平台的示例，请参见<a href="https://help.aliyun.com/document_detail/148620.htm#concept-2378835" title="本文提供设备通过CoAP协议接入物联网平台的示例代码。" target="_blank" rel="noopener noreferrer">CoAP客户端对称加密接入示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></div> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/12/2021, 8:38:18 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/product/dgiot/cmp/what_is_coap.html" class="prev">CoAP协议规范</a></span> <span class="next"><a href="/zh/product/dgiot/cmp/what_is_http.html">HTTP协议规范</a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div><div class="add-this"></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.cae30ac7.js" defer></script><script src="/assets/js/7.5b24c3a5.js" defer></script><script src="/assets/js/5.7fd7e714.js" defer></script><script src="/assets/js/228.01c55f35.js" defer></script>
  </body>
</html>
