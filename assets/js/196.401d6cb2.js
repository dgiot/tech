(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{763:function(t,e,_){"use strict";_.r(e);var r=_(8),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"prometheus-监控告警"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#prometheus-监控告警"}},[t._v("#")]),t._v(" Prometheus 监控告警")]),t._v(" "),_("p",[t._v("{% emqxce %}")]),t._v(" "),_("p",[t._v("EMQ X 提供 "),_("a",{attrs:{href:"https://github.com/emqx/emqx-statsd",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx_statsd"),_("OutboundLink")],1),t._v(" 插件，用于将系统的监控数据输出到第三方的监控系统中。")]),t._v(" "),_("p",[t._v("以 "),_("a",{attrs:{href:"https://prometheus.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prometheus"),_("OutboundLink")],1),t._v(" 为例：")]),t._v(" "),_("p",[_("code",[t._v("emqx_statsd")]),t._v(" 支持将数据推送至 Pushgateway 中，然后再由 Promethues Server 拉取进行存储。")]),t._v(" "),_("p",[t._v("注意："),_("code",[t._v("emqx_statsd")]),t._v(" 不支持 Prometheus 的 Pull 操作。")]),t._v(" "),_("h2",{attrs:{id:"配置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),_("p",[_("code",[t._v("emqx_statsd")]),t._v(" 插件内部会启动一个定时器，使其每间隔一段时间便采集 EMQ X 中的监控数据。")]),t._v(" "),_("p",[_("code",[t._v("emqx_statsd")]),t._v(" 推送的监控数据包含的具体字段和含义，参见："),_("RouterLink",{attrs:{to:"/zh/backend/emqx/advanced/metrics-and-stats.html"}},[t._v("Metrics & Stats")])],1),t._v(" "),_("p",[t._v("配置文件位于 "),_("code",[t._v("etc/plugins/emqx_statsd.conf")]),t._v("，其中：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("配置项")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("可取值")]),t._v(" "),_("th",[t._v("默认值")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("push.gateway.server")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("http://127.0.0.1:9091")]),t._v(" "),_("td",[t._v("Prometheus 的 PushGateway 地址")])]),t._v(" "),_("tr",[_("td",[t._v("interval")]),t._v(" "),_("td",[t._v("integer")]),t._v(" "),_("td",[t._v("> 0")]),t._v(" "),_("td",[t._v("5000")]),t._v(" "),_("td",[t._v("推送间隔，单位：毫秒")])])])]),t._v(" "),_("h3",{attrs:{id:"grafana-数据模板"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#grafana-数据模板"}},[t._v("#")]),t._v(" Grafana 数据模板")]),t._v(" "),_("p",[_("code",[t._v("emqx_statsd")]),t._v(" 插件提供了 Grafana 的 Dashboard 的模板文件。这些模板包含了所有 EMQ X 监控数据的展示。用户可直接导入到 Grafana 中，进行显示 EMQ X 的监控状态的图标。")]),t._v(" "),_("p",[t._v("模板文件位于："),_("a",{attrs:{href:"https://github.com/emqx/emqx-statsd/tree/master/grafana_template",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx_statsd/grafana_template"),_("OutboundLink")],1),t._v("。")]),t._v(" "),_("p",[t._v("{% endemqxce %}")]),t._v(" "),_("p",[t._v("{% emqxee %}")]),t._v(" "),_("blockquote",[_("p",[t._v("从 EMQ X Enterprise v4.1.0 开始，emqx_statsd 更名为 emqx_prometheus，相关插件名称、目录均有变更。")])]),t._v(" "),_("p",[t._v("EMQ X 提供 "),_("a",{attrs:{href:"https://github.com/emqx/emqx-prometheus",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx_prometheus"),_("OutboundLink")],1),t._v(" 插件，用于将系统的监控数据输出到第三方的监控系统中。")]),t._v(" "),_("p",[t._v("以 "),_("a",{attrs:{href:"https://prometheus.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prometheus"),_("OutboundLink")],1),t._v(" 为例：")]),t._v(" "),_("p",[_("code",[t._v("emqx_prometheus")]),t._v(" 支持将数据推送至 Pushgateway 中，然后再由 Promethues Server 拉取进行存储。")]),t._v(" "),_("p",[t._v("注意："),_("code",[t._v("emqx_prometheus")]),t._v(" 不支持 Prometheus 的 Pull 操作。")]),t._v(" "),_("h2",{attrs:{id:"配置-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#配置-2"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),_("p",[_("code",[t._v("emqx_prometheus")]),t._v(" 插件内部会启动一个定时器，使其每间隔一段时间便采集 EMQ X 中的监控数据。")]),t._v(" "),_("p",[_("code",[t._v("emqx_prometheus")]),t._v(" 推送的监控数据包含的具体字段和含义，参见："),_("RouterLink",{attrs:{to:"/zh/backend/emqx/advanced/metrics-and-stats.html"}},[t._v("Metrics & Stats")])],1),t._v(" "),_("p",[t._v("配置文件位于 "),_("code",[t._v("etc/plugins/emqx_prometheus.conf")]),t._v("，其中：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("配置项")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("可取值")]),t._v(" "),_("th",[t._v("默认值")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("push.gateway.server")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("http://127.0.0.1:9091")]),t._v(" "),_("td",[t._v("Prometheus 的 PushGateway 地址")])]),t._v(" "),_("tr",[_("td",[t._v("interval")]),t._v(" "),_("td",[t._v("integer")]),t._v(" "),_("td",[t._v("> 0")]),t._v(" "),_("td",[t._v("5000")]),t._v(" "),_("td",[t._v("推送间隔，单位：毫秒")])])])]),t._v(" "),_("h3",{attrs:{id:"grafana-数据模板-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#grafana-数据模板-2"}},[t._v("#")]),t._v(" Grafana 数据模板")]),t._v(" "),_("p",[_("code",[t._v("emqx_prometheus")]),t._v(" 插件提供了 Grafana 的 Dashboard 的模板文件。这些模板包含了所有 EMQ X 监控数据的展示。用户可直接导入到 Grafana 中，进行显示 EMQ X 的监控状态的图标。")]),t._v(" "),_("p",[t._v("模板文件位于："),_("a",{attrs:{href:"https://github.com/emqx/emqx-prometheus/tree/master/grafana_template",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx_prometheus/grafana_template"),_("OutboundLink")],1),t._v("。")]),t._v(" "),_("p",[t._v("{% endemqxee %}")])])}),[],!1,null,null,null);e.default=a.exports}}]);