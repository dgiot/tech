<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>分层架构 | 数蛙技术团队</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1279876880&amp;web_id=1279876880"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="数蛙科技是一家致力于提供物联网垂直领域应用使能平台及解决方案的创新型公司。">
    <meta name="referrer" content="never">
    
    <link rel="preload" href="/assets/css/0.styles.23a8192d.css" as="style"><link rel="preload" href="/assets/js/app.11bffe13.js" as="script"><link rel="preload" href="/assets/js/7.57a5124b.js" as="script"><link rel="preload" href="/assets/js/5.7fd7e714.js" as="script"><link rel="preload" href="/assets/js/31.74b30a12.js" as="script"><link rel="prefetch" href="/assets/js/10.2eef3347.js"><link rel="prefetch" href="/assets/js/100.0d1dc244.js"><link rel="prefetch" href="/assets/js/101.03674c43.js"><link rel="prefetch" href="/assets/js/102.371d534b.js"><link rel="prefetch" href="/assets/js/103.5019a517.js"><link rel="prefetch" href="/assets/js/104.b7b0892b.js"><link rel="prefetch" href="/assets/js/105.05110607.js"><link rel="prefetch" href="/assets/js/106.81a88ebc.js"><link rel="prefetch" href="/assets/js/107.47d9db94.js"><link rel="prefetch" href="/assets/js/108.833d6ef7.js"><link rel="prefetch" href="/assets/js/109.c271600f.js"><link rel="prefetch" href="/assets/js/11.82d1e4bf.js"><link rel="prefetch" href="/assets/js/110.39492b52.js"><link rel="prefetch" href="/assets/js/111.91f2b9f1.js"><link rel="prefetch" href="/assets/js/112.b6cf1aea.js"><link rel="prefetch" href="/assets/js/113.742eaeb1.js"><link rel="prefetch" href="/assets/js/114.88d9d98d.js"><link rel="prefetch" href="/assets/js/115.9d2a100a.js"><link rel="prefetch" href="/assets/js/116.d2429b02.js"><link rel="prefetch" href="/assets/js/117.7b3c5836.js"><link rel="prefetch" href="/assets/js/118.50318e3d.js"><link rel="prefetch" href="/assets/js/119.ed354618.js"><link rel="prefetch" href="/assets/js/12.4ea52c50.js"><link rel="prefetch" href="/assets/js/120.ff1c34c6.js"><link rel="prefetch" href="/assets/js/121.3913013a.js"><link rel="prefetch" href="/assets/js/122.c51df360.js"><link rel="prefetch" href="/assets/js/123.7d7931dd.js"><link rel="prefetch" href="/assets/js/124.749a0d98.js"><link rel="prefetch" href="/assets/js/125.948ea945.js"><link rel="prefetch" href="/assets/js/126.03551901.js"><link rel="prefetch" href="/assets/js/127.92ced21d.js"><link rel="prefetch" href="/assets/js/128.d5e95262.js"><link rel="prefetch" href="/assets/js/129.034e112b.js"><link rel="prefetch" href="/assets/js/13.ce23de6c.js"><link rel="prefetch" href="/assets/js/130.103337c6.js"><link rel="prefetch" href="/assets/js/131.e268f861.js"><link rel="prefetch" href="/assets/js/132.65f10543.js"><link rel="prefetch" href="/assets/js/133.35d3c705.js"><link rel="prefetch" href="/assets/js/134.e9be72eb.js"><link rel="prefetch" href="/assets/js/135.fcb68174.js"><link rel="prefetch" href="/assets/js/136.7d17d81f.js"><link rel="prefetch" href="/assets/js/137.cf1aa4b6.js"><link rel="prefetch" href="/assets/js/138.a00aeb0a.js"><link rel="prefetch" href="/assets/js/139.760b9573.js"><link rel="prefetch" href="/assets/js/14.21133967.js"><link rel="prefetch" href="/assets/js/140.982156eb.js"><link rel="prefetch" href="/assets/js/141.72238b40.js"><link rel="prefetch" href="/assets/js/142.8bd26d0d.js"><link rel="prefetch" href="/assets/js/143.8516737f.js"><link rel="prefetch" href="/assets/js/144.df30d764.js"><link rel="prefetch" href="/assets/js/145.2f6c6e79.js"><link rel="prefetch" href="/assets/js/146.4588ed64.js"><link rel="prefetch" href="/assets/js/147.62fc04ad.js"><link rel="prefetch" href="/assets/js/148.378cbdb7.js"><link rel="prefetch" href="/assets/js/149.0492b57e.js"><link rel="prefetch" href="/assets/js/15.bdcbdeb1.js"><link rel="prefetch" href="/assets/js/150.068b21c5.js"><link rel="prefetch" href="/assets/js/151.76f9e84c.js"><link rel="prefetch" href="/assets/js/152.ae2cb70d.js"><link rel="prefetch" href="/assets/js/153.9a6e83cb.js"><link rel="prefetch" href="/assets/js/154.f857ae89.js"><link rel="prefetch" href="/assets/js/155.307b9418.js"><link rel="prefetch" href="/assets/js/156.739debec.js"><link rel="prefetch" href="/assets/js/157.5a1dfb8e.js"><link rel="prefetch" href="/assets/js/158.396c7565.js"><link rel="prefetch" href="/assets/js/159.5d79955f.js"><link rel="prefetch" href="/assets/js/16.9c85aa78.js"><link rel="prefetch" href="/assets/js/160.6797b16f.js"><link rel="prefetch" href="/assets/js/161.78f12eb9.js"><link rel="prefetch" href="/assets/js/162.d2b2b9fa.js"><link rel="prefetch" href="/assets/js/163.7c6b402e.js"><link rel="prefetch" href="/assets/js/164.bb6f5198.js"><link rel="prefetch" href="/assets/js/165.6413143d.js"><link rel="prefetch" href="/assets/js/166.2d18a969.js"><link rel="prefetch" href="/assets/js/167.6b73826e.js"><link rel="prefetch" href="/assets/js/168.b0179911.js"><link rel="prefetch" href="/assets/js/169.45360c3e.js"><link rel="prefetch" href="/assets/js/17.d0e5fdd9.js"><link rel="prefetch" href="/assets/js/170.153e0f2d.js"><link rel="prefetch" href="/assets/js/171.05da47ec.js"><link rel="prefetch" href="/assets/js/172.009a16fa.js"><link rel="prefetch" href="/assets/js/173.ede559d5.js"><link rel="prefetch" href="/assets/js/174.31342991.js"><link rel="prefetch" href="/assets/js/175.5a4daac1.js"><link rel="prefetch" href="/assets/js/176.9bfe1272.js"><link rel="prefetch" href="/assets/js/177.cf032b0e.js"><link rel="prefetch" href="/assets/js/178.35f457c7.js"><link rel="prefetch" href="/assets/js/179.9d3e718a.js"><link rel="prefetch" href="/assets/js/18.1e077813.js"><link rel="prefetch" href="/assets/js/180.b27f7ac6.js"><link rel="prefetch" href="/assets/js/181.72dab53e.js"><link rel="prefetch" href="/assets/js/182.75e09097.js"><link rel="prefetch" href="/assets/js/183.b9cdc2f9.js"><link rel="prefetch" href="/assets/js/184.d8712b9a.js"><link rel="prefetch" href="/assets/js/185.8cb7bdb6.js"><link rel="prefetch" href="/assets/js/186.48073b4b.js"><link rel="prefetch" href="/assets/js/187.21a03cfd.js"><link rel="prefetch" href="/assets/js/188.94de90f9.js"><link rel="prefetch" href="/assets/js/189.746f42da.js"><link rel="prefetch" href="/assets/js/19.059b21d8.js"><link rel="prefetch" href="/assets/js/190.6b199d66.js"><link rel="prefetch" href="/assets/js/191.4d9711d2.js"><link rel="prefetch" href="/assets/js/192.e17ab329.js"><link rel="prefetch" href="/assets/js/193.aeb1fae8.js"><link rel="prefetch" href="/assets/js/194.bec52a76.js"><link rel="prefetch" href="/assets/js/195.67baee9f.js"><link rel="prefetch" href="/assets/js/196.ad14da1a.js"><link rel="prefetch" href="/assets/js/197.b891d759.js"><link rel="prefetch" href="/assets/js/198.6afd196b.js"><link rel="prefetch" href="/assets/js/199.fac0a9cf.js"><link rel="prefetch" href="/assets/js/20.4fe3eafd.js"><link rel="prefetch" href="/assets/js/200.5f8c09e1.js"><link rel="prefetch" href="/assets/js/201.952ff73e.js"><link rel="prefetch" href="/assets/js/202.52ba6447.js"><link rel="prefetch" href="/assets/js/203.3eb2e932.js"><link rel="prefetch" href="/assets/js/204.d12eba7d.js"><link rel="prefetch" href="/assets/js/205.35978252.js"><link rel="prefetch" href="/assets/js/206.58548631.js"><link rel="prefetch" href="/assets/js/207.55e23724.js"><link rel="prefetch" href="/assets/js/208.78a3acda.js"><link rel="prefetch" href="/assets/js/209.d6f0b1fa.js"><link rel="prefetch" href="/assets/js/21.e34386fb.js"><link rel="prefetch" href="/assets/js/210.5b9a5dc9.js"><link rel="prefetch" href="/assets/js/211.74e12077.js"><link rel="prefetch" href="/assets/js/212.013bc9ad.js"><link rel="prefetch" href="/assets/js/213.dbe90e20.js"><link rel="prefetch" href="/assets/js/214.3d02d326.js"><link rel="prefetch" href="/assets/js/215.6641c1cb.js"><link rel="prefetch" href="/assets/js/216.63f448d1.js"><link rel="prefetch" href="/assets/js/217.213fe12f.js"><link rel="prefetch" href="/assets/js/218.abede164.js"><link rel="prefetch" href="/assets/js/219.34201408.js"><link rel="prefetch" href="/assets/js/22.fda338ba.js"><link rel="prefetch" href="/assets/js/220.5c761591.js"><link rel="prefetch" href="/assets/js/221.da0703b9.js"><link rel="prefetch" href="/assets/js/222.990a6a77.js"><link rel="prefetch" href="/assets/js/223.25c93399.js"><link rel="prefetch" href="/assets/js/224.8e1d27f5.js"><link rel="prefetch" href="/assets/js/225.ead69a28.js"><link rel="prefetch" href="/assets/js/226.c422563d.js"><link rel="prefetch" href="/assets/js/227.97118fe7.js"><link rel="prefetch" href="/assets/js/228.cf877a01.js"><link rel="prefetch" href="/assets/js/229.40858aef.js"><link rel="prefetch" href="/assets/js/23.8a71f6a9.js"><link rel="prefetch" href="/assets/js/230.4c814643.js"><link rel="prefetch" href="/assets/js/231.56f464ba.js"><link rel="prefetch" href="/assets/js/232.5cba923c.js"><link rel="prefetch" href="/assets/js/233.53b5eb1d.js"><link rel="prefetch" href="/assets/js/234.6adcd59d.js"><link rel="prefetch" href="/assets/js/235.69880aed.js"><link rel="prefetch" href="/assets/js/236.1c4e44fc.js"><link rel="prefetch" href="/assets/js/237.4ca8b0fd.js"><link rel="prefetch" href="/assets/js/238.9b714bfa.js"><link rel="prefetch" href="/assets/js/239.2357c9ac.js"><link rel="prefetch" href="/assets/js/24.93dad987.js"><link rel="prefetch" href="/assets/js/240.0361acaa.js"><link rel="prefetch" href="/assets/js/241.bd236559.js"><link rel="prefetch" href="/assets/js/242.b61de29f.js"><link rel="prefetch" href="/assets/js/243.03c7b0c7.js"><link rel="prefetch" href="/assets/js/244.4099470f.js"><link rel="prefetch" href="/assets/js/245.e9adacd5.js"><link rel="prefetch" href="/assets/js/246.360a76d8.js"><link rel="prefetch" href="/assets/js/247.7c066da8.js"><link rel="prefetch" href="/assets/js/248.e2186a53.js"><link rel="prefetch" href="/assets/js/249.3c63fe6a.js"><link rel="prefetch" href="/assets/js/25.06c83527.js"><link rel="prefetch" href="/assets/js/250.bd093def.js"><link rel="prefetch" href="/assets/js/251.a1069828.js"><link rel="prefetch" href="/assets/js/252.bc247798.js"><link rel="prefetch" href="/assets/js/253.607a90a3.js"><link rel="prefetch" href="/assets/js/254.6d38cd30.js"><link rel="prefetch" href="/assets/js/255.cf438541.js"><link rel="prefetch" href="/assets/js/256.239cdd20.js"><link rel="prefetch" href="/assets/js/257.8247130e.js"><link rel="prefetch" href="/assets/js/258.9a838018.js"><link rel="prefetch" href="/assets/js/259.6409500e.js"><link rel="prefetch" href="/assets/js/26.81112137.js"><link rel="prefetch" href="/assets/js/260.60e41dbf.js"><link rel="prefetch" href="/assets/js/261.4a4de709.js"><link rel="prefetch" href="/assets/js/262.2e56e8a2.js"><link rel="prefetch" href="/assets/js/263.5ffc2e91.js"><link rel="prefetch" href="/assets/js/264.ec5ffafa.js"><link rel="prefetch" href="/assets/js/265.f477324f.js"><link rel="prefetch" href="/assets/js/266.09589a75.js"><link rel="prefetch" href="/assets/js/267.1d91fa2e.js"><link rel="prefetch" href="/assets/js/268.623c6f78.js"><link rel="prefetch" href="/assets/js/269.ede18e35.js"><link rel="prefetch" href="/assets/js/27.f115f75f.js"><link rel="prefetch" href="/assets/js/270.34b79201.js"><link rel="prefetch" href="/assets/js/271.c64129d9.js"><link rel="prefetch" href="/assets/js/272.e38c663f.js"><link rel="prefetch" href="/assets/js/273.d2304e79.js"><link rel="prefetch" href="/assets/js/274.513d7f0c.js"><link rel="prefetch" href="/assets/js/275.f201969d.js"><link rel="prefetch" href="/assets/js/276.2337defb.js"><link rel="prefetch" href="/assets/js/277.9932bcdf.js"><link rel="prefetch" href="/assets/js/278.2555f491.js"><link rel="prefetch" href="/assets/js/279.f717146d.js"><link rel="prefetch" href="/assets/js/28.7e51c7c0.js"><link rel="prefetch" href="/assets/js/280.03759404.js"><link rel="prefetch" href="/assets/js/281.e23d1549.js"><link rel="prefetch" href="/assets/js/282.2c4f6c53.js"><link rel="prefetch" href="/assets/js/283.176270aa.js"><link rel="prefetch" href="/assets/js/284.d3f388be.js"><link rel="prefetch" href="/assets/js/285.a550437e.js"><link rel="prefetch" href="/assets/js/286.ab6cc238.js"><link rel="prefetch" href="/assets/js/287.d837ceeb.js"><link rel="prefetch" href="/assets/js/288.585dc008.js"><link rel="prefetch" href="/assets/js/289.83ca998f.js"><link rel="prefetch" href="/assets/js/29.583c3665.js"><link rel="prefetch" href="/assets/js/290.c597b103.js"><link rel="prefetch" href="/assets/js/291.2f5d1618.js"><link rel="prefetch" href="/assets/js/292.8fba73f8.js"><link rel="prefetch" href="/assets/js/293.1ccd1a86.js"><link rel="prefetch" href="/assets/js/294.50b529e9.js"><link rel="prefetch" href="/assets/js/295.51544023.js"><link rel="prefetch" href="/assets/js/296.69090c0e.js"><link rel="prefetch" href="/assets/js/297.77bf57e2.js"><link rel="prefetch" href="/assets/js/298.e3f53ec2.js"><link rel="prefetch" href="/assets/js/299.98458923.js"><link rel="prefetch" href="/assets/js/30.6bff26ef.js"><link rel="prefetch" href="/assets/js/300.e8c9cbfd.js"><link rel="prefetch" href="/assets/js/301.d17d1350.js"><link rel="prefetch" href="/assets/js/302.ead736e4.js"><link rel="prefetch" href="/assets/js/303.b5e6948c.js"><link rel="prefetch" href="/assets/js/304.8b5036f2.js"><link rel="prefetch" href="/assets/js/305.6faaffc0.js"><link rel="prefetch" href="/assets/js/306.0f4e3207.js"><link rel="prefetch" href="/assets/js/307.29af6325.js"><link rel="prefetch" href="/assets/js/308.96a3ba77.js"><link rel="prefetch" href="/assets/js/309.955d1c9e.js"><link rel="prefetch" href="/assets/js/310.10a00f16.js"><link rel="prefetch" href="/assets/js/311.5539fd7c.js"><link rel="prefetch" href="/assets/js/312.95421076.js"><link rel="prefetch" href="/assets/js/313.ad8a1e43.js"><link rel="prefetch" href="/assets/js/314.162e0d16.js"><link rel="prefetch" href="/assets/js/315.919c63a1.js"><link rel="prefetch" href="/assets/js/316.66582b15.js"><link rel="prefetch" href="/assets/js/317.367fa8f0.js"><link rel="prefetch" href="/assets/js/318.4ba0021c.js"><link rel="prefetch" href="/assets/js/319.81689423.js"><link rel="prefetch" href="/assets/js/32.b16e3a96.js"><link rel="prefetch" href="/assets/js/320.753b4b6b.js"><link rel="prefetch" href="/assets/js/321.215266fe.js"><link rel="prefetch" href="/assets/js/322.8d9e61eb.js"><link rel="prefetch" href="/assets/js/323.4959845a.js"><link rel="prefetch" href="/assets/js/324.7fb2d53b.js"><link rel="prefetch" href="/assets/js/325.9ee2f7a7.js"><link rel="prefetch" href="/assets/js/326.6b10530d.js"><link rel="prefetch" href="/assets/js/327.4759d284.js"><link rel="prefetch" href="/assets/js/328.751ec7eb.js"><link rel="prefetch" href="/assets/js/329.0eb6990b.js"><link rel="prefetch" href="/assets/js/33.d10c4c02.js"><link rel="prefetch" href="/assets/js/330.bcf7c03e.js"><link rel="prefetch" href="/assets/js/331.d641112b.js"><link rel="prefetch" href="/assets/js/332.d4483e32.js"><link rel="prefetch" href="/assets/js/333.581668c5.js"><link rel="prefetch" href="/assets/js/334.173aa887.js"><link rel="prefetch" href="/assets/js/34.03e86bff.js"><link rel="prefetch" href="/assets/js/35.8df71935.js"><link rel="prefetch" href="/assets/js/36.4b269ece.js"><link rel="prefetch" href="/assets/js/37.b9b78238.js"><link rel="prefetch" href="/assets/js/38.fbc664d2.js"><link rel="prefetch" href="/assets/js/39.c6fed64e.js"><link rel="prefetch" href="/assets/js/40.00b53127.js"><link rel="prefetch" href="/assets/js/41.84a8ec5c.js"><link rel="prefetch" href="/assets/js/42.8257f04f.js"><link rel="prefetch" href="/assets/js/43.4c369a45.js"><link rel="prefetch" href="/assets/js/44.008bc4bc.js"><link rel="prefetch" href="/assets/js/45.e5eb96f5.js"><link rel="prefetch" href="/assets/js/46.cd66d5ae.js"><link rel="prefetch" href="/assets/js/47.f1299357.js"><link rel="prefetch" href="/assets/js/48.0d935da6.js"><link rel="prefetch" href="/assets/js/49.93aac5f8.js"><link rel="prefetch" href="/assets/js/50.5b06ddad.js"><link rel="prefetch" href="/assets/js/51.bfaa7634.js"><link rel="prefetch" href="/assets/js/52.d06bf41a.js"><link rel="prefetch" href="/assets/js/53.95be5b11.js"><link rel="prefetch" href="/assets/js/54.3666b40a.js"><link rel="prefetch" href="/assets/js/55.860dade4.js"><link rel="prefetch" href="/assets/js/56.84adcd98.js"><link rel="prefetch" href="/assets/js/57.a7fe766d.js"><link rel="prefetch" href="/assets/js/58.fc463805.js"><link rel="prefetch" href="/assets/js/59.1f834601.js"><link rel="prefetch" href="/assets/js/6.300c849a.js"><link rel="prefetch" href="/assets/js/60.2bfc5b2b.js"><link rel="prefetch" href="/assets/js/61.60b367ae.js"><link rel="prefetch" href="/assets/js/62.dab54ed0.js"><link rel="prefetch" href="/assets/js/63.a78430d2.js"><link rel="prefetch" href="/assets/js/64.f1456fe2.js"><link rel="prefetch" href="/assets/js/65.0a9a990f.js"><link rel="prefetch" href="/assets/js/66.2bf4e08c.js"><link rel="prefetch" href="/assets/js/67.51e501af.js"><link rel="prefetch" href="/assets/js/68.809c1a93.js"><link rel="prefetch" href="/assets/js/69.d449545d.js"><link rel="prefetch" href="/assets/js/70.6b0914b4.js"><link rel="prefetch" href="/assets/js/71.0bbb3344.js"><link rel="prefetch" href="/assets/js/72.58986550.js"><link rel="prefetch" href="/assets/js/73.f43d0109.js"><link rel="prefetch" href="/assets/js/74.c4362056.js"><link rel="prefetch" href="/assets/js/75.9cac6cf4.js"><link rel="prefetch" href="/assets/js/76.6cb4e5b0.js"><link rel="prefetch" href="/assets/js/77.0212e835.js"><link rel="prefetch" href="/assets/js/78.4f2b3f59.js"><link rel="prefetch" href="/assets/js/79.2cfd56dc.js"><link rel="prefetch" href="/assets/js/8.3b6fe697.js"><link rel="prefetch" href="/assets/js/80.39fafaad.js"><link rel="prefetch" href="/assets/js/81.3a32e68a.js"><link rel="prefetch" href="/assets/js/82.a17e3409.js"><link rel="prefetch" href="/assets/js/83.f62b5861.js"><link rel="prefetch" href="/assets/js/84.062c259b.js"><link rel="prefetch" href="/assets/js/85.8fa3e343.js"><link rel="prefetch" href="/assets/js/86.dca9f68a.js"><link rel="prefetch" href="/assets/js/87.e85eae17.js"><link rel="prefetch" href="/assets/js/88.9cfc00a2.js"><link rel="prefetch" href="/assets/js/89.839092a7.js"><link rel="prefetch" href="/assets/js/9.cfab03b0.js"><link rel="prefetch" href="/assets/js/90.2c2d83f1.js"><link rel="prefetch" href="/assets/js/91.34b4e89c.js"><link rel="prefetch" href="/assets/js/92.c63ca1d6.js"><link rel="prefetch" href="/assets/js/93.764621dd.js"><link rel="prefetch" href="/assets/js/94.4a61ba2b.js"><link rel="prefetch" href="/assets/js/95.bb2aee83.js"><link rel="prefetch" href="/assets/js/96.d7614e70.js"><link rel="prefetch" href="/assets/js/97.83b91e5d.js"><link rel="prefetch" href="/assets/js/98.2ccb7753.js"><link rel="prefetch" href="/assets/js/99.079d2ee5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8d7743fe.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.f20d812e.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.751a6989.js">
    <link rel="stylesheet" href="/assets/css/0.styles.23a8192d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">数蛙技术团队</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">一站式云工厂平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link router-link-active">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/dgiot/ddd/" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">一站式云工厂平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link router-link-active">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/dgiot/ddd/" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div style="padding-left:1.5rem;"><div></div></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>产品概览</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/" aria-current="page" class="sidebar-link">简介</a></li><li><a href="/zh/backend/dgiot/ddd/" aria-current="page" class="active sidebar-link">架构设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/dgiot/ddd/#分层架构" class="sidebar-link">分层架构</a></li><li class="sidebar-sub-header"><a href="/zh/backend/dgiot/ddd/#严格分层架构" class="sidebar-link">严格分层架构</a></li><li class="sidebar-sub-header"><a href="/zh/backend/dgiot/ddd/#松散分层架构-relaxed-layered-system" class="sidebar-link">松散分层架构（Relaxed Layered System）</a></li><li class="sidebar-sub-header"><a href="/zh/backend/dgiot/ddd/#继承分层架构-layering-through-inheritance" class="sidebar-link">继承分层架构（Layering Through Inheritance）</a></li><li class="sidebar-sub-header"><a href="/zh/backend/dgiot/ddd/#包-package-与分层架构" class="sidebar-link">包（Package）与分层架构</a></li><li class="sidebar-sub-header"><a href="/zh/backend/dgiot/ddd/#资源库-repository" class="sidebar-link">资源库（Repository）</a></li><li class="sidebar-sub-header"><a href="/zh/backend/dgiot/ddd/#三层或四层架构" class="sidebar-link">三层或四层架构</a></li></ul></li><li><a href="/zh/backend/dgiot/ddd/threemodes.html" class="sidebar-link">三种模式</a></li><li><a href="/zh/backend/dgiot/tenant/" class="sidebar-link">多租户</a></li><li><a href="/zh/backend/dgiot/plugin/" class="sidebar-link">插件机制</a></li><li><a href="/zh/backend/dgiot/proxy/" class="sidebar-link">网页代理</a></li><li><a href="/zh/backend/dgiot/exproto/" class="sidebar-link">扩展编程</a></li><li><a href="/zh/backend/dgiot/erlang/" class="sidebar-link">编程规范</a></li><li><a href="/zh/backend/dgiot/task_scheduling/" class="sidebar-link">任务调度</a></li><li><a href="/zh/backend/dgiot/syncparse/" class="sidebar-link">数据同步</a></li><li><a href="/zh/backend/dgiot/debug/" class="sidebar-link">远程定位</a></li><li><a href="/zh/backend/dgiot/rule-engine/" class="sidebar-link">规则引擎</a></li></ul></section></li></ul> </aside> <!----> <!----> <main class="page"><div class="theme-default-content" style="margin-top:3.6rem;padding-top:0;padding-bottom:0;"></div> <div class="theme-default-content"><div class="content__default"><h2 id="分层架构"><a href="#分层架构" class="header-anchor">#</a> <strong>分层架构</strong></h2> <p>在应用系统开发中，采用严格的、单一的、真正的的分层架构是可以的，但实际上我们已经采用了多种架构模式设计系统。当多种不同范式的架构混合在一起，你会不会出现“指鹿为马”的现象呢？</p> <ul><li><h2 id="严格分层架构"><a href="#严格分层架构" class="header-anchor">#</a> <strong>严格分层架构</strong></h2></li></ul> <p>在研究分层架构时，常通过概念性的定义或 OSI 七层应用（架构）来说明或解释分层架构：</p> <blockquote><p>架构模式 Layers 有助于将应用程序划分为多组子任务，其中每组子任务都位于特定抽象层。</p></blockquote> <p><img src="http://dgiot-1253666439.cos.ap-shanghai-fsi.myqcloud.com/shuwa_tech/zh/backend/dgiot/ddd/osi.png" alt="osi.png"></p> <p>图片取自《 POSA , Vol.I , p22 》</p> <p>作为一个在项目中引入分层架构的应用者，我们应该从更具体的规范来实现分层架构：</p> <ul><li><p>相邻层之间<strong>必须是单向耦合</strong>。上层只能依赖下层，下层永远不能依赖上层。</p></li> <li><p>相邻层之间<strong>必须是单向通信</strong>。上层去调用下层所提供的接口，下层永远不能调用上层的接口。</p></li></ul> <p>《 POSA , Vol.I 》 为我们提供了更多的实现规范，然而我要解决的是有关层的<strong>单向依赖</strong>问题。因为有一些人在使用分层架构时，尤其是将分层架构引入到项目的目录结构时，对于某些对象的划分（从属）存在一些混乱问题。</p> <p>如果你有兴趣了解更多分层架构的实现规范，可参考：《 POSA , Vol.I 》第二十六页到第二十九页相关知识。</p> <ul><li><h2 id="松散分层架构-relaxed-layered-system"><a href="#松散分层架构-relaxed-layered-system" class="header-anchor">#</a> <strong>松散分层架构（Relaxed Layered System）</strong></h2></li></ul> <p>在领域驱动设计（DDD）中采用的是<strong>松散分层架构</strong>，层间关系不那么严格。每层都可能使用它下面所有层的服务，而不仅仅是下一层的服务。每层都可能是半透明的，这意味着有些服务只对上一层可见，而有些服务对上面的所有层都可见。</p> <p><img src="http://dgiot-1253666439.cos.ap-shanghai-fsi.myqcloud.com/shuwa_tech/zh/backend/dgiot/ddd/osi1.png" alt="osi1.png"></p> <p>注意：松散分层架构依然是单向依赖，表明上层只能调用下层的服务，下层不能调用上层的服务。</p> <ul><li><h2 id="继承分层架构-layering-through-inheritance"><a href="#继承分层架构-layering-through-inheritance" class="header-anchor">#</a> <strong>继承分层架构（Layering Through Inheritance）</strong></h2></li></ul> <p>同时在领域驱动设计（DDD）中也采用了<strong>继承分层架构</strong>，高层继承并实现低层接口。我们需要调整一下各层的顺序，并且将<strong>基础设施层</strong>移动到最高层。</p> <p><img src="http://dgiot-1253666439.cos.ap-shanghai-fsi.myqcloud.com/shuwa_tech/zh/backend/dgiot/ddd/osi2.png" alt=""></p> <p>注意：继承分层架构依然是单向依赖，这也意味着领域层、应用层、表现层将不能依赖基础设施层，相反基础设施层可以依赖它们。</p> <p>领域层 UserRepository 接口：</p> <div class="language-auto extra-class"><pre class="language-text"><code>package com.mallfoundry.user.domain;
public interface UserRepository {    User save(User user);}
</code></pre></div><p>基础设施层 JpaUserRepository 实现类：</p> <div class="language-auto extra-class"><pre class="language-text"><code>package com.mallfoundry.user.infrastructure.persistence;
public class JpaUserRepository implements UserRepository {
    private final EntityManager entityManager;
    public JpaUserRepository(EntityManager entityManager) {        this.entityManager = entityManager;    }
    @Override    public User save(User user) {        return this.entityManager.merge(user);    }}
</code></pre></div><ul><li><h2 id="包-package-与分层架构"><a href="#包-package-与分层架构" class="header-anchor">#</a> <strong>包（Package）与分层架构</strong></h2></li></ul> <p>我们确实使用包来划分层级，但是包名并不能真正表示分层。</p> <ul><li><h2 id="资源库-repository"><a href="#资源库-repository" class="header-anchor">#</a> <strong>资源库（Repository）</strong></h2></li></ul> <p>我们通常将资源库的实现放置在基础设施层，这是因为我们采用了<strong>继承分层架构</strong>。如果你现在采用的是<strong>松散分层架构</strong>，你需要将资源库的实现放置在领域层。这是层的单向依赖原则所致，你不应该破坏这个原则。没有任何理由需要破坏分层架构的单向依赖原则，除非你不采用分层架构。</p> <ul><li><h2 id="三层或四层架构"><a href="#三层或四层架构" class="header-anchor">#</a> <strong>三层或四层架构</strong></h2></li></ul> <p><img src="http://dgiot-1253666439.cos.ap-shanghai-fsi.myqcloud.com/shuwa_tech/zh/backend/dgiot/ddd/osi3.png" alt=""></p> <p>我们应该从混乱到有序的这个历史过程去研究（分析）分层架构，尤其是我们现在处在前后端分离的环境下，应用系统使用分层架构又面临着什么样的划分变化。</p> <ul><li><p>第一个阶段：应用系统只有两层：表示（现）层和数据库层。在视图中直接使用数据库所提供的访问接口操作数据，如：JDBC，在视图中<strong>直接使用</strong> <code>ResultSet</code> 表示数据。（需要特别注意的是：在视图中直接使用 <code>ResultSet</code> 。）</p></li> <li><p>第二个阶段：应用系统划分为三层：表现层、领域层和数据库层。在这个阶段，我们已经开始意识到模型了，模型的出现意味着在视图中不在直接使用 <code>ResultSet</code> 了，而是使用从 <code>ResultSet</code> 相映射的编程语言中的结构体（struct）或者对象类（class）。这表示：从编程语言中的表示法可以抽象业务域中的概念结构了。</p></li> <li><p>第三个阶段：应用系统划分为四层：表现层、应用（业务）逻辑层、领域层和数据库层。由于业务逻辑依然存在视图中，我们需要将视图中的业务逻辑与视图分离出来，此时出现了应用层。同时表现层也有所推进，<strong>表现层</strong>使用 MVC 架构。通过在 Controller 调用应用层所提供的接口并获得接口所返回的模型（model）数据，并在 Controller 中将 model 和 view 组合起来，最终完成渲染工作。正是因为在表现层使用 MVC 架构使得视图（view）与下层实现松耦合。</p></li></ul> <p>应用系统使用分层架构在第三阶段基本已经成熟。因为我们要探讨的是有关领域驱动设计（DDD）的分层架构，所以我们依然需要做进一步补充。具体包括两方面的补充：</p> <ul><li><p>第四个阶段：面向对象的发展与应用，这个阶段对总的层次划分没有大的变化。具体的变化的是有关应用层与领域层的内容，更具体的来说是领域层的变化。面向对象的出现使得大家开始使用面向对象来设计领域模型。这表示：由<strong>属性</strong>和<strong>操作</strong>所表示的对象模型用来抽象业务域中的概念模型。同时这又表示应用（业务）逻辑层中的业务逻辑也将被<strong>对象领域模型</strong>所承担，应用层只需要<strong>控制</strong>与<strong>协调</strong>有关对象领域模型的相关逻辑。非常幸运的是，Eric 对这一现象中的更多细节做了非常系统性的阐述，最终形成《领域驱动设计》这本书。</p></li> <li><p>第五个阶段：前后端分离后对分层架构的影响。在前后端分离的项目中，表现层被完全的从后端剥离出来，后端只需要提供接口数据，如：RESTful , gRPC , Thrift , GraphQL 协议的后端接口。此时后端还是不是四层架构呢？这确实伴随着两条发展路线：一条是服务于前端的后端模式（BFF）。另一条是基于聚合对象的接口模式。它们的区别在于 BFF 频繁变化，后者不会因为前端频繁变化而变化。</p></li></ul></div> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/10/2021, 6:45:09 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/backend/" class="prev router-link-active">简介</a></span> <span class="next"><a href="/zh/backend/dgiot/ddd/threemodes.html">三种模式</a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div><div class="add-this"></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.11bffe13.js" defer></script><script src="/assets/js/7.57a5124b.js" defer></script><script src="/assets/js/5.7fd7e714.js" defer></script><script src="/assets/js/31.74b30a12.js" defer></script>
  </body>
</html>
