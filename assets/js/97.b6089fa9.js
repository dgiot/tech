(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{456:function(t,e,a){"use strict";a.r(e);var _=a(8),v=Object(_.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置项"}},[t._v("#")]),t._v(" 配置项")]),t._v(" "),a("h2",{attrs:{id:"cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster"}},[t._v("#")]),t._v(" cluster")]),t._v(" "),a("h3",{attrs:{id:"cluster-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-name"}},[t._v("#")]),t._v(" cluster.name")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("emqxcl")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("集群名称。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-proto-dist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-proto-dist"}},[t._v("#")]),t._v(" cluster.proto_dist")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("inet_tcp")]),t._v(", "),a("code",[t._v("inet6_tcp")]),t._v(", "),a("code",[t._v("inet_tls")])]),t._v(" "),a("td",[a("code",[t._v("inet_tcp")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-2"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("分布式 Erlang 集群协议类型。可选值为:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("inet_tcp")]),t._v(": 使用 IPv4")]),t._v(" "),a("li",[a("code",[t._v("inet6_tcp")]),t._v(" 使用 IPv6")]),t._v(" "),a("li",[a("code",[t._v("inet_tls")]),t._v(": 使用 TLS，需要与 "),a("code",[t._v("node.ssl_dist_optfile")]),t._v(" 配置一起使用。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-discovery"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-discovery"}},[t._v("#")]),t._v(" cluster.discovery")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("manual")]),t._v(", "),a("code",[t._v("static")]),t._v(", "),a("code",[t._v("mcast")]),t._v(", "),a("code",[t._v("dns")]),t._v(", "),a("code",[t._v("etcd")]),t._v(", "),a("code",[t._v("k8s")])]),t._v(" "),a("td",[a("code",[t._v("manual")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-3"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("集群节点发现方式。可选值为:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("manual")]),t._v(": 手动加入集群")]),t._v(" "),a("li",[a("code",[t._v("static")]),t._v(": 配置静态节点。配置几个固定的节点，新节点通过连接固定节点中的某一个来加入集群。")]),t._v(" "),a("li",[a("code",[t._v("mcast")]),t._v(": 使用 UDP 多播的方式发现节点。")]),t._v(" "),a("li",[a("code",[t._v("dns")]),t._v(": 使用 DNS A 记录的方式发现节点。")]),t._v(" "),a("li",[a("code",[t._v("etcd")]),t._v(": 使用 etcd 发现节点。")]),t._v(" "),a("li",[a("code",[t._v("k8s")]),t._v(": 使用 Kubernetes 发现节点。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-autoheal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-autoheal"}},[t._v("#")]),t._v(" cluster.autoheal")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-4"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用或关闭集群脑裂自动恢复机制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-autoclean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-autoclean"}},[t._v("#")]),t._v(" cluster.autoclean")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5m")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-5"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定多久之后从集群中删除短线节点。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-static-seeds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-static-seeds"}},[t._v("#")]),t._v(" cluster.static.seeds")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("emqx1@192.168.0.100,emqx2@192.168.0.101")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-6"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 static 方式集群时，指定固定的节点列表，多个节点间使用逗号 "),a("code",[t._v(",")]),t._v(" 分隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-mcast-addr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-mcast-addr"}},[t._v("#")]),t._v(" cluster.mcast.addr")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ipaddr")]),t._v(" "),a("td",[a("code",[t._v("239.192.0.1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-7"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 mcast 方式集群时，指定多播地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-mcast-ports"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-mcast-ports"}},[t._v("#")]),t._v(" cluster.mcast.ports")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("4369")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-8"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 mcast 方式集群时，指定多播端口。如有多个端口使用逗号 "),a("code",[t._v(",")]),t._v(" 分隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-mcast-iface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-mcast-iface"}},[t._v("#")]),t._v(" cluster.mcast.iface")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ipaddr")]),t._v(" "),a("td",[a("code",[t._v("0.0.0.0")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-9"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 mcast 方式集群时，指定节点发现服务需要绑定到本地哪个 IP 地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-mcast-ttl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-mcast-ttl"}},[t._v("#")]),t._v(" cluster.mcast.ttl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("255")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-10"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 mcast 方式集群时，指定多播的 Time-To-Live 值。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-mcast-loop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-mcast-loop"}},[t._v("#")]),t._v(" cluster.mcast.loop")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-11"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 mcast 方式集群时，设置多播的报文是否投递到本地回环地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-dns-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-dns-name"}},[t._v("#")]),t._v(" cluster.dns.name")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("mycluster.com")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-12"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 dns 方式集群时，指定 DNS A 记录的名字。emqx 会通过访问这个 DNS A 记录来获取 IP 地址列表，然后拼接 "),a("code",[t._v("cluster.dns.app")]),t._v(" 里指定的 APP 名得到集群中所有节点的列表。")]),t._v(" "),a("h4",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[t._v("设置 "),a("code",[t._v("cluster.dns.app = emqx")]),t._v("，并且配置了一个 DNS: "),a("code",[t._v("mycluster.com")]),t._v("，其指向 3 个 IP 地址:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("192.168.0.100\n192.168.0.101\n192.168.0.102\n")])])]),a("p",[t._v("则得到集群节点列表如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("emqx@192.168.0.100\nemqx@192.168.0.101\nemqx@192.168.0.102\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-dns-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-dns-app"}},[t._v("#")]),t._v(" cluster.dns.app")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("emqx")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-13"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 dns 方式集群时，用来与从 "),a("code",[t._v("cluster.dns.name")]),t._v(" 获取的 IP 列表拼接得到节点名列表。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-etcd-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-etcd-server"}},[t._v("#")]),t._v(" cluster.etcd.server")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("http://127.0.0.1:2379")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-14"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 etcd 方式集群时，指定 etcd 服务的地址。如有多个服务使用逗号 "),a("code",[t._v(",")]),t._v(" 分隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-etcd-prefix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-etcd-prefix"}},[t._v("#")]),t._v(" cluster.etcd.prefix")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("emqxcl")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-15"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 etcd 方式集群时，指定 etcd 路径的前缀。每个节点在 etcd 中都会创建一个路径:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("v2/keys/<prefix>/<cluster.name>/<node.name>\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-etcd-node-ttl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-etcd-node-ttl"}},[t._v("#")]),t._v(" cluster.etcd.node_ttl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("1m")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-16"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 etcd 方式集群时，指定 etcd 中节点路径的过期时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-etcd-ssl-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-etcd-ssl-keyfile"}},[t._v("#")]),t._v(" cluster.etcd.ssl.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/client-key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-17"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 SSL 连接 etcd 时，指定客户端的私有 Key 文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-etcd-ssl-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-etcd-ssl-certfile"}},[t._v("#")]),t._v(" cluster.etcd.ssl.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/client.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-18"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 SSL 连接 etcd 时，指定 SSL 客户端的证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-etcd-ssl-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-etcd-ssl-cacertfile"}},[t._v("#")]),t._v(" cluster.etcd.ssl.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/ca.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-19"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 SSL 连接 etcd 时，指定 SSL 的 CA 证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-k8s-apiserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-k8s-apiserver"}},[t._v("#")]),t._v(" cluster.k8s.apiserver")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("http://10.110.111.204:8080")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-20"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 k8s 方式集群时，指定 Kubernetes API Server。如有多个 Server 使用逗号 "),a("code",[t._v(",")]),t._v(" 分隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-k8s-service-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-k8s-service-name"}},[t._v("#")]),t._v(" cluster.k8s.service_name")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("emqx")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-21"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 k8s 方式集群时，指定 Kubernetes 中 EMQ X 的服务名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-k8s-address-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-k8s-address-type"}},[t._v("#")]),t._v(" cluster.k8s.address_type")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ip")]),t._v(", "),a("code",[t._v("dns")]),t._v(", "),a("code",[t._v("hostname")])]),t._v(" "),a("td",[a("code",[t._v("ip")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-22"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 k8s 方式集群时，address_type 用来从 Kubernetes 接口的应答里获取什么形式的 Host 列表。")]),t._v(" "),a("h4",{attrs:{id:"示例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[t._v("指定 "),a("code",[t._v("cluster.k8s.address_type")]),t._v(" 为 "),a("code",[t._v("ip")]),t._v("，则将从 Kubernetes 接口中获取 emqx 服务的 IP 地址列表:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("172.16.122.31\n172.16.122.32\n172.16.122.33\n")])])]),a("p",[t._v("然后与 "),a("code",[t._v("cluster.k8s.app_name")]),t._v(" 配置指定的 app name 拼接，得到 emqx 节点列表:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("emqx@172.16.122.31\nemqx@172.16.122.32\nemqx@172.16.122.33\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-k8s-app-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-k8s-app-name"}},[t._v("#")]),t._v(" cluster.k8s.app_name")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("emqx")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-23"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 k8s 方式集群时，app_name 用来跟获取的 Host 列表拼接，得到节点列表。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-k8s-suffix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-k8s-suffix"}},[t._v("#")]),t._v(" cluster.k8s.suffix")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("pod.cluster.local")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-24"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-24"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 k8s 方式并且 "),a("code",[t._v("cluster.k8s.address_type")]),t._v(" 指定为 dns 类型时，可设置 emqx 节点名的后缀。与 "),a("code",[t._v("cluster.k8s.namespace")]),t._v(" 一起使用用以拼接得到节点名列表。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"cluster-k8s-namespace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-k8s-namespace"}},[t._v("#")]),t._v(" cluster.k8s.namespace")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[a("code",[t._v("default")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-25"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-25"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当使用 k8s 方式并且 "),a("code",[t._v("cluster.k8s.address_type")]),t._v(" 指定为 dns 类型时，可设置 emqx 节点名的命名空间。与 "),a("code",[t._v("cluster.k8s.suffix")]),t._v(" 一起使用用以拼接得到节点名列表。")]),t._v(" "),a("h4",{attrs:{id:"示例-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-3"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[t._v("设置 "),a("code",[t._v("cluster.k8s.address_type")]),t._v(" 为 "),a("code",[t._v("dns")]),t._v("，则将从 Kubernetes 接口中获取 emqx 服务的 dns 列表:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("172-16-122-31\n172-16-122-32\n172-16-122-33\n")])])]),a("p",[t._v("然后拼接上 "),a("code",[t._v("cluster.k8s.app_name = emqx")]),t._v("，"),a("code",[t._v("cluster.k8s.suffix = pod.cluster.local")]),t._v("，"),a("code",[t._v("cluster.k8s.namespace = default")]),t._v(" 得到 dns 形式的 emqx 节点名列表:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("emqx@172-16-122-31.default.pod.cluster.local\nemqx@172-16-122-32.default.pod.cluster.local\nemqx@172-16-122-33.default.pod.cluster.local\n")])])]),a("br"),t._v(" "),a("h2",{attrs:{id:"node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[t._v("#")]),t._v(" node")]),t._v(" "),a("h3",{attrs:{id:"node-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-name"}},[t._v("#")]),t._v(" node.name")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("emqx@127.0.0.1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-26"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-26"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("节点名。格式为 "),a("code",[t._v("<name>@<host>")]),t._v("。其中 "),a("code",[t._v("<host>")]),t._v(" 可以是 IP 地址，也可以是 FQDN。详见 "),a("a",{attrs:{href:"http://erlang.org/doc/reference_manual/distributed.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/reference_manual/distributed.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-cookie"}},[t._v("#")]),t._v(" node.cookie")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("emqxsecretcookie")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-27"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-27"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("分布式 Erlang 集群使用的 cookie 值。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-data-dir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-data-dir"}},[t._v("#")]),t._v(" node.data_dir")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("folder")]),t._v(" "),a("td",[a("code",[t._v("./data")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-28"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-28"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("节点的 data 目录，用于存放 Mnesia 数据文件等。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-heartbeat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-heartbeat"}},[t._v("#")]),t._v(" node.heartbeat")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-29"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("-heart")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("启用或关闭 Erlang 运行时检测机制，并在运行时终止时自动重启。需小心使用，以免手动关闭 emqx 时被监控进程重新启动。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-async-threads"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-async-threads"}},[t._v("#")]),t._v(" node.async_threads")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0 - 1024")]),t._v(" "),a("td",[t._v("4")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-30"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("+A")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("设置 Erlang 运行时异步线程池中的线程数量。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/erl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/erl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-process-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-process-limit"}},[t._v("#")]),t._v(" node.process_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024 - 134217727")]),t._v(" "),a("td",[t._v("2097152")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-31"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-31"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("+P")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("设置 Erlang 允许的最大进程数，这将影响 emqx 节点能处理的连接数。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/erl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/erl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-max-ports"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-max-ports"}},[t._v("#")]),t._v(" node.max_ports")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024 - 134217727")]),t._v(" "),a("td",[t._v("1048576")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-32"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-32"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("+Q")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("设置 Erlang 允许的最大 Ports 数量。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/erl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/erl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-dist-buffer-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-dist-buffer-size"}},[t._v("#")]),t._v(" node.dist_buffer_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("1KB - 2GB")]),t._v(" "),a("td",[a("code",[t._v("8MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-33"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-33"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("+zdbbl")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("设置 Erlang 分布式通信使用的最大缓存大小。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/erl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/erl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-max-ets-tables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-max-ets-tables"}},[t._v("#")]),t._v(" node.max_ets_tables")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("262144")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-34"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-34"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("+e")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("设置 Erlang 运行时允许的最大 ETS 表数量。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/erl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/erl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-global-gc-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-global-gc-interval"}},[t._v("#")]),t._v(" node.global_gc_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15m")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-35"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-35"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，设置 Erlang 运行多久强制进行一次全局垃圾回收。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-fullsweep-after"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-fullsweep-after"}},[t._v("#")]),t._v(" node.fullsweep_after")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0 - 65535")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-36"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-36"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("-env ERL_FULLSWEEP_AFTER")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("设置 Erlang 运行时多少次 generational GC 之后才进行一次 fullsweep GC。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/erlang.html#spawn_opt-4",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/erlang.html#spawn_opt-4"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-crash-dump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-crash-dump"}},[t._v("#")]),t._v(" node.crash_dump")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("log/crash.dump")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-37"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-37"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 Erlang crash_dump 文件的存储路径和文件名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-ssl-dist-optfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-ssl-dist-optfile"}},[t._v("#")]),t._v(" node.ssl_dist_optfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/ssl_dist.conf")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-38"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-38"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("-ssl_dist_optfile")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("如使用 SSL 方式建立 emqx 集群，需指定 SSL 分布式协议的配置文件。需要与 "),a("code",[t._v("cluster.proto_dist = inet_tls")]),t._v(" 一起使用。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-dist-net-ticktime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-dist-net-ticktime"}},[t._v("#")]),t._v(" node.dist_net_ticktime")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("120")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-39"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-39"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("系统调优参数，此配置将覆盖 "),a("code",[t._v("vm.args")]),t._v(" 文件里的 "),a("code",[t._v("-kernel net_ticktime")]),t._v(" 参数。")]),t._v(" "),a("p",[t._v("当一个节点持续无响应多久之后，认为其已经宕机并断开连接。详情请参见 "),a("a",{attrs:{href:"http://www.erlang.org/doc/man/kernel_app.html#net_ticktime",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.erlang.org/doc/man/kernel_app.html#net_ticktime"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-dist-listen-min"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-dist-listen-min"}},[t._v("#")]),t._v(" node.dist_listen_min")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024 - 65535")]),t._v(" "),a("td",[t._v("6369")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-40"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-40"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("与 "),a("code",[t._v("node.dist_listen_max")]),t._v(" 一起设定一个 TCP 端口段，此端口段用于分配给分布式 Erlang，作为分布式通道的监听端口。注意如果在节点之间设置了防火墙，需要将此端口段放进防火墙的端口白名单里。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-dist-listen-max"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-dist-listen-max"}},[t._v("#")]),t._v(" node.dist_listen_max")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024 - 65535")]),t._v(" "),a("td",[t._v("6369")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-41"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-41"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("与 "),a("code",[t._v("node.dist_listen_min")]),t._v(" 一起设定一个 TCP 端口段，此端口段用于分配给分布式 Erlang，作为分布式通道的监听端口。注意如果在节点之间设置了防火墙，需要将此端口段放进防火墙的端口白名单里。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"rpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc"}},[t._v("#")]),t._v(" rpc")]),t._v(" "),a("h3",{attrs:{id:"rpc-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-mode"}},[t._v("#")]),t._v(" rpc.mode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("sync")]),t._v(", "),a("code",[t._v("async")])]),t._v(" "),a("td",[a("code",[t._v("async")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-42"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-42"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("RPC 模式。可选同步或异步模式。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-async-batch-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-async-batch-size"}},[t._v("#")]),t._v(" rpc.async_batch_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("256")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-43"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-43"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("异步模式下最大的批量发送消息数。注意此配置在同步模式下不起作用。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-tcp-server-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-tcp-server-port"}},[t._v("#")]),t._v(" node.tcp_server_port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024 - 65535")]),t._v(" "),a("td",[t._v("5369")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-44"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-44"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 RPC 本地服务使用的监听 port。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-tcp-client-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-tcp-client-port"}},[t._v("#")]),t._v(" node.tcp_client_port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024-65535")]),t._v(" "),a("td",[t._v("5369")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-45"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-45"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置远程 RPC 服务的端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"node-tcp-client-num"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-tcp-client-num"}},[t._v("#")]),t._v(" node.tcp_client_num")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1 - 256")]),t._v(" "),a("td",[t._v("CPU 核心数 / 2")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-46"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-46"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置由本节点发起，通往每个远程节点的 RPC 通信通道数量。设置为 1 可保证消息顺序。保持默认值（CPU 核心数的一半）可提高 RPC 的吞吐能力。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-connect-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-connect-timeout"}},[t._v("#")]),t._v(" rpc.connect_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-47"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-47"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("建立 RPC 连接超时时间。建立连接时若远程节点无响应，多久之后放弃尝试。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-send-timeout"}},[t._v("#")]),t._v(" rpc.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-48"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-48"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("发送超时时间。发送消息多久之后放弃。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-authentication-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-authentication-timeout"}},[t._v("#")]),t._v(" rpc.authentication_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-49"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-49"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("RPC 认证超时时间。尝试认证若远程节点无响应，多久之后放弃。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-call-receive-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-call-receive-timeout"}},[t._v("#")]),t._v(" rpc.call_receive_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-50"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-50"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("RPC 同步模式的超时时间。RPC 同步调用若收不到回复，用多久之后放弃。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-socket-keepalive-idle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-socket-keepalive-idle"}},[t._v("#")]),t._v(" rpc.socket_keepalive_idle")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("900s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-51"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-51"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("在最近一次数据包发送多久之后，发送 keepalive 探测报文。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-socket-keepalive-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-socket-keepalive-interval"}},[t._v("#")]),t._v(" rpc.socket_keepalive_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("75s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-52"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-52"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("发送 keepalive 探测报文的间隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-socket-keepalive-count"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-socket-keepalive-count"}},[t._v("#")]),t._v(" rpc.socket_keepalive_count")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("9")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-53"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-53"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("连续多少次 keepalive 探测报文都收不到回复的情况下，认为 RPC 连接已丢失。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-socket-sndbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-socket-sndbuf"}},[t._v("#")]),t._v(" rpc.socket_sndbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-54"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-54"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 调优参数。TCP 发送缓冲区大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-socket-recbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-socket-recbuf"}},[t._v("#")]),t._v(" rpc.socket_recbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-55"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-55"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 调优参数。TCP 接收缓冲区大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rpc-socket-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-socket-buffer"}},[t._v("#")]),t._v(" rpc.socket_buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-56"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-56"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 调优参数。用户态的 Socket 缓冲区大小。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[t._v("#")]),t._v(" log")]),t._v(" "),a("h3",{attrs:{id:"log-to"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-to"}},[t._v("#")]),t._v(" log.to")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("off")]),t._v(", "),a("code",[t._v("file")]),t._v(", "),a("code",[t._v("console")]),t._v(", "),a("code",[t._v("both")])]),t._v(" "),a("td",[a("code",[t._v("both")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-57"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-57"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("将日志输出到什么地方。可选值为:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("off:")]),t._v(" 完全关闭日志功能")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("file:")]),t._v(" 仅将日志输出到文件")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("console:")]),t._v(" 仅将日志输出到标准输出(emqx 控制台)")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("both:")]),t._v(" 同时将日志输出到文件和标准输出(emqx 控制台)")])])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"log-level"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-level"}},[t._v("#")]),t._v(" log.level")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("debug")]),t._v(", "),a("code",[t._v("info")]),t._v(", "),a("code",[t._v("notice")]),t._v(", "),a("code",[t._v("warning")]),a("br"),a("code",[t._v("error")]),t._v(", "),a("code",[t._v("critical")]),t._v(", "),a("code",[t._v("alert")]),t._v(", "),a("code",[t._v("emergency")])]),t._v(" "),a("td",[a("code",[t._v("warning")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-58"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-58"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("全局的日志级别。这包括 primary log level 以及所有的 log handlers。详情请参见 "),a("RouterLink",{attrs:{to:"/zh/backend/emqx/getting-started/log.html#log-level-and-log-handlers"}},[t._v("日志级别和 log handlers")]),t._v("。")],1),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"log-dir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-dir"}},[t._v("#")]),t._v(" log.dir")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("dir")]),t._v(" "),a("td",[a("code",[t._v("./log")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-59"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-59"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("日志文件目录。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"log-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-file"}},[t._v("#")]),t._v(" log.file")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("emqx.log")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-60"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-60"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("日志文件的前缀。例如，若使用默认值 ("),a("code",[t._v("log.file = emqx.log")]),t._v(")，日志文件名将为 "),a("code",[t._v("emqx.log.1")]),t._v("，"),a("code",[t._v("emqx.log.2")]),t._v("，...。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"log-chars-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-chars-limit"}},[t._v("#")]),t._v(" log.chars_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-1")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-61"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-61"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置单个日志消息的最大长度。如超过此长度，日志消息将被截断。"),a("code",[t._v("-1")]),t._v(" 表示无限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"log-rotation-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-rotation-size"}},[t._v("#")]),t._v(" log.rotation.size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("10MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-62"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-62"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置单个日志文件大小。如超过此大小，则进行日志文件滚动，创建新的日志文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"log-rotation-count"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-rotation-count"}},[t._v("#")]),t._v(" log.rotation.count")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("5")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-63"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-63"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置日志文件总个数。如超过此文件个数，则下一次日志文件滚动将会覆盖第一个文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"log-file-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-file-2"}},[t._v("#")]),t._v(" log."),a("level",[t._v(".file")])],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-64"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("针对某日志级别设置单独的日志文件。")]),t._v(" "),a("h4",{attrs:{id:"示例-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-4"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[t._v("将 info 及 info 以上的日志单独输出到 "),a("code",[t._v("info.log.N")]),t._v(" 文件中：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("log.info.file = info.log\n")])])]),a("p",[t._v("将 error 及 error 以上的日志单独输出到 "),a("code",[t._v("error.log.N")]),t._v(" 文件中")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("log.error.file = error.log\n")])])]),a("br"),t._v(" "),a("h2",{attrs:{id:"authacl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authacl"}},[t._v("#")]),t._v(" authacl")]),t._v(" "),a("h3",{attrs:{id:"allow-anonymous"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#allow-anonymous"}},[t._v("#")]),t._v(" allow_anonymous")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-65"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-65"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许匿名用户登录系统。")]),t._v(" "),a("p",[t._v("注：生产环境建议关闭此选项。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"acl-nomatch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl-nomatch"}},[t._v("#")]),t._v(" acl_nomatch")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("allow")]),t._v(", "),a("code",[t._v("deny")])]),t._v(" "),a("td",[a("code",[t._v("allow")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-66"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-66"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 未命中时，允许或者拒绝 发布/订阅 操作。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"acl-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl-file"}},[t._v("#")]),t._v(" acl_file")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/acl.conf")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-67"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-67"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("默认 ACL 文件的路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"enable-acl-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enable-acl-cache"}},[t._v("#")]),t._v(" enable_acl_cache")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-68"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-68"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否启用 ACL 缓存。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"acl-cache-max-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl-cache-max-size"}},[t._v("#")]),t._v(" acl_cache_max_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("32")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-69"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-69"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 规则最大缓存条数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"acl-cache-ttl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl-cache-ttl"}},[t._v("#")]),t._v(" acl_cache_ttl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("1m")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-70"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-70"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 规则最大缓存时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"acl-deny-action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl-deny-action"}},[t._v("#")]),t._v(" acl_deny_action")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ignore")]),t._v(", "),a("code",[t._v("disconnect")])]),t._v(" "),a("td",[a("code",[t._v("ignore")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-71"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-71"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 检查失败后，执行的操作。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ignore")]),t._v("：不做任何操作。")]),t._v(" "),a("li",[a("code",[t._v("disconnect")]),t._v("：断开连接。")])]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"mqtt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt"}},[t._v("#")]),t._v(" mqtt")]),t._v(" "),a("h3",{attrs:{id:"flapping-detect-policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flapping-detect-policy"}},[t._v("#")]),t._v(" flapping_detect_policy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("30, 1m, 5m")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-72"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-72"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 "),a("code",[t._v("Flapping")]),t._v(" 检查策略。")]),t._v(" "),a("p",[t._v("格式："),a("code",[t._v("<threshold>,<duration>,<banned>")]),t._v("。")]),t._v(" "),a("p",[t._v("例如，"),a("code",[t._v("30, 1m, 5m")]),t._v("，它表示如果客户端在 1 分钟内断开连接 30 次，那么在后续 5 分钟内禁止登录。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-max-packet-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-max-packet-size"}},[t._v("#")]),t._v(" mqtt.max_packet_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-73"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-73"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许的 MQTT 报文最大长度。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-max-clientid-len"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-max-clientid-len"}},[t._v("#")]),t._v(" mqtt.max_clientid_len")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("65535")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-74"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-74"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许的 Client ID 串的最大长度。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-max-topic-levels"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-max-topic-levels"}},[t._v("#")]),t._v(" mqtt.max_topic_levels")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-75"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-75"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许客户端订阅主题的最大层级。0 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-max-qos-allowed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-max-qos-allowed"}},[t._v("#")]),t._v(" mqtt.max_qos_allowed")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("0")]),t._v(", "),a("code",[t._v("1")]),t._v(", "),a("code",[t._v("2")])]),t._v(" "),a("td",[a("code",[t._v("2")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-76"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-76"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许客户端发布的最大 QoS 等级。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-max-topic-alias"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-max-topic-alias"}},[t._v("#")]),t._v(" mqtt.max_topic_alias")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("65535")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-77"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-77"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许最大的主题别名数。0 表示不支持主题别名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-retain-available"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-retain-available"}},[t._v("#")]),t._v(" mqtt.retain_available")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-78"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-78"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持 Retain 消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-wildcard-subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-wildcard-subscription"}},[t._v("#")]),t._v(" mqtt.wildcard_subscription")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-79"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-79"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持订阅通配主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-shared-subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-shared-subscription"}},[t._v("#")]),t._v(" mqtt.shared_subscription")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-80"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-80"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持共享订阅。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-ignore-loop-deliver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-ignore-loop-deliver"}},[t._v("#")]),t._v(" mqtt.ignore_loop_deliver")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-81"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-81"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否忽略自己发送的消息。如果忽略，则表明 EMQ X 不会向消息的发送端投递此消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-strict-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-strict-mode"}},[t._v("#")]),t._v(" mqtt.strict_mode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-82"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-82"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启严格检查模式。严格检查模式会更细致的检查 MQTT 报文的正确性。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"zoneexternal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zoneexternal"}},[t._v("#")]),t._v(" zoneexternal")]),t._v(" "),a("h3",{attrs:{id:"zone-external-idle-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-idle-timeout"}},[t._v("#")]),t._v(" zone.external.idle_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-83"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-83"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-enable-acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-enable-acl"}},[t._v("#")]),t._v(" zone.external.enable_acl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-84"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-84"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启 ACL 检查。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-enable-ban"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-enable-ban"}},[t._v("#")]),t._v(" zone.external.enable_ban")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-85"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-85"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启黑名单。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-enable-stats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-enable-stats"}},[t._v("#")]),t._v(" zone.external.enable_stats")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-86"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-86"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启客户端状态统计。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-acl-deny-action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-acl-deny-action"}},[t._v("#")]),t._v(" zone.external.acl_deny_action")]),t._v(" "),a("p",[t._v("| Type | Optional Value         | Default  |\n| ---- | -------------------- - | -------- |\n| enum | "),a("code",[t._v("ignore")]),t._v(", "),a("code",[t._v("disconnect")]),t._v(" | "),a("code",[t._v("ignore")]),t._v(" |")]),t._v(" "),a("h4",{attrs:{id:"说明-87"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-87"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 检查失败后，执行的操作。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ignore")]),t._v("：不做任何操作。")]),t._v(" "),a("li",[a("code",[t._v("disconnect")]),t._v("：断开连接。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-force-gc-policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-force-gc-policy"}},[t._v("#")]),t._v(" zone.external.force_gc_policy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("16000|16MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-88"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-88"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当收到一定数量的消息，或字节，就强制执行一次垃圾回收。")]),t._v(" "),a("p",[t._v("格式："),a("code",[t._v("<Number>|<Bytes>")]),t._v("。")]),t._v(" "),a("p",[t._v("例如，"),a("code",[t._v("16000|16MB")]),t._v(" 表示当收到 "),a("code",[t._v("16000")]),t._v(" 条消息，或 "),a("code",[t._v("16MB")]),t._v(" 的字节流入就强制执行一次垃圾回收。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-force-shutdown-policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-force-shutdown-policy"}},[t._v("#")]),t._v(" zone.external.force_shutdown_policy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-89"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-89"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当进程消息队列长度，或占用的内存字节到达某值，就强制关闭该进程。")]),t._v(" "),a("p",[t._v("这里的 "),a("code",[t._v("消息队列")]),t._v(" 指的是 Erlang 进程的 "),a("code",[t._v("消息邮箱")]),t._v("，并非 QoS 1 和 QoS 2 的 "),a("code",[t._v("mqueue")]),t._v("。")]),t._v(" "),a("p",[t._v("格式："),a("code",[t._v("<Number>|<Bytes>")]),t._v("。")]),t._v(" "),a("p",[t._v("例如，"),a("code",[t._v("32000|32MB")]),t._v(" 表示当进程堆积了 "),a("code",[t._v("32000")]),t._v(" 条消息，或进程占用内存达到 "),a("code",[t._v("32MB")]),t._v(" 则关闭该进程。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-packet-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-packet-size"}},[t._v("#")]),t._v(" zone.external.max_packet_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-90"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-90"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许的 MQTT 报文最大长度。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-clientid-len"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-clientid-len"}},[t._v("#")]),t._v(" zone.external.max_clientid_len")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-91"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-91"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许的 Client ID 串的最大长度。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-topic-levels"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-topic-levels"}},[t._v("#")]),t._v(" zone.external.max_topic_levels")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-92"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-92"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许客户端订阅主题的最大层级。0 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-qos-allowed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-qos-allowed"}},[t._v("#")]),t._v(" zone.external.max_qos_allowed")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("0")]),t._v(", "),a("code",[t._v("1")]),t._v(", "),a("code",[t._v("2")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-93"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-93"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许客户端发布的最大 QoS 等级。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-topic-alias"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-topic-alias"}},[t._v("#")]),t._v(" zone.external.max_topic_alias")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-94"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-94"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许最大的主题别名数。0 表示不支持主题别名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-retain-available"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-retain-available"}},[t._v("#")]),t._v(" zone.external.retain_available")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-95"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-95"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持 Retain 消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-wildcard-subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-wildcard-subscription"}},[t._v("#")]),t._v(" zone.external.wildcard_subscription")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-96"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-96"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持订阅通配主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-shared-subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-shared-subscription"}},[t._v("#")]),t._v(" zone.external.shared_subscription")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-97"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-97"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持共享订阅。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-server-keepalive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-server-keepalive"}},[t._v("#")]),t._v(" zone.external.server_keepalive")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-98"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-98"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("服务端指定的 Keepalive 时间。用于 MQTT v5.0 协议的 CONNACK 报文。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-keepalive-backoff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-keepalive-backoff"}},[t._v("#")]),t._v(" zone.external.keepalive_backoff")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("float")]),t._v(" "),a("td",[t._v("> 0.5")]),t._v(" "),a("td",[t._v("0.75")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-99"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-99"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Keepalive 退避指数。EMQ X 如果在 "),a("code",[t._v("Keepalive * backoff * 2")]),t._v(" 的时间内未收到客户端的任何数据报文，则认为客户端已心跳超时。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-subscriptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-subscriptions"}},[t._v("#")]),t._v(" zone.external.max_subscriptions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-100"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-100"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("单个客户端允许订阅的最大主题数。"),a("code",[t._v("0")]),t._v(" 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-upgrade-qos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-upgrade-qos"}},[t._v("#")]),t._v(" zone.external.upgrade_qos")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-101"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-101"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许 EMQ X 在投递消息时，强制升级消息的 QoS 等级为订阅的 QoS 等级。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-inflight"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-inflight"}},[t._v("#")]),t._v(" zone.external.max_inflight")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("32")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-102"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-102"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("飞行窗口大小。飞行窗口用于存储未被应答的 QoS 1 和 QoS 2 消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-retry-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-retry-interval"}},[t._v("#")]),t._v(" zone.external.retry_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("30s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-103"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-103"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息重发间隔。EMQ X 在每个间隔检查是否需要进行消息重发。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-awaiting-rel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-awaiting-rel"}},[t._v("#")]),t._v(" zone.external.max_awaiting_rel")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("100")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-104"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-104"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("QoS 2 消息的最大接收窗口，配置 EMQ X 能够同时处理多少从客户端发来的 QoS 2 消息。"),a("code",[t._v("0")]),t._v(" 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-await-rel-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-await-rel-timeout"}},[t._v("#")]),t._v(" zone.external.await_rel_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("300s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-105"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-105"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("QoS 2 消息处理超时时间，在超时后若还未收到 QoS 的 PUBREL 报文，则将消息从接收窗口中丢弃。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-session-expiry-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-session-expiry-interval"}},[t._v("#")]),t._v(" zone.external.session_expiry_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("2h")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-106"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-106"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("会话默认超时时间，主要用于 MQTT v3.1 和 v3.1.1 协议。在 MQTT v5.0 中，该值通常会携带在客户端的连接报文中。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-max-mqueue-len"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-max-mqueue-len"}},[t._v("#")]),t._v(" zone.external.max_mqueue_len")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-107"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-107"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息队列最大长度。当飞行窗口满，或客户端离线后，消息会被存储至该队列中。0 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-mqueue-priorities"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-mqueue-priorities"}},[t._v("#")]),t._v(" zone.external.mqueue_priorities")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("none")]),t._v(", "),a("code",[t._v("<Spec>")])]),t._v(" "),a("td",[a("code",[t._v("none")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-108"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-108"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("队列消息优先级配置：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("none")]),t._v("：表示无优先级区分。")]),t._v(" "),a("li",[a("code",[t._v("<Spec>")]),t._v("：表示为一个消息优先表，它配置了某主题下消息的优先级。例如：\n"),a("ul",[a("li",[a("code",[t._v("topic/1=10")]),t._v("：表示主题 "),a("code",[t._v("topic/1")]),t._v(" 的消息优先级为 "),a("code",[t._v("10")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("topic/1=10,topic/2=8")]),t._v("：表示配置了两个主题的优先级，其分别为 "),a("code",[t._v("10")]),t._v(" 和 "),a("code",[t._v("8")]),t._v("。")]),t._v(" "),a("li",[t._v("其中，优先级数值越高，优先等级越高。")])])])]),t._v(" "),a("p",[t._v("当消息队列长度有限时，会优先丢弃低优先级的消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-mqueue-default-priority"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-mqueue-default-priority"}},[t._v("#")]),t._v(" zone.external.mqueue_default_priority")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("highest")]),t._v(", "),a("code",[t._v("lowest")])]),t._v(" "),a("td",[a("code",[t._v("highest")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-109"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-109"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息默认的优先等级。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-mqueue-store-qos0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-mqueue-store-qos0"}},[t._v("#")]),t._v(" zone.external.mqueue_store_qos0")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-110"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-110"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息队列是否存储 QoS 0 消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-enable-flapping-detect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-enable-flapping-detect"}},[t._v("#")]),t._v(" zone.external.enable_flapping_detect")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-111"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-111"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启 "),a("code",[t._v("Flapping")]),t._v(" 检查。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-mountpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-mountpoint"}},[t._v("#")]),t._v(" zone.external.mountpoint")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-112"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-112"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("主题挂载点。配置后，所有订阅和发布的主题在 EMQ X 都会为其增加一个前缀。")]),t._v(" "),a("p",[t._v("其中可用的占位符有：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("%c")]),t._v("：表示客户端的 Client ID。")]),t._v(" "),a("li",[a("code",[t._v("%u")]),t._v("：表示客户端的 Username。")])]),t._v(" "),a("p",[t._v("例如，配置挂载点为 "),a("code",[t._v("user/%c/")]),t._v("。那么 Client ID 为 "),a("code",[t._v("tom")]),t._v(" 的客户端在发布主题 "),a("code",[t._v("open")]),t._v(" 消息时，实际在 EMQ X 中路由的主题是 "),a("code",[t._v("user/tom/open")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-use-username-as-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-use-username-as-clientid"}},[t._v("#")]),t._v(" zone.external.use_username_as_clientid")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-113"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-113"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否用客户端的 Username 作为其 Client ID。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-ignore-loop-deliver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-ignore-loop-deliver"}},[t._v("#")]),t._v(" zone.external.ignore_loop_deliver")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-114"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-114"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否忽略自己发送的消息。如果忽略，则表明 EMQ X 不会向消息的发送端投递此消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-external-strict-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-external-strict-mode"}},[t._v("#")]),t._v(" zone.external.strict_mode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-115"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-115"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启严格检查模式。严格检查模式会更细致的检查 MQTT 报文的正确性。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"zoneinternal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zoneinternal"}},[t._v("#")]),t._v(" zoneinternal")]),t._v(" "),a("h3",{attrs:{id:"zone-internal-allow-anonymous"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-allow-anonymous"}},[t._v("#")]),t._v(" zone.internal.allow_anonymous")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-116"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-116"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许匿名用户登录系统。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-enable-stats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-enable-stats"}},[t._v("#")]),t._v(" zone.internal.enable_stats")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-117"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-117"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启客户端状态统计。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-enable-acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-enable-acl"}},[t._v("#")]),t._v(" zone.internal.enable_acl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-118"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-118"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启 ACL 检查。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-acl-deny-action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-acl-deny-action"}},[t._v("#")]),t._v(" zone.internal.acl_deny_action")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ignore")]),t._v(", "),a("code",[t._v("disconnect")])]),t._v(" "),a("td",[a("code",[t._v("ignore")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-119"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-119"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 检查失败后，执行的操作。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ignore")]),t._v("：不做任何操作。")]),t._v(" "),a("li",[a("code",[t._v("disconnect")]),t._v("：断开连接。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-force-gc-policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-force-gc-policy"}},[t._v("#")]),t._v(" zone.internal.force_gc_policy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-120"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-120"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当收到一定数量的消息，或字节，就强制执行一次垃圾回收。")]),t._v(" "),a("p",[t._v("格式："),a("code",[t._v("<Number>|<Bytes>")]),t._v("。")]),t._v(" "),a("p",[t._v("例如，"),a("code",[t._v("16000|16MB")]),t._v(" 表示当收到 "),a("code",[t._v("16000")]),t._v(" 条消息，或 "),a("code",[t._v("16MB")]),t._v(" 的字节流入就强制执行一次垃圾回收。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-wildcard-subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-wildcard-subscription"}},[t._v("#")]),t._v(" zone.internal.wildcard_subscription")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-121"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-121"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持订阅通配主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-shared-subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-shared-subscription"}},[t._v("#")]),t._v(" zone.internal.shared_subscription")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-122"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-122"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否支持共享订阅。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-max-subscriptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-max-subscriptions"}},[t._v("#")]),t._v(" zone.internal.max_subscriptions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-123"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-123"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("单个客户端允许订阅的最大主题数。"),a("code",[t._v("0")]),t._v(" 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-max-inflight"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-max-inflight"}},[t._v("#")]),t._v(" zone.internal.max_inflight")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("128")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-124"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-124"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("飞行窗口大小。飞行窗口用于存储未被应答的 QoS 1 和 QoS 2 消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-max-awaiting-rel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-max-awaiting-rel"}},[t._v("#")]),t._v(" zone.internal.max_awaiting_rel")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-125"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-125"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("QoS 2 消息的最大接收窗口，配置 EMQ X 能够同时处理多少从客户端发来的 QoS 2 消息。"),a("code",[t._v("0")]),t._v(" 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-max-mqueue-len"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-max-mqueue-len"}},[t._v("#")]),t._v(" zone.internal.max_mqueue_len")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("10000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-126"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-126"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息队列最大长度。当飞行窗口满，或客户端离线后，消息会被存储至该队列中。"),a("code",[t._v("0")]),t._v(" 表示不限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-mqueue-store-qos0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-mqueue-store-qos0"}},[t._v("#")]),t._v(" zone.internal.mqueue_store_qos0")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-127"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-127"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息队列是否存储 QoS 0 消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-enable-flapping-detect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-enable-flapping-detect"}},[t._v("#")]),t._v(" zone.internal.enable_flapping_detect")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-128"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-128"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启 "),a("code",[t._v("Flapping")]),t._v(" 检查。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-force-shutdown-policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-force-shutdown-policy"}},[t._v("#")]),t._v(" zone.internal.force_shutdown_policy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-129"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-129"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当进程消息队列长度，或占用的内存字节到达某值，就强制关闭该进程。")]),t._v(" "),a("p",[t._v("这里的 "),a("code",[t._v("消息队列")]),t._v(" 指的是 Erlang 进程的 "),a("code",[t._v("消息邮箱")]),t._v("，并非 QoS 1 和 QoS 2 的 "),a("code",[t._v("mqueue")]),t._v("。")]),t._v(" "),a("p",[t._v("格式："),a("code",[t._v("<Number>|<Bytes>")]),t._v("。")]),t._v(" "),a("p",[t._v("例如，"),a("code",[t._v("32000|32MB")]),t._v(" 表示当进程堆积了 "),a("code",[t._v("32000")]),t._v(" 条消息，或进程占用内存达到 "),a("code",[t._v("32MB")]),t._v(" 则关闭该进程。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-mountpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-mountpoint"}},[t._v("#")]),t._v(" zone.internal.mountpoint")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-130"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-130"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("主题挂载点。配置后，所有订阅和发布的主题在 EMQ X 都会为其增加一个前缀。")]),t._v(" "),a("p",[t._v("其中可用的占位符有：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("%c")]),t._v("：表示客户端的 Client ID。")]),t._v(" "),a("li",[a("code",[t._v("%u")]),t._v("：表示客户端的 Username。")])]),t._v(" "),a("p",[t._v("例如，配置挂载点为 "),a("code",[t._v("user/%c/")]),t._v("。那么 Client ID 为 "),a("code",[t._v("tom")]),t._v(" 的客户端在发布主题 "),a("code",[t._v("open")]),t._v(" 消息时，实际在 EMQ X 中路由的主题是 "),a("code",[t._v("user/tom/open")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-ignore-loop-deliver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-ignore-loop-deliver"}},[t._v("#")]),t._v(" zone.internal.ignore_loop_deliver")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-131"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-131"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否忽略自己发送的消息。如果忽略，则表明 EMQ X 不会向消息的发送端投递此消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-strict-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-strict-mode"}},[t._v("#")]),t._v(" zone.internal.strict_mode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-132"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-132"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启严格检查模式。严格检查模式会更细致的检查 MQTT 报文的正确性。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"zone-internal-bypass-auth-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zone-internal-bypass-auth-plugins"}},[t._v("#")]),t._v(" zone.internal.bypass_auth_plugins")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-133"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-133"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许该 Zone 下的客户端绕过认证插件的认证步骤。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"tcpexternal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcpexternal"}},[t._v("#")]),t._v(" tcpexternal")]),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external"}},[t._v("#")]),t._v(" listener.tcp.external")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("0.0.0.0:1883")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-134"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-134"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("配置名称为 "),a("code",[t._v("external")]),t._v(" 的 MQTT/TCP 监听器的监听地址。")]),t._v(" "),a("h4",{attrs:{id:"示例-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-5"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[a("code",[t._v("1883")]),t._v("：表监听 IPv4 的 "),a("code",[t._v("0.0.0.0:1883")]),t._v("。\n"),a("code",[t._v("127.0.0.1:1883")]),t._v("：表监听地址为 "),a("code",[t._v("127.0.0.1")]),t._v(" 网卡上的 "),a("code",[t._v("1883")]),t._v(" 端口。\n"),a("code",[t._v("::1:1883")]),t._v("：表监听 IPv6 地址为 "),a("code",[t._v("::1")]),t._v(" 网卡上的 "),a("code",[t._v("1883")]),t._v(" 端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-acceptors"}},[t._v("#")]),t._v(" listener.tcp.external.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-135"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-135"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的接收池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-max-connections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-max-connections"}},[t._v("#")]),t._v(" listener.tcp.external.max_connections")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-136"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-136"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大并发连接数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-max-conn-rate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-max-conn-rate"}},[t._v("#")]),t._v(" listener.tcp.external.max_conn_rate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-137"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-137"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大接入速率。单位：个/秒")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-active-n"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-active-n"}},[t._v("#")]),t._v(" listener.tcp.external.active_n")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("100")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-138"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-138"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器持续接收 TCP 报文的次数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-zone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-zone"}},[t._v("#")]),t._v(" listener.tcp.external.zone")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("external")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-139"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-139"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器所属的配置域 (Zone)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-rate-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-rate-limit"}},[t._v("#")]),t._v(" listener.tcp.external.rate_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-140"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-140"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的速率限制。格式为 "),a("code",[t._v("<limit>,<duration>")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"示例-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-6"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[a("code",[t._v("100KB,10s")]),t._v("：表 "),a("em",[t._v("限制 10 秒内的流入字节数不超过 100 KB")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-access-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-access-1"}},[t._v("#")]),t._v(" listener.tcp.external.access.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("allow all")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-141"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-141"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。")]),t._v(" "),a("h4",{attrs:{id:"示例-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-7"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[a("code",[t._v("allow all")]),t._v("：表允许所有的 TCP 连接接入。\n"),a("code",[t._v("allow 192.168.0.0/24")]),t._v("：表允许网络地址为 "),a("code",[t._v("192.168.0.0/24")]),t._v(" 的 TCP 连接接入。")]),t._v(" "),a("p",[t._v("同时，该配置可配置多条规则：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("listener.tcp.external.access.1 = deny 192.168.0.1\nlistener.tcp.external.access.2 = allow all\n")])])]),a("p",[t._v("它表示，除 "),a("code",[t._v("192.168.0.1")]),t._v(" 外的 TCP 连接都允许接入。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-proxy-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-proxy-protocol"}},[t._v("#")]),t._v(" listener.tcp.external.proxy_protocol")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-142"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-142"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器是否开启 "),a("code",[t._v("Proxy Protocol")]),t._v(" 的支持。")]),t._v(" "),a("p",[t._v("如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。")]),t._v(" "),a("p",[a("code",[t._v("Proxy Protcol")]),t._v(" 参考: "),a("a",{attrs:{href:"https://www.haproxy.com/blog/haproxy/proxy-protocol",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.haproxy.com/blog/haproxy/proxy-protocol"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-proxy-protocol-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-proxy-protocol-timeout"}},[t._v("#")]),t._v(" listener.tcp.external.proxy_protocol_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-143"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-143"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-peer-cert-as-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-peer-cert-as-username"}},[t._v("#")]),t._v(" listener.tcp.external.peer_cert_as_username")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("cn")]),t._v(", "),a("code",[t._v("dn")]),t._v(", "),a("code",[t._v("crt")]),t._v(", "),a("code",[t._v("pem")]),t._v(", "),a("code",[t._v("md5")])]),t._v(" "),a("td",[a("code",[t._v("cn")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-144"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-144"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用客户端证书来覆盖 Username 字段的值。其可选值为：")]),t._v(" "),a("ul",[a("li",[t._v("cn：客户端证书的 Common Name 字段值")]),t._v(" "),a("li",[t._v("dn：客户端证书的 Subject Name 字段值")]),t._v(" "),a("li",[t._v("crt：DER 格式编码的客户端证书二进制")]),t._v(" "),a("li",[t._v("pem：基于 DER 格式上的 base64 编码后的字符串")]),t._v(" "),a("li",[t._v("md5：DER 格式证书的 MD5 哈希值")])]),t._v(" "),a("p",[t._v("注意：在 TCP 的监听器下，该配置仅在负载均衡服务器终结 SSL 的部署情况下可以用；且负载均衡服务器需要配置\nProxy Protocol 将证书域的内容给发送至 EMQ X。例如 HAProxy 的配置可参考\n"),a("a",{attrs:{href:"http://cbonte.github.io/haproxy-dconv/1.7/configuration.html#5.2-send-proxy-v2-ssl",target:"_blank",rel:"noopener noreferrer"}},[t._v("send-proxy-v2-ssl"),a("OutboundLink")],1)]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-peer-cert-as-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-peer-cert-as-clientid"}},[t._v("#")]),t._v(" listener.tcp.external.peer_cert_as_clientid")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("cn")]),t._v(", "),a("code",[t._v("dn")]),t._v(", "),a("code",[t._v("crt")]),t._v(", "),a("code",[t._v("pem")]),t._v(", "),a("code",[t._v("md5")])]),t._v(" "),a("td",[a("code",[t._v("cn")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-145"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-145"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用客户端证书来覆盖 ClientID 字段的值。其可选值的含义同上。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-backlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-backlog"}},[t._v("#")]),t._v(" listener.tcp.external.backlog")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-146"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-146"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-send-timeout"}},[t._v("#")]),t._v(" listener.tcp.external.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-147"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-147"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-send-timeout-close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-send-timeout-close"}},[t._v("#")]),t._v(" listener.tcp.external.send_timeout_close")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-148"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-148"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时后，是否关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-recbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-recbuf"}},[t._v("#")]),t._v(" listener.tcp.external.recbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-149"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-149"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 接收缓存区大小（操作系统内核级参数）")]),t._v(" "),a("p",[t._v("参见：http://erlang.org/doc/man/inet.html")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-sndbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-sndbuf"}},[t._v("#")]),t._v(" listener.tcp.external.sndbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-150"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-150"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 发送缓存区大小（操作系统内核级参数）。")]),t._v(" "),a("p",[t._v("参见："),a("a",{attrs:{href:"http://erlang.org/doc/man/inet.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/inet.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-buffer"}},[t._v("#")]),t._v(" listener.tcp.external.buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-151"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-151"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 缓冲区大小 (用户级)。")]),t._v(" "),a("p",[t._v("该值建议大于等于 "),a("code",[t._v("sndbuff")]),t._v(" 和 "),a("code",[t._v("recbuff")]),t._v(" 的最大值，以避免一些性能问题。在不配置的情况下，它默认等于 sndbuff 和 recbuff 的最大值。")]),t._v(" "),a("p",[t._v("参见："),a("a",{attrs:{href:"http://erlang.org/doc/man/inet.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/inet.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-tune-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-tune-buffer"}},[t._v("#")]),t._v(" listener.tcp.external.tune_buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-152"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-152"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果打开此配置，请设置该值等于 "),a("code",[t._v("sndbuff")]),t._v(" 与 "),a("code",[t._v("recbuff")]),t._v(" 的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-nodelay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-nodelay"}},[t._v("#")]),t._v(" listener.tcp.external.nodelay")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-153"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-153"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("TCP_NODELAY")]),t._v(" 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-external-reuseaddr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-external-reuseaddr"}},[t._v("#")]),t._v(" listener.tcp.external.reuseaddr")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-154"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-154"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("SO_REUSEADDR")]),t._v(" 参数。开启该选项即允许本地重用端口，无需等待 "),a("code",[t._v("TIME_WAIT")]),t._v(" 状态结束。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"tcpinternal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcpinternal"}},[t._v("#")]),t._v(" tcpinternal")]),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal"}},[t._v("#")]),t._v(" listener.tcp.internal")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("127.0.0.1:11883")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-155"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-155"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("配置名称为 "),a("code",[t._v("internal")]),t._v(" 的 MQTT/TCP 监听器的监听地址。")]),t._v(" "),a("h4",{attrs:{id:"示例-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-8"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[a("code",[t._v("11883")]),t._v("：表监听 IPv4 的 "),a("code",[t._v("0.0.0.0:11883")]),t._v("。\n"),a("code",[t._v("127.0.0.1:11883")]),t._v("：表监听地址为 "),a("code",[t._v("127.0.0.1")]),t._v(" 网卡上的 "),a("code",[t._v("11883")]),t._v(" 端口。\n"),a("code",[t._v("::1:11883")]),t._v("：表监听 IPv6 地址为 "),a("code",[t._v("::1")]),t._v(" 网卡上的 "),a("code",[t._v("11883")]),t._v(" 端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-acceptors"}},[t._v("#")]),t._v(" listener.tcp.internal.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("4")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-156"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-156"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的接收池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-max-connections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-max-connections"}},[t._v("#")]),t._v(" listener.tcp.internal.max_connections")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-157"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-157"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大并发连接数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-max-conn-rate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-max-conn-rate"}},[t._v("#")]),t._v(" listener.tcp.internal.max_conn_rate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-158"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-158"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大接入速率。单位：个/秒")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-active-n"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-active-n"}},[t._v("#")]),t._v(" listener.tcp.internal.active_n")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-159"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-159"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器持续接收 TCP 报文的次数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-zone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-zone"}},[t._v("#")]),t._v(" listener.tcp.internal.zone")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("internal")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-160"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-160"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器所属的配置域 (Zone)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-rate-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-rate-limit"}},[t._v("#")]),t._v(" listener.tcp.internal.rate_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-161"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-161"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的速率限制。格式为 "),a("code",[t._v("<limit>,<duration>")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"示例-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-9"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[a("code",[t._v("100KB,10s")]),t._v("：表 "),a("em",[t._v("限制 10 秒内的流入字节数不超过 100 KB")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-backlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-backlog"}},[t._v("#")]),t._v(" listener.tcp.internal.backlog")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-162"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-162"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-send-timeout"}},[t._v("#")]),t._v(" listener.tcp.internal.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-163"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-163"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-send-timeout-close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-send-timeout-close"}},[t._v("#")]),t._v(" listener.tcp.internal.send_timeout_close")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-164"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-164"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时后，是否关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-recbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-recbuf"}},[t._v("#")]),t._v(" listener.tcp.internal.recbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("64KB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-165"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-165"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 接收缓存区大小（操作系统内核级参数）")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-sndbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-sndbuf"}},[t._v("#")]),t._v(" listener.tcp.internal.sndbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("64KB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-166"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-166"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 发送缓存区大小（操作系统内核级参数）")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-buffer"}},[t._v("#")]),t._v(" listener.tcp.internal.buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-167"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-167"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 缓冲区大小 (用户级)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-tune-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-tune-buffer"}},[t._v("#")]),t._v(" listener.tcp.internal.tune_buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-168"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-168"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果打开此配置，请设置该值等于 "),a("code",[t._v("sndbuff")]),t._v(" 与 "),a("code",[t._v("recbuff")]),t._v(" 的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-nodelay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-nodelay"}},[t._v("#")]),t._v(" listener.tcp.internal.nodelay")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-169"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-169"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("TCP_NODELAY")]),t._v(" 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-tcp-internal-reuseaddr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-tcp-internal-reuseaddr"}},[t._v("#")]),t._v(" listener.tcp.internal.reuseaddr")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-170"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-170"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("SO_REUSEADDR")]),t._v(" 参数。开启该选项即允许本地重用端口，无需等待 "),a("code",[t._v("TIME_WAIT")]),t._v(" 状态结束。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"tlsexternal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tlsexternal"}},[t._v("#")]),t._v(" tlsexternal")]),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external"}},[t._v("#")]),t._v(" listener.ssl.external")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("0.0.0.0:8883")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-171"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-171"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("配置名称为 "),a("code",[t._v("external")]),t._v(" 的 SSL 监听器。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-acceptors"}},[t._v("#")]),t._v(" listener.ssl.external.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("16")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-172"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-172"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的接收池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-max-connections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-max-connections"}},[t._v("#")]),t._v(" listener.ssl.external.max_connections")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("102400")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-173"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-173"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大并发连接数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-max-conn-rate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-max-conn-rate"}},[t._v("#")]),t._v(" listener.ssl.external.max_conn_rate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("500")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-174"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-174"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大接入速率。单位：个/秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-active-n"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-active-n"}},[t._v("#")]),t._v(" listener.ssl.external.active_n")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("100")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-175"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-175"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器持续接收 TCP 报文的次数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-zone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-zone"}},[t._v("#")]),t._v(" listener.ssl.external.zone")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("external")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-176"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-176"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器所属的配置组 (Zone)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-access-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-access-1"}},[t._v("#")]),t._v(" listener.ssl.external.access.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("allow all")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-177"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-177"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。")]),t._v(" "),a("p",[t._v("例如:")]),t._v(" "),a("p",[a("code",[t._v("allow all")]),t._v("：表允许所有的 TCP 连接接入。\n"),a("code",[t._v("allow 192.168.0.0/24")]),t._v("：表允许网络地址为 "),a("code",[t._v("192.168.0.0/24")]),t._v(" 的 TCP 连接接入。")]),t._v(" "),a("p",[t._v("同时，该配置可配置多条规则:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("listener.ssl.external.access.1 = deny 192.168.0.1\nlistener.ssl.external.access.2 = allow all\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-rate-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-rate-limit"}},[t._v("#")]),t._v(" listener.ssl.external.rate_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-178"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-178"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的速率限制。格式为 "),a("code",[t._v("<limit>,<duration>")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-proxy-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-proxy-protocol"}},[t._v("#")]),t._v(" listener.ssl.external.proxy_protocol")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-179"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-179"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器是否开启 "),a("code",[t._v("Proxy Protocol")]),t._v(" 的支持。")]),t._v(" "),a("p",[t._v("如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。")]),t._v(" "),a("p",[a("code",[t._v("Proxy Protcol")]),t._v(" 参考: "),a("a",{attrs:{href:"https://www.haproxy.com/blog/haproxy/proxy-protocol",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.haproxy.com/blog/haproxy/proxy-protocol"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-proxy-protocol-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-proxy-protocol-timeout"}},[t._v("#")]),t._v(" listener.ssl.external.proxy_protocol_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-180"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-180"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-tls-versions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-tls-versions"}},[t._v("#")]),t._v(" listener.ssl.external.tls_versions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("tlsv1.2,tlsv1.1,tlsv1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-181"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-181"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定服务端支持的 SSL 的版本列表。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/ssl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/ssl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-handshake-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-handshake-timeout"}},[t._v("#")]),t._v(" listener.ssl.external.handshake_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-182"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-182"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 SSL 握手过程的超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-keyfile"}},[t._v("#")]),t._v(" listener.ssl.external.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-183"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-183"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 SSL 的私钥文件 (PEM)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-certfile"}},[t._v("#")]),t._v(" listener.ssl.external.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-184"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-184"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 SSL 的证书文件 (PEM)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-cacertfile"}},[t._v("#")]),t._v(" listener.ssl.external.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cacert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-185"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-185"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 SSL 的 CA 证书文件 (PEM)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-dhfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-dhfile"}},[t._v("#")]),t._v(" listener.ssl.external.dhfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/dh-params.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-186"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-186"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 Ephemeral Diffie-Helman 算法，指定算法使用的 key 文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-verify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-verify"}},[t._v("#")]),t._v(" listener.ssl.external.verify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("verify_peer")]),t._v(", "),a("code",[t._v("verify_none")])]),t._v(" "),a("td",[a("code",[t._v("verify_peer")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-187"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-187"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定握手过程中是否校验客户端。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-fail-if-no-peer-cert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-fail-if-no-peer-cert"}},[t._v("#")]),t._v(" listener.ssl.external.fail_if_no_peer_cert")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-188"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-188"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("SSL 握手过程中若客户端没有证书，是否让握手失败。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-ciphers"}},[t._v("#")]),t._v(" listener.ssl.external.ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-189"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-189"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定服务端支持的密码套件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-psk-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-psk-ciphers"}},[t._v("#")]),t._v(" listener.ssl.external.psk_ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-190"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-190"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 PSK 算法，指定服务端支持的 PSK Cipher 列表。注意 'listener.ssl.external.ciphers' 和 'listener.ssl.external.psk_ciphers' 只能配置一个。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-secure-renegotiate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-secure-renegotiate"}},[t._v("#")]),t._v(" listener.ssl.external.secure_renegotiate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-191"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-191"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定在客户端不遵循 RFC 5746 的情况下，是否拒绝 renegotiation 请求。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-reuse-sessions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-reuse-sessions"}},[t._v("#")]),t._v(" listener.ssl.external.reuse_sessions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-192"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-192"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否支持 SSL session 重用。详情见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/ssl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/ssl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-honor-cipher-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-honor-cipher-order"}},[t._v("#")]),t._v(" listener.ssl.external.honor_cipher_order")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-193"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-193"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否使用服务端的偏好设置选择 Ciphers。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-peer-cert-as-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-peer-cert-as-username"}},[t._v("#")]),t._v(" listener.ssl.external.peer_cert_as_username")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("cn")]),t._v(", "),a("code",[t._v("dn")]),t._v(", "),a("code",[t._v("crt")]),t._v(", "),a("code",[t._v("pem")]),t._v(", "),a("code",[t._v("md5")])]),t._v(" "),a("td",[a("code",[t._v("cn")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-194"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-194"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用客户端证书来覆盖 Username 字段的值。其可选值为：")]),t._v(" "),a("ul",[a("li",[t._v("cn：客户端证书的 Common Name 字段值")]),t._v(" "),a("li",[t._v("dn：客户端证书的 Subject Name 字段值")]),t._v(" "),a("li",[t._v("crt：DER 格式编码的客户端证书二进制")]),t._v(" "),a("li",[t._v("pem：基于 DER 格式上的 base64 编码后的字符串")]),t._v(" "),a("li",[t._v("md5：DER 格式证书的 MD5 哈希值")])]),t._v(" "),a("p",[t._v("注意 "),a("code",[t._v("listener.ssl.external.verify")]),t._v(" 应当设置为 "),a("code",[t._v("verify_peer")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-peer-cert-as-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-peer-cert-as-clientid"}},[t._v("#")]),t._v(" listener.ssl.external.peer_cert_as_clientid")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("cn")]),t._v(", "),a("code",[t._v("dn")]),t._v(", "),a("code",[t._v("crt")]),t._v(", "),a("code",[t._v("pem")]),t._v(", "),a("code",[t._v("md5")])]),t._v(" "),a("td",[a("code",[t._v("cn")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-195"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-195"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用客户端证书来覆盖 ClientID 字段的值。其可选值的含义同上。")]),t._v(" "),a("p",[t._v("注意 "),a("code",[t._v("listener.ssl.external.verify")]),t._v(" 应当设置为 "),a("code",[t._v("verify_peer")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-backlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-backlog"}},[t._v("#")]),t._v(" listener.ssl.external.backlog")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-196"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-196"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-send-timeout"}},[t._v("#")]),t._v(" listener.ssl.external.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-197"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-197"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-send-timeout-close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-send-timeout-close"}},[t._v("#")]),t._v(" listener.ssl.external.send_timeout_close")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-198"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-198"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时后，是否关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-recbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-recbuf"}},[t._v("#")]),t._v(" listener.ssl.external.recbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-199"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-199"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 接收缓存区大小（操作系统内核级参数）。")]),t._v(" "),a("p",[t._v("参见："),a("a",{attrs:{href:"http://erlang.org/doc/man/inet.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/inet.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-sndbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-sndbuf"}},[t._v("#")]),t._v(" listener.ssl.external.sndbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-200"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-200"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 发送缓存区大小（操作系统内核级参数）。")]),t._v(" "),a("p",[t._v("参见："),a("a",{attrs:{href:"http://erlang.org/doc/man/inet.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/inet.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-buffer"}},[t._v("#")]),t._v(" listener.ssl.external.buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-201"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-201"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 缓冲区大小 (用户级)。")]),t._v(" "),a("p",[t._v("该值建议大于等于 "),a("code",[t._v("sndbuff")]),t._v(" 和 "),a("code",[t._v("recbuff")]),t._v(" 的最大值，以避免一些性能问题。在不配置的情况下，它默认等于 sndbuff 和 recbuff 的最大值。")]),t._v(" "),a("p",[t._v("参见："),a("a",{attrs:{href:"http://erlang.org/doc/man/inet.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/inet.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-tune-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-tune-buffer"}},[t._v("#")]),t._v(" listener.ssl.external.tune_buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-202"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-202"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果打开此配置，请设置该值等于 "),a("code",[t._v("sndbuff")]),t._v(" 与 "),a("code",[t._v("recbuff")]),t._v(" 的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-nodelay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-nodelay"}},[t._v("#")]),t._v(" listener.ssl.external.nodelay")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-203"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-203"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("TCP_NODELAY")]),t._v(" 参数。开启该选项即表示禁用 Nagle 算法，小包将被立即发送。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ssl-external-reuseaddr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ssl-external-reuseaddr"}},[t._v("#")]),t._v(" listener.ssl.external.reuseaddr")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-204"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-204"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("SO_REUSEADDR")]),t._v(" 参数。开启该选项即允许本地重用端口，无需等待 "),a("code",[t._v("TIME_WAIT")]),t._v(" 状态结束。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"wsexternal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wsexternal"}},[t._v("#")]),t._v(" wsexternal")]),t._v(" "),a("h3",{attrs:{id:"listener-ws-external"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external"}},[t._v("#")]),t._v(" listener.ws.external")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("8083")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-205"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-205"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("配置名称为 "),a("code",[t._v("external")]),t._v(" 的 MQTT/WS 监听器的监听地址。")]),t._v(" "),a("h4",{attrs:{id:"示例-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-10"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[a("code",[t._v("8083")]),t._v("：表监听 IPv4 的 "),a("code",[t._v("0.0.0.0:8083")]),t._v("。\n"),a("code",[t._v("127.0.0.1:8083")]),t._v("：表监听地址为 "),a("code",[t._v("127.0.0.1")]),t._v(" 网卡上的 "),a("code",[t._v("8083")]),t._v(" 端口。\n"),a("code",[t._v("::1:8083")]),t._v("：表监听 IPv6 地址为 "),a("code",[t._v("::1")]),t._v(" 网卡上的 "),a("code",[t._v("8083")]),t._v(" 端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-mqtt-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-mqtt-path"}},[t._v("#")]),t._v(" listener.ws.external.mqtt_path")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("/mqtt")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-206"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-206"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("WebSocket 的 MQTT 协议路径。因此 EMQ X 的 WebSocket 的地址是： "),a("code",[t._v("ws://<ip>:<port>/mqtt")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-acceptors"}},[t._v("#")]),t._v(" listener.ws.external.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("4")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-207"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-207"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的接收池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-max-connections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-max-connections"}},[t._v("#")]),t._v(" listener.ws.external.max_connections")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("102400")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-208"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-208"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大并发连接数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-max-conn-rate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-max-conn-rate"}},[t._v("#")]),t._v(" listener.ws.external.max_conn_rate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-209"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-209"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大接入速率。单位：个/秒")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-active-n"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-active-n"}},[t._v("#")]),t._v(" listener.ws.external.active_n")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("100")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-210"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-210"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器持续接收 TCP 报文的次数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-rate-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-rate-limit"}},[t._v("#")]),t._v(" listener.ws.external.rate_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("100KB,10s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-211"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-211"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的速率限制。格式为 "),a("code",[t._v("<limit>,<duration>")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"示例-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-11"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[a("code",[t._v("100KB,10s")]),t._v("：表 "),a("em",[t._v("限制 10 秒内的流入字节数不超过 100 KB")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-zone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-zone"}},[t._v("#")]),t._v(" listener.ws.external.zone")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("external")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-212"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-212"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器所属的配置域 (Zone)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-access-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-access-1"}},[t._v("#")]),t._v(" listener.ws.external.access.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("allow all")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-213"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-213"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-verify-protocol-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-verify-protocol-header"}},[t._v("#")]),t._v(" listener.ws.external.verify_protocol_header")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-214"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-214"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否验证 WebSocket 携带的 HTTP 头部是否正确。"),a("strong",[t._v("微信小程序需关闭该验证")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-proxy-address-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-proxy-address-header"}},[t._v("#")]),t._v(" listener.ws.external.proxy_address_header")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("X-Forwarded-For")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-215"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-215"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，则可打开该配置获取客户端真实的 IP 地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-proxy-port-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-proxy-port-header"}},[t._v("#")]),t._v(" listener.ws.external.proxy_port_header")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("X-Forwarded-Port")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-216"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-216"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，则可打开该配置获取客户端真实的端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-proxy-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-proxy-protocol"}},[t._v("#")]),t._v(" listener.ws.external.proxy_protocol")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-217"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-217"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器是否开启 "),a("code",[t._v("Proxy Protocol")]),t._v(" 的支持。")]),t._v(" "),a("p",[t._v("如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。")]),t._v(" "),a("p",[a("code",[t._v("Proxy Protcol")]),t._v(" 参考: "),a("a",{attrs:{href:"https://www.haproxy.com/blog/haproxy/proxy-protocol",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.haproxy.com/blog/haproxy/proxy-protocol"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-proxy-protocol-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-proxy-protocol-timeout"}},[t._v("#")]),t._v(" listener.ws.external.proxy_protocol_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-218"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-218"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-backlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-backlog"}},[t._v("#")]),t._v(" listener.ws.external.backlog")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-219"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-219"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-send-timeout"}},[t._v("#")]),t._v(" listener.ws.external.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-220"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-220"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-send-timeout-close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-send-timeout-close"}},[t._v("#")]),t._v(" listener.ws.external.send_timeout_close")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-221"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-221"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时后，是否关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-recbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-recbuf"}},[t._v("#")]),t._v(" listener.ws.external.recbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-222"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-222"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 接收缓存区大小（操作系统内核级参数）")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-sndbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-sndbuf"}},[t._v("#")]),t._v(" listener.ws.external.sndbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-223"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-223"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 发送缓存区大小（操作系统内核级参数）")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-buffer"}},[t._v("#")]),t._v(" listener.ws.external.buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-224"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-224"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 缓冲区大小 (用户级)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-tune-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-tune-buffer"}},[t._v("#")]),t._v(" listener.ws.external.tune_buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-225"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-225"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果打开此配置，请设置该值等于 "),a("code",[t._v("sndbuff")]),t._v(" 与 "),a("code",[t._v("recbuff")]),t._v(" 的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-nodelay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-nodelay"}},[t._v("#")]),t._v(" listener.ws.external.nodelay")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-226"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-226"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("TCP_NODELAY")]),t._v(" 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-compress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-compress"}},[t._v("#")]),t._v(" listener.ws.external.compress")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-227"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-227"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否压缩 WebSocket 消息。压缩的实现依赖 "),a("a",{attrs:{href:"http://www.zlib.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("zlib"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[a("code",[t._v("defalte_opts")]),t._v(" 下的配置项，都属于压缩相关的参数配置，如无必要请不需要修改它。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-deflate-opts-level"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-deflate-opts-level"}},[t._v("#")]),t._v(" listener.ws.external.deflate_opts.level")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("none")]),t._v(", "),a("code",[t._v("default")]),t._v(", "),a("code",[t._v("best_compression")]),t._v(", "),a("code",[t._v("best_speed")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-228"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-228"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("压缩等级。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-deflate-opts-mem-level"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-deflate-opts-mem-level"}},[t._v("#")]),t._v(" listener.ws.external.deflate_opts.mem_level")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1 - 9")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-229"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-229"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("压缩参数。内存使用限制等级，配置可开辟多少内存来参与压缩过程。")]),t._v(" "),a("p",[a("code",[t._v("1")]),t._v("：最少的内存，但会降低压缩率。\n"),a("code",[t._v("9")]),t._v("：最多的内存，会提高计算速度和压缩率。")]),t._v(" "),a("p",[t._v("不配置，则默认为 "),a("code",[t._v("8")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-deflate-opts-strategy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-deflate-opts-strategy"}},[t._v("#")]),t._v(" listener.ws.external.deflate_opts.strategy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("default")]),t._v(", "),a("code",[t._v("filtered")]),t._v(", "),a("code",[t._v("huffman_only")]),t._v(", "),a("code",[t._v("rle")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-230"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-230"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("压缩策略，用于调优压缩率：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("default")]),t._v("：针对普通数据。")]),t._v(" "),a("li",[a("code",[t._v("filtered")]),t._v("：由过滤器或预测器产生的数据，适用于分布随机性强的内容。")]),t._v(" "),a("li",[a("code",[t._v("huffman_only")]),t._v("：强制使用 Huffman 算法。优于 "),a("code",[t._v("filtered")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("rle")]),t._v("：将匹配距离限制为 1 (Run-Lenght Encoding)，比 "),a("code",[t._v("huffman_only")]),t._v(" 要快，但主要用于 PNG 图片。")])]),t._v(" "),a("p",[t._v("这些策略仅影响压缩率，不会对正确性带来任何影响。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-deflate-opts-server-context-takeover"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-deflate-opts-server-context-takeover"}},[t._v("#")]),t._v(" listener.ws.external.deflate_opts.server_context_takeover")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("takeover")]),t._v(", "),a("code",[t._v("no_takeover")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-231"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-231"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许服务端的压缩上下文在帧之间传递。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-deflate-opts-client-context-takeover"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-deflate-opts-client-context-takeover"}},[t._v("#")]),t._v(" listener.ws.external.deflate_opts.client_context_takeover")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("takeover")]),t._v(", "),a("code",[t._v("no_takeover")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-232"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-232"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许客户端的压缩上下文在帧之间传递。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-deflate-opts-server-max-window-bits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-deflate-opts-server-max-window-bits"}},[t._v("#")]),t._v(" listener.ws.external.deflate_opts.server_max_window_bits")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8 - 15")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-233"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-233"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("服务端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-deflate-opts-client-max-window-bits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-deflate-opts-client-max-window-bits"}},[t._v("#")]),t._v(" listener.ws.external.deflate_opts.client_max_window_bits")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8 - 15")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-234"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-234"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-idle-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-idle-timeout"}},[t._v("#")]),t._v(" listener.ws.external.idle_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-235"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-235"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-ws-external-max-frame-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-ws-external-max-frame-size"}},[t._v("#")]),t._v(" listener.ws.external.max_frame_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-236"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-236"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许的单个 MQTT 报文长度的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"wssexternal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wssexternal"}},[t._v("#")]),t._v(" wssexternal")]),t._v(" "),a("h3",{attrs:{id:"listener-wss-external"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external"}},[t._v("#")]),t._v(" listener.wss.external")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("0.0.0.0:8084")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-237"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-237"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("配置名称为 "),a("code",[t._v("external")]),t._v(" 的 WSS (MQTT/WebSocket/SSL) 监听器。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-mqtt-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-mqtt-path"}},[t._v("#")]),t._v(" listener.wss.external.mqtt_path")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("/mqtt")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-238"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-238"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("WebSocket 的 URL Path。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-acceptors"}},[t._v("#")]),t._v(" listener.wss.external.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("4")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-239"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-239"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的接收池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-max-connections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-max-connections"}},[t._v("#")]),t._v(" listener.wss.external.max_connections")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("16")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-240"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-240"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大并发连接数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-max-conn-rate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-max-conn-rate"}},[t._v("#")]),t._v(" listener.wss.external.max_conn_rate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-241"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-241"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器允许的最大接入速率。单位：个/秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-active-n"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-active-n"}},[t._v("#")]),t._v(" listener.wss.external.active_n")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("100")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-242"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-242"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器持续接收 TCP 报文的次数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-rate-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-rate-limit"}},[t._v("#")]),t._v(" listener.wss.external.rate_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-243"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-243"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的速率限制。格式为 "),a("code",[t._v("<limit>,<duration>")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-zone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-zone"}},[t._v("#")]),t._v(" listener.wss.external.zone")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("external")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-244"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-244"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器所属的配置组 (Zone)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-access-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-access-1"}},[t._v("#")]),t._v(" listener.wss.external.access.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("allow all")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-245"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-245"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。")]),t._v(" "),a("p",[t._v("例如:")]),t._v(" "),a("p",[a("code",[t._v("allow all")]),t._v("：表允许所有的 TCP 连接接入。\n"),a("code",[t._v("allow 192.168.0.0/24")]),t._v("：表允许网络地址为 "),a("code",[t._v("192.168.0.0/24")]),t._v(" 的 TCP 连接接入。")]),t._v(" "),a("p",[t._v("同时，该配置可配置多条规则:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("listener.wss.external.access.1 = deny 192.168.0.1\nlistener.wss.external.access.2 = allow all\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-verify-protocol-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-verify-protocol-header"}},[t._v("#")]),t._v(" listener.wss.external.verify_protocol_header")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-246"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-246"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否验证 WebSocket 携带的 HTTP 头部是否正确。"),a("strong",[t._v("微信小程序需关闭该验证")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-proxy-address-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-proxy-address-header"}},[t._v("#")]),t._v(" listener.wss.external.proxy_address_header")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("X-Forwarded-For")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-247"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-247"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果 EMQ X 集群部署在 HAProxy 或 Nginx，则可打开该配置获取客户端真实的 IP 地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-proxy-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-proxy-protocol"}},[t._v("#")]),t._v(" listener.wss.external.proxy_protocol")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-248"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-248"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("监听器是否开启 "),a("code",[t._v("Proxy Protocol")]),t._v(" 的支持。")]),t._v(" "),a("p",[t._v("如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。")]),t._v(" "),a("p",[a("code",[t._v("Proxy Protcol")]),t._v(" 参考："),a("a",{attrs:{href:"https://www.haproxy.com/blog/haproxy/proxy-protocol",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.haproxy.com/blog/haproxy/proxy-protocol"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-proxy-protocol-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-proxy-protocol-timeout"}},[t._v("#")]),t._v(" listener.wss.external.proxy_protocol_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-249"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-249"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-tls-versions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-tls-versions"}},[t._v("#")]),t._v(" listener.wss.external.tls_versions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("tlsv1.2,tlsv1.1,tlsv1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-250"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-250"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定服务端支持的 SSL 的版本列表。详情请参见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/ssl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/ssl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-keyfile"}},[t._v("#")]),t._v(" listener.wss.external.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-251"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-251"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 SSL 的私钥文件 (PEM)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-certfile"}},[t._v("#")]),t._v(" listener.wss.external.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-252"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-252"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 SSL 的证书文件 (PEM)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-cacertfile"}},[t._v("#")]),t._v(" listener.wss.external.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cacert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-253"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-253"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定 SSL 的 CA 证书文件 (PEM)。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-dhfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-dhfile"}},[t._v("#")]),t._v(" listener.wss.external.dhfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/dh-params.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-254"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-254"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 Ephemeral Diffie-Helman 算法，指定算法使用的 key 文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-verify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-verify"}},[t._v("#")]),t._v(" listener.wss.external.verify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("verify_peer")]),t._v(", "),a("code",[t._v("verify_none")])]),t._v(" "),a("td",[a("code",[t._v("verify_peer")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-255"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-255"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定握手过程中是否校验客户端。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-fail-if-no-peer-cert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-fail-if-no-peer-cert"}},[t._v("#")]),t._v(" listener.wss.external.fail_if_no_peer_cert")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-256"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-256"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("SSL 握手过程中若客户端没有证书，是否让握手失败。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-ciphers"}},[t._v("#")]),t._v(" listener.wss.external.ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-257"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-257"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定服务器支持的密码套件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-psk-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-psk-ciphers"}},[t._v("#")]),t._v(" listener.wss.external.psk_ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-258"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-258"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 PSK 算法，指定服务端支持的 PSK Cipher 列表。注意 'listener.wss.external.ciphers' 和 'listener.wss.external.psk_ciphers' 只能配置一个。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-secure-renegotiate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-secure-renegotiate"}},[t._v("#")]),t._v(" listener.wss.external.secure_renegotiate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-259"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-259"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定在客户端不遵循 RFC 5746 的情况下，是否拒绝 renegotiation 请求。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-reuse-sessions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-reuse-sessions"}},[t._v("#")]),t._v(" listener.wss.external.reuse_sessions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-260"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-260"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否支持 SSL session 重用。详情见 "),a("a",{attrs:{href:"http://erlang.org/doc/man/ssl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://erlang.org/doc/man/ssl.html"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-honor-cipher-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-honor-cipher-order"}},[t._v("#")]),t._v(" listener.wss.external.honor_cipher_order")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-261"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-261"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否使用服务端的偏好设置选择 Ciphers。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-peer-cert-as-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-peer-cert-as-username"}},[t._v("#")]),t._v(" listener.wss.external.peer_cert_as_username")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("cn")]),t._v(", "),a("code",[t._v("dn")]),t._v(", "),a("code",[t._v("crt")]),t._v(", "),a("code",[t._v("pem")]),t._v(", "),a("code",[t._v("md5")])]),t._v(" "),a("td",[a("code",[t._v("cn")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-262"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-262"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用客户端证书来覆盖 Username 字段的值。其可选值为：")]),t._v(" "),a("ul",[a("li",[t._v("cn：客户端证书的 Common Name 字段值")]),t._v(" "),a("li",[t._v("dn：客户端证书的 Subject Name 字段值")]),t._v(" "),a("li",[t._v("crt：DER 格式编码的客户端证书二进制")]),t._v(" "),a("li",[t._v("pem：基于 DER 格式上的 base64 编码后的字符串")]),t._v(" "),a("li",[t._v("md5：DER 格式证书的 MD5 哈希值")])]),t._v(" "),a("p",[t._v("注意 "),a("code",[t._v("listener.wss.external.verify")]),t._v(" 应当设置为 "),a("code",[t._v("verify_peer")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-peer-cert-as-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-peer-cert-as-clientid"}},[t._v("#")]),t._v(" listener.wss.external.peer_cert_as_clientid")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("cn")]),t._v(", "),a("code",[t._v("dn")]),t._v(", "),a("code",[t._v("crt")]),t._v(", "),a("code",[t._v("pem")]),t._v(", "),a("code",[t._v("md5")])]),t._v(" "),a("td",[a("code",[t._v("cn")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-263"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-263"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用客户端证书来覆盖 ClientID 字段的值。其可选值的含义同上。")]),t._v(" "),a("p",[t._v("注意 "),a("code",[t._v("listener.wss.external.verify")]),t._v(" 应当设置为 "),a("code",[t._v("verify_peer")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-backlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-backlog"}},[t._v("#")]),t._v(" listener.wss.external.backlog")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-264"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-264"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-send-timeout"}},[t._v("#")]),t._v(" listener.wss.external.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-265"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-265"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-send-timeout-close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-send-timeout-close"}},[t._v("#")]),t._v(" listener.wss.external.send_timeout_close")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-266"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-266"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 报文发送超时后，是否关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-recbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-recbuf"}},[t._v("#")]),t._v(" listener.wss.external.recbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-267"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-267"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 接收缓存区大小（操作系统内核级参数）")]),t._v(" "),a("p",[t._v("参见：http://erlang.org/doc/man/inet.html")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-sndbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-sndbuf"}},[t._v("#")]),t._v(" listener.wss.external.sndbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-268"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-268"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 发送缓存区大小（操作系统内核级参数）")]),t._v(" "),a("p",[t._v("参见：http://erlang.org/doc/man/inet.html")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-buffer"}},[t._v("#")]),t._v(" listener.wss.external.buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-269"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-269"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 缓冲区大小 (用户级)。")]),t._v(" "),a("p",[t._v("该值建议大于等于 "),a("code",[t._v("sndbuff")]),t._v(" 和 "),a("code",[t._v("recbuff")]),t._v(" 的最大值，以避免一些性能问题。在不配置的情况下，它默认等于 sndbuff 和 recbuff 的最大值")]),t._v(" "),a("p",[t._v("参见：http://erlang.org/doc/man/inet.html")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-tune-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-tune-buffer"}},[t._v("#")]),t._v(" listener.wss.external.tune_buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-270"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-270"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果打开此配置，请设置该值等于 "),a("code",[t._v("sndbuff")]),t._v(" 与 "),a("code",[t._v("recbuff")]),t._v(" 的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-nodelay"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-nodelay"}},[t._v("#")]),t._v(" listener.wss.external.nodelay")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-271"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-271"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("即 "),a("code",[t._v("TCP_NODELAY")]),t._v(" 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-compress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-compress"}},[t._v("#")]),t._v(" listener.wss.external.compress")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-272"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-272"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("该选项若设置为 true，Websocket 消息将会被压缩。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-deflate-opts-level"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-deflate-opts-level"}},[t._v("#")]),t._v(" listener.wss.external.deflate_opts.level")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("none")]),t._v(", "),a("code",[t._v("default")]),t._v(", "),a("code",[t._v("best_compression")]),t._v(", "),a("code",[t._v("best_speed")])]),t._v(" "),a("td",[a("code",[t._v("default")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-273"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-273"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("压缩等级。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-deflate-opts-mem-level"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-deflate-opts-mem-level"}},[t._v("#")]),t._v(" listener.wss.external.deflate_opts.mem_level")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1 - 9")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-274"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-274"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("压缩参数。内存使用限制等级，配置可开辟多少内存来参与压缩过程。")]),t._v(" "),a("p",[a("code",[t._v("1")]),t._v("：最少的内存，但会降低压缩率。\n"),a("code",[t._v("9")]),t._v("：最多的内存，会提高计算速度和压缩率。")]),t._v(" "),a("p",[t._v("不配置，则默认为 "),a("code",[t._v("8")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-deflate-opts-strategy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-deflate-opts-strategy"}},[t._v("#")]),t._v(" listener.wss.external.deflate_opts.strategy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("default")]),t._v(", "),a("code",[t._v("filtered")]),t._v(", "),a("code",[t._v("huffman_only")]),t._v(", "),a("code",[t._v("rle")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-275"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-275"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("压缩策略，用于调优压缩率：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("default")]),t._v("：针对普通数据。")]),t._v(" "),a("li",[a("code",[t._v("filtered")]),t._v("：由过滤器或预测器产生的数据，适用于分布随机性强的内容。")]),t._v(" "),a("li",[a("code",[t._v("huffman_only")]),t._v("：强制使用 Huffman 算法。优于 "),a("code",[t._v("filtered")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("rle")]),t._v("：将匹配距离限制为 1 (Run-Lenght Encoding)，比 "),a("code",[t._v("huffman_only")]),t._v(" 要快，但主要用于 PNG 图片。")])]),t._v(" "),a("p",[t._v("这些策略仅影响压缩率，不会对正确性带来任何影响。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-deflate-opts-server-context-takeover"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-deflate-opts-server-context-takeover"}},[t._v("#")]),t._v(" listener.wss.external.deflate_opts.server_context_takeover")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("takeover")]),t._v(", "),a("code",[t._v("no_takeover")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-276"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-276"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许服务端的压缩上下文在帧之间传递。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-deflate-opts-client-context-takeover"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-deflate-opts-client-context-takeover"}},[t._v("#")]),t._v(" listener.wss.external.deflate_opts.client_context_takeover")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("takeover")]),t._v(", "),a("code",[t._v("no_takeover")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-277"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-277"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许客户端的压缩上下文在帧之间传递。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-deflate-opts-server-max-window-bits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-deflate-opts-server-max-window-bits"}},[t._v("#")]),t._v(" listener.wss.external.deflate_opts.server_max_window_bits")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8 - 15")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-278"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-278"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("服务端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-deflate-opts-client-max-window-bits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-deflate-opts-client-max-window-bits"}},[t._v("#")]),t._v(" listener.wss.external.deflate_opts.client_max_window_bits")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8 - 15")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-279"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-279"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-idle-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-idle-timeout"}},[t._v("#")]),t._v(" listener.wss.external.idle_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-280"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-280"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"listener-wss-external-max-frame-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listener-wss-external-max-frame-size"}},[t._v("#")]),t._v(" listener.wss.external.max_frame_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-281"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-281"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许的单个 MQTT 报文长度的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[t._v("#")]),t._v(" plugins")]),t._v(" "),a("h3",{attrs:{id:"plugins-etc-dir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins-etc-dir"}},[t._v("#")]),t._v(" plugins.etc_dir")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/plugins")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-282"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-282"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("插件的配置目录。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"plugins-loaded-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins-loaded-file"}},[t._v("#")]),t._v(" plugins.loaded_file")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/loaded_plugins")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-283"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-283"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("插件启动列表的配置文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"plugins-expand-plugins-dir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins-expand-plugins-dir"}},[t._v("#")]),t._v(" plugins.expand_plugins_dir")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("plugins/")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-284"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-284"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("外部插件存放目录。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"broker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker"}},[t._v("#")]),t._v(" broker")]),t._v(" "),a("h3",{attrs:{id:"broker-sys-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-sys-interval"}},[t._v("#")]),t._v(" broker.sys_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("1m")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-285"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-285"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置系统主题 ("),a("code",[t._v("$SYS")]),t._v(") 消息的发布间隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"broker-sys-heartbeat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-sys-heartbeat"}},[t._v("#")]),t._v(" broker.sys_heartbeat")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("30s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-286"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-286"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置系统心跳消息的发布间隔。系统心跳消息包括下面两个主题：")]),t._v(" "),a("ul",[a("li",[t._v('"$SYS/brokers/'),a("node",[t._v('/uptime"')])],1),t._v(" "),a("li",[t._v('"$SYS/brokers/'),a("node",[t._v('/datetime"')])],1)]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"broker-enable-session-registry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-enable-session-registry"}},[t._v("#")]),t._v(" broker.enable_session_registry")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-287"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-287"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用或关闭全局会话注册。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"broker-session-locking-strategy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-session-locking-strategy"}},[t._v("#")]),t._v(" broker.session_locking_strategy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("local")]),t._v(", "),a("code",[t._v("one")]),t._v(", "),a("code",[t._v("quorum")]),t._v(", "),a("code",[t._v("all")])]),t._v(" "),a("td",[a("code",[t._v("quorum")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-288"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-288"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置会话集群锁的类型。会话的集群锁用来防止同一个客户端在多个不同节点上创建多个会话，常见于客户端频繁切换节点登录的情况。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"broker-shared-subscription-strategy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-shared-subscription-strategy"}},[t._v("#")]),t._v(" broker.shared_subscription_strategy")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("random")]),t._v(", "),a("code",[t._v("round_robin")]),t._v(", "),a("code",[t._v("sticky")]),t._v(", "),a("code",[t._v("hash_clientid")]),t._v(", "),a("code",[t._v("hash_topic")])]),t._v(" "),a("td",[a("code",[t._v("random")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-289"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-289"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置共享订阅的分发策略。可选值为:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("random")]),t._v(": 在所有订阅者中随机选择")]),t._v(" "),a("li",[a("strong",[t._v("round_robin")]),t._v(": 按照一个固定的顺序选择下一个订阅者")]),t._v(" "),a("li",[a("strong",[t._v("sticky")]),t._v(": 首次分发时随机选择一个订阅者，后续消息一直发往这一个订阅者")]),t._v(" "),a("li",[a("strong",[t._v("hash_clientid")]),t._v(": 按照发布者 ClientID 的哈希值")]),t._v(" "),a("li",[a("strong",[t._v("hash_topic")]),t._v(": 按照源消息主题的哈希值")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"broker-shared-dispatch-ack-enabled"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-shared-dispatch-ack-enabled"}},[t._v("#")]),t._v(" broker.shared_dispatch_ack_enabled")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-290"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-290"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("开启或关闭共享订阅对于 qos1/qos2 消息的 ACK 检查功能。开启后，如果投递到某个订阅者但收不到ACK，将尝试投递给订阅组里的下一个订阅者。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"broker-route-batch-clean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#broker-route-batch-clean"}},[t._v("#")]),t._v(" broker.route_batch_clean")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-291"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-291"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("开启或关闭批量清理路由信息。批量清理路由可用在短时间内大量客户端掉线的情况，以提高清理效率。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"monitor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#monitor"}},[t._v("#")]),t._v(" monitor")]),t._v(" "),a("h3",{attrs:{id:"sysmon-long-gc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysmon-long-gc"}},[t._v("#")]),t._v(" sysmon.long_gc")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("0ms")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-292"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-292"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用垃圾回收时间监控并在回收时间超过设定值时触发告警，0 表示禁用此监控。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"sysmon-long-schedule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysmon-long-schedule"}},[t._v("#")]),t._v(" sysmon.long_schedule")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("240ms")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-293"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-293"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用进程调度时间监控并在调度时间超过设定值时触发告警，0 表示禁用此监控。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"sysmon-large-heap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysmon-large-heap"}},[t._v("#")]),t._v(" sysmon.large_heap")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("8MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-294"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-294"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用堆栈大小监控并在进程执行垃圾回收后堆栈大小仍大于设定值时触发告警，0 表示禁用此监控。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"sysmon-busy-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysmon-busy-port"}},[t._v("#")]),t._v(" sysmon.busy_port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-295"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-295"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否启用进程间消息通道拥塞监控。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"sysmon-busy-dist-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sysmon-busy-dist-port"}},[t._v("#")]),t._v(" sysmon.busy_dist_port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-296"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-296"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否启用集群 RPC 通道拥塞监控。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"os-mon-cpu-check-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-mon-cpu-check-interval"}},[t._v("#")]),t._v(" os_mon.cpu_check_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("60s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-297"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-297"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("CPU 占用率检查周期。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"os-mon-cpu-high-watermark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-mon-cpu-high-watermark"}},[t._v("#")]),t._v(" os_mon.cpu_high_watermark")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("percent")]),t._v(" "),a("td",[a("code",[t._v("80%")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-298"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-298"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("CPU 占用率超过 "),a("code",[t._v("os_mon.cpu_high_watermark")]),t._v(" 时将触发告警。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"os-mon-cpu-low-watermark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-mon-cpu-low-watermark"}},[t._v("#")]),t._v(" os_mon.cpu_low_watermark")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("percent")]),t._v(" "),a("td",[a("code",[t._v("60%")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-299"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-299"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("CPU 占用率回落到 "),a("code",[t._v("os_mon.cpu_low_watermark")]),t._v(" 以下时将清除告警。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"os-mon-mem-check-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-mon-mem-check-interval"}},[t._v("#")]),t._v(" os_mon.mem_check_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("60s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-300"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-300"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("内存占用率检查周期。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"os-mon-sysmem-high-watermark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-mon-sysmem-high-watermark"}},[t._v("#")]),t._v(" os_mon.sysmem_high_watermark")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("percent")]),t._v(" "),a("td",[a("code",[t._v("70%")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-301"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-301"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("EMQ X 为所有进程分配的内存占系统内存的百分比超过 "),a("code",[t._v("os_mon.sysmem_high_watermark")]),t._v(" 时将触发告警。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"os-mon-procmem-high-watermark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-mon-procmem-high-watermark"}},[t._v("#")]),t._v(" os_mon.procmem_high_watermark")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("percent")]),t._v(" "),a("td",[a("code",[t._v("5%")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-302"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-302"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("EMQ X 为单个进程分配的内存占系统内存的百分比超过 "),a("code",[t._v("os_mon.procmem_high_watermark")]),t._v(" 时将触发告警。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"vm-mon-check-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm-mon-check-interval"}},[t._v("#")]),t._v(" vm_mon.check_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("30s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-303"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-303"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("进程数量检查周期。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"vm-mon-process-high-watermark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm-mon-process-high-watermark"}},[t._v("#")]),t._v(" vm_mon.process_high_watermark")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("percent")]),t._v(" "),a("td",[a("code",[t._v("80%")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-304"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-304"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当前进程数量占进程最大数量的百分比超过 "),a("code",[t._v("vm_mon.process_high_watermark")]),t._v(" 时将触发告警。进程最大数量由 "),a("code",[t._v("node.process_limit")]),t._v(" 配置项决定。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"vm-mon-process-low-watermark"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm-mon-process-low-watermark"}},[t._v("#")]),t._v(" vm_mon.process_low_watermark")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("percent")]),t._v(" "),a("td",[a("code",[t._v("60%")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-305"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-305"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("当前进程数量占进程最大数量的百分比回落到 "),a("code",[t._v("vm_mon.process_low_watermark")]),t._v(" 以下时将触发告警。进程最大数量由 "),a("code",[t._v("node.process_limit")]),t._v(" 配置项决定。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-clientid"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-clientid",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-clientid"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-client-clientid-auth-client-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-client-clientid-auth-client-password"}},[t._v("#")]),t._v(" auth.client."),a("Number",[t._v(".clientid"),a("code",[t._v("&")]),t._v("auth.client."),a("Number",[t._v(".password")])],1)],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-306"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-306"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端的认证数据，其中 "),a("code",[t._v("auth.client.<Number>.password")]),t._v(" 为明文密码。"),a("code",[t._v("<Number>")]),t._v(" 相同的 "),a("code",[t._v("auth.client.<Number>.clientid")]),t._v(" 与 "),a("code",[t._v("auth.client.<Number>.password")]),t._v(" 必须成对出现。"),a("code",[t._v("<Number>")]),t._v(" 是一个整型数字，用于区分多个客户端的认证数据。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-client-password-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-client-password-hash"}},[t._v("#")]),t._v(" auth.client.password_hash")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("plain")]),t._v(", "),a("code",[t._v("md5")]),t._v(", "),a("code",[t._v("sha")]),t._v(", "),a("code",[t._v("sha256")])]),t._v(" "),a("td",[a("code",[t._v("sha256")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-307"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-307"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("密码存储至数据库时使用的 Hash 算法。以下选项可用：")]),t._v(" "),a("p",[a("code",[t._v("plain")])]),t._v(" "),a("p",[t._v("密码以明文形式存储。")]),t._v(" "),a("p",[a("code",[t._v("md5")])]),t._v(" "),a("p",[t._v("密码使用 MD5 算法加密后存储。")]),t._v(" "),a("p",[a("code",[t._v("sha")])]),t._v(" "),a("p",[t._v("密码使用 SHA-1 算法加密后存储。")]),t._v(" "),a("p",[a("code",[t._v("sha256")])]),t._v(" "),a("p",[t._v("密码使用 SHA-256 算法加密后存储。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-http"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-http"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-http",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-http"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-http-auth-req"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-auth-req"}},[t._v("#")]),t._v(" auth.http.auth_req")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("http://127.0.0.1:8991/mqtt/auth")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-308"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-308"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定认证请求的目标 URL。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-auth-req-method"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-auth-req-method"}},[t._v("#")]),t._v(" auth.http.auth_req.method")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("get")]),t._v(", "),a("code",[t._v("post")])]),t._v(" "),a("td",[a("code",[t._v("post")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-309"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-309"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定认证请求的请求方法。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-auth-req-params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-auth-req-params"}},[t._v("#")]),t._v(" auth.http.auth_req.params")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Format")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("以 "),a("code",[t._v(",")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对，"),a("code",[t._v("v")]),t._v(" 可以是固定内容，也可以是占位符")]),t._v(" "),a("td",[a("code",[t._v("clientid=%c,username=%u,password=%P")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-310"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-310"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定认证请求中携带的数据。使用 GET 方法时 "),a("code",[t._v("auth.http.auth_req.params")]),t._v(" 的值将被转换为以 "),a("code",[t._v("&")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对以查询字符串参数的形式发送。使用 POST 方法时 "),a("code",[t._v("auth.http.auth_req.params")]),t._v(" 的值将被转换为以 "),a("code",[t._v("&")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对以 Request Body 的形式发送。所有的占位符都会被运行时数据所替换，可用的占位符如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("占位符")]),t._v(" "),a("th",[t._v("替换内容")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("%u")])]),t._v(" "),a("td",[t._v("用户名")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%c")])]),t._v(" "),a("td",[t._v("MQTT Client ID")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%a")])]),t._v(" "),a("td",[t._v("客户端的网络 IP 地址")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%r")])]),t._v(" "),a("td",[t._v("客户端使用的协议，可以是："),a("code",[t._v("mqtt")]),t._v(", "),a("code",[t._v("mqtt-sn")]),t._v(", "),a("code",[t._v("coap")]),t._v(", "),a("code",[t._v("lwm2m")]),t._v(" 以及 "),a("code",[t._v("stomp")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%P")])]),t._v(" "),a("td",[t._v("密码")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%p")])]),t._v(" "),a("td",[t._v("客户端连接的服务端端口")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%c")])]),t._v(" "),a("td",[t._v("客户端证书中的 Common Name")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%d")])]),t._v(" "),a("td",[t._v("客户端证书中的 Subject")])])])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-super-req"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-super-req"}},[t._v("#")]),t._v(" auth.http.super_req")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("http://127.0.0.1:8991/mqtt/superuser")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-311"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-311"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定超级用户认证请求的目标 URL。")]),t._v(" "),a("h3",{attrs:{id:"auth-http-super-req-method"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-super-req-method"}},[t._v("#")]),t._v(" auth.http.super_req.method")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("get")]),t._v(", "),a("code",[t._v("post")])]),t._v(" "),a("td",[a("code",[t._v("post")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-312"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-312"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定超级用户认证请求的请求方法。")]),t._v(" "),a("h3",{attrs:{id:"auth-http-super-req-params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-super-req-params"}},[t._v("#")]),t._v(" auth.http.super_req.params")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Format")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("以 "),a("code",[t._v(",")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对，"),a("code",[t._v("v")]),t._v(" 可以是固定内容，也可以是占位符")]),t._v(" "),a("td",[a("code",[t._v("clientid=%c,username=%u")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-313"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-313"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定超级用户认证请求中携带的数据。使用 GET 方法时 "),a("code",[t._v("auth.http.super_req.params")]),t._v(" 的值将被转换为以 "),a("code",[t._v("&")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对以查询字符串参数的形式发送。使用 POST 方法时 "),a("code",[t._v("auth.http.super_req.params")]),t._v(" 的值将被转换为以 "),a("code",[t._v("&")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对以 Request Body 的形式发送。所有的占位符都会被运行时数据所替换，可用的占位符同 "),a("code",[t._v("auth.http.auth_req.params")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-acl-req"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-acl-req"}},[t._v("#")]),t._v(" auth.http.acl_req")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("http://127.0.0.1:8991/mqtt/acl")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-314"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-314"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 ACL 验证请求的目标 URL。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-acl-req-method"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-acl-req-method"}},[t._v("#")]),t._v(" auth.http.acl_req.method")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("get")]),t._v(", "),a("code",[t._v("post")])]),t._v(" "),a("td",[a("code",[t._v("post")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-315"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-315"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 ACL 验证请求的请求方法。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-acl-req-params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-acl-req-params"}},[t._v("#")]),t._v(" auth.http.acl_req.params")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Format")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("以 "),a("code",[t._v(",")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对，"),a("code",[t._v("v")]),t._v(" 可以是固定内容，也可以是占位符")]),t._v(" "),a("td",[a("code",[t._v("access=%A,username=%u,clientid=%c,ipaddr=%a,topic=%t,mountpoint=%m")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-316"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-316"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 ACL 验证请求中携带的数据。使用 GET 方法时 "),a("code",[t._v("auth.http.acl_req.params")]),t._v(" 的值将被转换为以 "),a("code",[t._v("&")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对以查询字符串参数的形式发送。使用 POST 方法时 "),a("code",[t._v("auth.http.acl_req.params")]),t._v(" 的值将被转换为以 "),a("code",[t._v("&")]),t._v(" 分隔的 "),a("code",[t._v("k=v")]),t._v(" 键值对以 Request Body 的形式发送。所有的占位符都会被运行时数据所替换，可用的占位符如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("占位符")]),t._v(" "),a("th",[t._v("替换内容")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("%A")])]),t._v(" "),a("td",[t._v("需要验证的权限，1 表示订阅，2 表示发布")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%u")])]),t._v(" "),a("td",[t._v("MQTT Client ID")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%c")])]),t._v(" "),a("td",[t._v("客户端标识符")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%a")])]),t._v(" "),a("td",[t._v("客户端的网络 IP 地址")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%r")])]),t._v(" "),a("td",[t._v("客户端使用的协议，可以是："),a("code",[t._v("mqtt")]),t._v(", "),a("code",[t._v("mqtt-sn")]),t._v(", "),a("code",[t._v("coap")]),t._v(", "),a("code",[t._v("lwm2m")]),t._v(" 以及 "),a("code",[t._v("stomp")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%m")])]),t._v(" "),a("td",[t._v("挂载点")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%t")])]),t._v(" "),a("td",[t._v("主题")])])])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-request-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-request-timeout"}},[t._v("#")]),t._v(" auth.http.request.timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("0s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-317"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-317"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 请求超时时间。任何等价于 "),a("code",[t._v("0s")]),t._v(" 的设定值都表示永不超时。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-request-connect-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-request-connect-timeout"}},[t._v("#")]),t._v(" auth.http.request.connect_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("0s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-318"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-318"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 请求的连接超时时间。任何等价于 "),a("code",[t._v("0s")]),t._v(" 的设定值都表示永不超时。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-request-retry-times"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-request-retry-times"}},[t._v("#")]),t._v(" auth.http.request.retry_times")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("3")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-319"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-319"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 请求失败时的重试次数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-request-retry-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-request-retry-interval"}},[t._v("#")]),t._v(" auth.http.request.retry_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("1s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-320"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-320"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 请求失败时的重试间隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-request-retry-backoff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-request-retry-backoff"}},[t._v("#")]),t._v(" auth.http.request.retry_backoff")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("float")]),t._v(" "),a("td",[t._v("2.0")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-321"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-321"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 请求失败时的重试间隔使用了指数退避算法，此配置项用于指定指数退避算法的退避系数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-header"}},[t._v("#")]),t._v(" auth.http.header."),a("Key")],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-322"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-322"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 HTTP 请求头部中的数据。"),a("code",[t._v("<Key>")]),t._v(" 指定 HTTP 请求头部中的字段名，此配置项的值为相应的字段值。"),a("code",[t._v("<Key>")]),t._v(" 可以是标准的 HTTP 请求头部字段，也可以自定义的字段，可以配置多个不同的请求头部字段。")]),t._v(" "),a("h4",{attrs:{id:"示例-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-12"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.http.header.Accept = */*\nauth.http.header.Accept-Encoding = *\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-ssl-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-ssl-cacertfile"}},[t._v("#")]),t._v(" auth.http.ssl.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/ca.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-323"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-323"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("CA 证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-ssl-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-ssl-certfile"}},[t._v("#")]),t._v(" auth.http.ssl.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/client-cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-324"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-324"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-http-ssl-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-http-ssl-keyfile"}},[t._v("#")]),t._v(" auth.http.ssl.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/client.key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-325"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-325"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端私钥文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-jwt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-jwt"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-jwt",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-jwt"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-jwt-secret"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-jwt-secret"}},[t._v("#")]),t._v(" auth.jwt.secret")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("emqxsecret")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-326"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-326"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 HMAC Secret。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-jwt-from"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-jwt-from"}},[t._v("#")]),t._v(" auth.jwt.from")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("username")]),t._v(", "),a("code",[t._v("password")])]),t._v(" "),a("td",[a("code",[t._v("password")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-327"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-327"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("从什么地方获取 JWT。可选值为:")]),t._v(" "),a("ul",[a("li",[t._v("username: MQTT CONNECT 报文的 username 字段作为 JWT。")]),t._v(" "),a("li",[t._v("password: MQTT CONNECT 报文的 password 字段作为 JWT。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-jwt-pubkey"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-jwt-pubkey"}},[t._v("#")]),t._v(" auth.jwt.pubkey")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/jwt_public_key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-328"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-328"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 RSA 或者 ECDSA 加密算法，须指定私钥文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-jwt-verify-claims"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-jwt-verify-claims"}},[t._v("#")]),t._v(" auth.jwt.verify_claims")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-329"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-329"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用或关闭 Claims 校验功能。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-jwt-verify-claims-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-jwt-verify-claims-2"}},[t._v("#")]),t._v(" auth.jwt.verify_claims "),a("claims")],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-330"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-330"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用 Claims 校验功能时，可设置 JWT 中字段的可选值。")]),t._v(" "),a("p",[t._v("例如，若期望 JWT 中的 Claim 字段 "),a("code",[t._v("sub")]),t._v(' 的值为 "abc"，则可以配置如下规则:')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.jwt.verify_claims.sub = abc\n")])])]),a("p",[t._v("期望值支持两个通配符:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("%u")]),t._v(": username")]),t._v(" "),a("li",[a("code",[t._v("%c")]),t._v(": clientid")])]),t._v(" "),a("p",[t._v("例如，若期望 JWT 中的 Claim 字段 "),a("code",[t._v("sub")]),t._v(" 的值与 MQTT CONNECT 报文中 username 字段相同，则可以配置如下规则:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.jwt.verify_claims.sub = %u\n")])])]),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-ldap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-ldap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-ldap",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-ldap"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-ldap-servers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-servers"}},[t._v("#")]),t._v(" auth.ldap.servers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("127.0.0.1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-331"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-331"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("LDAP 服务地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-port"}},[t._v("#")]),t._v(" auth.ldap.port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("389")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-332"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-332"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("LDAP 服务端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-pool"}},[t._v("#")]),t._v(" auth.ldap.pool")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("> 0")]),t._v(" "),a("td",[t._v("8")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-333"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-333"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("连接池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-bind-dn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-bind-dn"}},[t._v("#")]),t._v(" auth.ldap.bind_dn")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("cn=root,dc=emqx,dc=io")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-334"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-334"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("登入 LDAP 服务的 DN。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-bind-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-bind-password"}},[t._v("#")]),t._v(" auth.ldap.bind_password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("public")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-335"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-335"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("登入 LDAP 服务的密码。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-timeout"}},[t._v("#")]),t._v(" auth.ldap.timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("30s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-336"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-336"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("查询操作的超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-device-dn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-device-dn"}},[t._v("#")]),t._v(" auth.ldap.device_dn")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("ou=device,dc=emqx,dc=io")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-337"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-337"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端隶属的 DN。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-match-objectclass"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-match-objectclass"}},[t._v("#")]),t._v(" auth.ldap.match_objectclass")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqttUser")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-338"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-338"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端对象的名称。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-username-attributetype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-username-attributetype"}},[t._v("#")]),t._v(" auth.ldap.username.attributetype")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("uid")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-339"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-339"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Username 属性的数据类型。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-password-attributetype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-password-attributetype"}},[t._v("#")]),t._v(" auth.ldap.password.attributetype")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("userPassword")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-340"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-340"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Password 属性的数据类型。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-ssl"}},[t._v("#")]),t._v(" auth.ldap.ssl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-341"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-341"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启 SSL。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-ssl-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-ssl-certfile"}},[t._v("#")]),t._v(" auth.ldap.ssl.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-342"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-342"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("SSL 服务端证书路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-ssl-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-ssl-keyfile"}},[t._v("#")]),t._v(" auth.ldap.ssl.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-343"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-343"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("SSL 服务端秘钥文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-ssl-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-ssl-cacertfile"}},[t._v("#")]),t._v(" auth.ldap.ssl.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-344"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-344"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("CA 证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-ssl-verify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-ssl-verify"}},[t._v("#")]),t._v(" auth.ldap.ssl.verify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("verify_peer")]),t._v(", "),a("code",[t._v("verify_none")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-345"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-345"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("SSL 认证方式：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("verify_none")]),t._v("：单向认证。")]),t._v(" "),a("li",[a("code",[t._v("verify_peer")]),t._v("：双向认证。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-ldap-ssl-fail-if-no-peer-cert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ldap-ssl-fail-if-no-peer-cert"}},[t._v("#")]),t._v(" auth.ldap.ssl.fail_if_no_peer_cert")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-346"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-346"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果客户端未提供 SSL 证书，则断开连接。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-mongo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-mongo"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-mongo",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-mongo"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-mongo-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-type"}},[t._v("#")]),t._v(" auth.mongo.type")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("single")]),t._v(", "),a("code",[t._v("unknown")]),t._v(", "),a("code",[t._v("sharded")]),t._v(", "),a("code",[t._v("rs")])]),t._v(" "),a("td",[a("code",[t._v("single")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-347"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-347"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 的拓扑类型:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("single: 单节点")])]),t._v(" "),a("li",[a("p",[t._v("unknown: 未知")])]),t._v(" "),a("li",[a("p",[t._v("sharded: 分片模式")])]),t._v(" "),a("li",[a("p",[t._v("rs: 副本模式 (replicated set)")])])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-rs-set-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-rs-set-name"}},[t._v("#")]),t._v(" auth.mongo.rs_set_name")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("127.0.0.1:27017")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-348"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-348"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 服务的地址。如有多个使用逗号 "),a("code",[t._v(",")]),t._v(" 分隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-pool"}},[t._v("#")]),t._v(" auth.mongo.pool")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-349"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-349"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 连接池的进程数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-login"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-login"}},[t._v("#")]),t._v(" auth.mongo.login")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-350"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-350"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 的用户名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-password"}},[t._v("#")]),t._v(" auth.mongo.password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-351"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-351"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 的密码。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-auth-source"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-auth-source"}},[t._v("#")]),t._v(" auth.mongo.auth_source")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-352"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-352"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 的认证源数据库名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-database"}},[t._v("#")]),t._v(" auth.mongo.database")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-353"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-353"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 的数据库名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-query-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-query-timeout"}},[t._v("#")]),t._v(" auth.mongo.query_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-354"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-354"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置访问 MongoDB 超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-ssl"}},[t._v("#")]),t._v(" auth.mongo.ssl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-355"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-355"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置是否使用 SSL 访问 MongoDB。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-ssl-opts-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-ssl-opts-keyfile"}},[t._v("#")]),t._v(" auth.mongo.ssl_opts.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-356"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-356"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL 访问 MongoDB，设置 SSL 客户端的私钥文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-ssl-opts-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-ssl-opts-certfile"}},[t._v("#")]),t._v(" auth.mongo.ssl_opts.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-357"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-357"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL 访问 MongoDB，设置 SSL 客户端的证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-ssl-opts-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-ssl-opts-cacertfile"}},[t._v("#")]),t._v(" auth.mongo.ssl_opts.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-358"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-358"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL 访问 MongoDB，设置 SSL 的 CA 证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-w-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-w-mode"}},[t._v("#")]),t._v(" auth.mongo.w_mode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("unsafe")]),t._v(", "),a("code",[t._v("safe")]),t._v(", "),a("code",[t._v("undef")])]),t._v(" "),a("td",[a("code",[t._v("undef")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-359"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-359"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 的写入模式。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-r-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-r-mode"}},[t._v("#")]),t._v(" auth.mongo.r_mode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("master")]),t._v(", "),a("code",[t._v("slave_ok")]),t._v(", "),a("code",[t._v("undef")])]),t._v(" "),a("td",[a("code",[t._v("undef")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-360"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-360"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 MongoDB 的读取模式。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-auth-query-collection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-auth-query-collection"}},[t._v("#")]),t._v(" auth.mongo.auth_query.collection")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt_user")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-361"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-361"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("认证过程用的 Collection 名字。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-auth-query-password-field"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-auth-query-password-field"}},[t._v("#")]),t._v(" auth.mongo.auth_query.password_field")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("password")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-362"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-362"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("认证过程用的主要字段。如需在密码之后加 salt，可以配置为:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.mongo.auth_query.password_field = password,salt\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-auth-query-password-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-auth-query-password-hash"}},[t._v("#")]),t._v(" auth.mongo.auth_query.password_hash")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("plain")]),t._v(", "),a("code",[t._v("md5")]),t._v(", "),a("code",[t._v("sha")]),t._v(", "),a("code",[t._v("sha256")]),t._v(", "),a("code",[t._v("bcrypt")])]),t._v(" "),a("td",[a("code",[t._v("sha256")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-363"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-363"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置密码字段用的哈希算法。如需在 sha256 密码之后加 salt，可以设置为:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.mongo.auth_query.password_hash = sha256,salt\n")])])]),a("p",[t._v("如需在 sha256 密码之前加 salt，可以设置为:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.mongo.auth_query.password_hash = salt,sha256\n")])])]),a("p",[t._v("如需在 bcrypt 密码之前加 salt，可以设置为:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.mongo.auth_query.password_hash = salt,bcrypt\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-auth-query-selector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-auth-query-selector"}},[t._v("#")]),t._v(" auth.mongo.auth_query.selector")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("username=%u")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-364"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-364"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("认证过程执行的 MongoDB 语句。命令可支持通配符:")]),t._v(" "),a("ul",[a("li",[t._v("%u: username")]),t._v(" "),a("li",[t._v("%c: clientid")]),t._v(" "),a("li",[t._v("%C: 客户端 TLS 证书里的 Common Name")]),t._v(" "),a("li",[t._v("%d: 客户端 TLS 证书里的 Subject")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-auth-query-super-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-auth-query-super-query"}},[t._v("#")]),t._v(" auth.mongo.auth_query.super_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-365"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-365"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("认证中是否使用 SuperUser。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-super-query-collection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-super-query-collection"}},[t._v("#")]),t._v(" auth.mongo.super_query.collection")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt_user")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-366"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-366"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SuperUser，指定 SuperUser 的 MongoDB Collection。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-super-query-selector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-super-query-selector"}},[t._v("#")]),t._v(" auth.mongo.super_query.selector")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("username=%u, clientid=%c")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-367"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-367"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SuperUser，指定查询 SuperUser 使用的 MongoDB 语句。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-acl-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-acl-query"}},[t._v("#")]),t._v(" auth.mongo.acl_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-368"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-368"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启 ACL 功能。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-acl-query-collection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-acl-query-collection"}},[t._v("#")]),t._v(" auth.mongo.acl_query.collection")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt_acl")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-369"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-369"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 ACL 功能，指定查询 ACL 规则的 MongoDB Collection。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-acl-query-selector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-acl-query-selector"}},[t._v("#")]),t._v(" auth.mongo.acl_query.selector")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("username=%u")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-370"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-370"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 ACL 功能，指定查询 ACL 规则使用的 MongoDB 语句。可支持多个 ACL 语句，多个语句之间使用 or 连接。")]),t._v(" "),a("p",[t._v("例如，配置如下两条访问规则：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("auth.mongo.acl_query.selector.1 = username=%u\nauth.mongo.acl_query.selector.2 = username=$all\n")])])]),a("p",[t._v("并且客户端的 username='ilyas'，则在查询 acl 规则的时候，会执行如下 MongoDB 语句：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.mqtt_acl.find({$or: [{username: "ilyas"},  {username: "$all"}]});\n')])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-pool-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-pool-size"}},[t._v("#")]),t._v(" auth.mongo.topology.pool_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-371"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-371"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，设置线程池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-max-overflow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-max-overflow"}},[t._v("#")]),t._v(" auth.mongo.topology.max_overflow")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-372"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-372"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，当线程池中所有 workers 都处于忙碌状态时，允许创建多少额外的 worker 线程。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-overflow-ttl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-overflow-ttl"}},[t._v("#")]),t._v(" auth.mongo.topology.overflow_ttl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-373"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-373"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，当有 worker 空闲时。多久之后释放额外的 worker 线程。单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-overflow-check-period"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-overflow-check-period"}},[t._v("#")]),t._v(" auth.mongo.topology.overflow_check_period")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-374"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-374"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，多长时间检查一次有无空闲线程，以释放额外的 worker。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-local-threshold-ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-local-threshold-ms"}},[t._v("#")]),t._v(" auth.mongo.topology.local_threshold_ms")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-375"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-375"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，选择用来处理用户请求的 Secondary 节点的策略。记到所有节点的 RTT 中的最小值为 LowestRTT，那么只有那些 RTT < LowestRTT + local_threshold_ms 的 Secondary 节点会被选择。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-connect-timeout-ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-connect-timeout-ms"}},[t._v("#")]),t._v(" auth.mongo.topology.connect_timeout_ms")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("20000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-376"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-376"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，MongoDB 连接超时时间，单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-socket-timeout-ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-socket-timeout-ms"}},[t._v("#")]),t._v(" auth.mongo.topology.socket_timeout_ms")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("100")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-377"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-377"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，MongoDB 消息发送超时时间，单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-server-selection-timeout-ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-server-selection-timeout-ms"}},[t._v("#")]),t._v(" auth.mongo.topology.server_selection_timeout_ms")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("30000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-378"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-378"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，选择 MongoDB Server 的超时时间，单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-wait-queue-timeout-ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-wait-queue-timeout-ms"}},[t._v("#")]),t._v(" auth.mongo.topology.wait_queue_timeout_ms")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-379"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-379"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，从线程池中选取 worker 的等待超时时间，单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-heartbeat-frequency-ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-heartbeat-frequency-ms"}},[t._v("#")]),t._v(" auth.mongo.topology.heartbeat_frequency_ms")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("10000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-380"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-380"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，拓扑扫描之间的间隔时间，单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mongo-topology-min-heartbeat-frequency-ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mongo-topology-min-heartbeat-frequency-ms"}},[t._v("#")]),t._v(" auth.mongo.topology.min_heartbeat_frequency_ms")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-381"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-381"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MongoDB 拓扑参数，"),a("code",[t._v("heartbeat_frequency_ms")]),t._v(" 允许的最小值，单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-mysql"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-mysql",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-mysql"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-mysql-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-server"}},[t._v("#")]),t._v(" auth.mysql.server")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ip")]),t._v(" "),a("td",[a("code",[t._v("127.0.0.1:3306")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-382"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-382"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MySQL 服务器地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-pool"}},[t._v("#")]),t._v(" auth.mysql.pool")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-383"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-383"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("数据库连接线程池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-username"}},[t._v("#")]),t._v(" auth.mysql.username")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-384"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-384"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MySQL 用户名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-password"}},[t._v("#")]),t._v(" auth.mysql.password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-385"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-385"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MySQL 密码。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-database"}},[t._v("#")]),t._v(" auth.mysql.database")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-386"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-386"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MySQL 数据库名称。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-query-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-query-timeout"}},[t._v("#")]),t._v(" auth.mysql.query_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-387"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-387"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MySQL 数据查询超时时间。查询超时将等同于未找到用户数据处理。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-auth-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-auth-query"}},[t._v("#")]),t._v(" auth.mysql.auth_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("select password from mqtt_user where username = '%u' limit 1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-388"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-388"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("认证时使用的 MySQL 选取语句，选取出来的数据将与经过由 "),a("code",[t._v("auth.mysql.password_hash")]),t._v(" 指定的加密方式加密的密码进行比较，比较后内容一致的客户端将被允许登录。加盐后存储的密码需要同时选取盐对应的字段，例如 "),a("code",[t._v("select password, salt from mqtt_user where username = '%u' limit 1")]),t._v("。"),a("code",[t._v("password")]),t._v(" 与 "),a("code",[t._v("salt")]),t._v(" 字段名不可以修改，表名与 WHERE 子句中的字段名可以视情况变化。WHERE 子句支持以下占位符：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("占位符")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("%u")])]),t._v(" "),a("td",[t._v("将被替换为 MQTT 客户端在 CONNECT 报文中指定的用户名")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%c")])]),t._v(" "),a("td",[t._v("将被替换为 MQTT 客户端在 CONNECT 报文中指定的客户端标识符")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%C")])]),t._v(" "),a("td",[t._v("将被替换为 TLS 连接时客户端证书中的 Common Name")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%d")])]),t._v(" "),a("td",[t._v("将被替换为 TLS 连接时客户端证书中的 Subject")])])])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-password-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-password-hash"}},[t._v("#")]),t._v(" auth.mysql.password_hash")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("sh256")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-389"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-389"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("存储在数据库的密码所使用的加密方式。支持以下加密方式：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("plain")]),t._v("，支持前后加盐，例如 "),a("code",[t._v("salt,plain")])]),t._v(" "),a("li",[a("code",[t._v("md5")]),t._v("，支持前后加盐")]),t._v(" "),a("li",[a("code",[t._v("sha")]),t._v("，支持前后加盐")]),t._v(" "),a("li",[a("code",[t._v("sha256")]),t._v("，支持前后加盐")]),t._v(" "),a("li",[a("code",[t._v("sha512")]),t._v("，支持前后加盐")]),t._v(" "),a("li",[a("code",[t._v("pbkdf2")]),t._v("，格式为 "),a("code",[t._v("pbkdf2,<Hashfun>,<Iterations>,<Dklen>")]),t._v("。其中，"),a("code",[t._v("<Hashfun>")]),t._v(" 为使用的哈希函数，支持 "),a("code",[t._v("md4")]),t._v("，"),a("code",[t._v("md5")]),t._v("，"),a("code",[t._v("ripemd160")]),t._v("，"),a("code",[t._v("sha")]),t._v("，"),a("code",[t._v("sha224")]),t._v("，"),a("code",[t._v("sha256")]),t._v("，"),a("code",[t._v("sha384")]),t._v("，"),a("code",[t._v("sha512")]),t._v("，"),a("code",[t._v("<Iterations>")]),t._v(" 为迭代次数，"),a("code",[t._v("<Dklen>")]),t._v(" 为导出密钥长度。示例："),a("code",[t._v("pbkdf2,sha256,1000,20")])]),t._v(" "),a("li",[a("code",[t._v("bcrypt")]),t._v("，仅支持前向加盐，例如 "),a("code",[t._v("salt,bcrypt")])])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-super-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-super-query"}},[t._v("#")]),t._v(" auth.mysql.super_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("select is_superuser from mqtt_user where username = '%u' limit 1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-390"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-390"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("超级用户认证时使用的 SQL 选取语句，此语句中所有表名与字段名都可视情况修改，当且仅当选取得到字段的值为 "),a("code",[t._v("1")]),t._v(" 时，该用户为超级用户。WHERE 子句中支持的占位符与 "),a("code",[t._v("auth.mysql.auth_query")]),t._v(" 相同。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-mysql-acl-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-mysql-acl-query"}},[t._v("#")]),t._v(" auth.mysql.acl_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("select allow, ipaddr, username, clientid, access, topic from mqtt_acl where ipaddr = '%a' or username = '%u' or username = '$all' or clientid = '%c'")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-391"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-391"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 校验时使用的 SQL 选取语句，此语句中所有表名与字段名都可视情况修改。WHERE 子句中支持的占位符如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("占位符")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("%a")])]),t._v(" "),a("td",[t._v("将被替换为客户端 IP 地址")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%u")])]),t._v(" "),a("td",[t._v("将被替换为 MQTT 客户端在 CONNECT 报文中指定的用户名")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("%c")])]),t._v(" "),a("td",[t._v("将被替换为 MQTT 客户端在 CONNECT 报文中指定的客户端标识符")])])])]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-pgsql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-pgsql"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-pgsql",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-pgsql"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-server"}},[t._v("#")]),t._v(" auth.pgsql.server")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ip")]),t._v(" "),a("td",[a("code",[t._v("127.0.0.1:5432")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-392"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-392"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("PostgreSQL 服务器地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-pool"}},[t._v("#")]),t._v(" auth.pgsql.pool")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-393"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-393"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("数据库连接线程池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-username"}},[t._v("#")]),t._v(" auth.pgsql.username")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("root")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-394"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-394"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("PostgreSQL 用户名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-password"}},[t._v("#")]),t._v(" auth.pgsql.password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-395"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-395"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("PostgreSQL 密码。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-database"}},[t._v("#")]),t._v(" auth.pgsql.database")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-396"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-396"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("PostgreSQL 数据库名称。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-encoding"}},[t._v("#")]),t._v(" auth.pgsql.encoding")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("utf8")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-397"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-397"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("PostgreSQL 数据库字符编码格式。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-ssl"}},[t._v("#")]),t._v(" auth.pgsql.ssl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-398"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-398"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否启用 TLS 连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-ssl-opts-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-ssl-opts-keyfile"}},[t._v("#")]),t._v(" auth.pgsql.ssl_opts.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-399"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-399"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端私钥文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-ssl-opts-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-ssl-opts-certfile"}},[t._v("#")]),t._v(" auth.pgsql.ssl_opts.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-400"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-400"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-ssl-opts-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-ssl-opts-cacertfile"}},[t._v("#")]),t._v(" auth.pgsql.ssl_opts.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-401"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-401"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端 CA 证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-auth-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-auth-query"}},[t._v("#")]),t._v(" auth.pgsql.auth_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("select password from mqtt_user where username = '%u' limit 1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-402"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-402"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("认证时使用的 SQL 选取语句，同 "),a("code",[t._v("auth.mysql.auth_query")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-password-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-password-hash"}},[t._v("#")]),t._v(" auth.pgsql.password_hash")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("sh256")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-403"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-403"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("存储在数据库的密码所使用的加密方式，同 "),a("code",[t._v("auth.mysql.password_hash")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-super-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-super-query"}},[t._v("#")]),t._v(" auth.pgsql.super_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("select is_superuser from mqtt_user where username = '%u' limit 1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-404"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-404"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("超级用户认证时使用的 SQL 选取语句，同 "),a("code",[t._v("auth.mysql.super_query")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-pgsql-acl-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-pgsql-acl-query"}},[t._v("#")]),t._v(" auth.pgsql.acl_query")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("select allow, ipaddr, username, clientid, access, topic from mqtt_acl where ipaddr = '%a' or username = '%u' or username = '$all' or clientid = '%c'")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-405"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-405"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 校验时使用的 SQL 选取语句，同 "),a("code",[t._v("auth.mysql.acl_query")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-redis"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-redis",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-redis"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-redis-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-type"}},[t._v("#")]),t._v(" auth.redis.type")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("single")]),t._v(", "),a("code",[t._v("sentinel")]),t._v(", "),a("code",[t._v("cluster")])]),t._v(" "),a("td",[a("code",[t._v("single")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-406"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-406"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Redis 服务集群类型：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("single")]),t._v("：单节点服务。")]),t._v(" "),a("li",[a("code",[t._v("sentinel")]),t._v("：哨兵模式。")]),t._v(" "),a("li",[a("code",[t._v("cluster")]),t._v("：集群模式。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-server"}},[t._v("#")]),t._v(" auth.redis.server")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("127.0.0.1:6379")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-407"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-407"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Redis 服务地址，如果有多个则以逗号分隔。例如，"),a("code",[t._v("192.168.0.1:6379, 192.168.0.2:6379")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-sentinel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-sentinel"}},[t._v("#")]),t._v(" auth.redis.sentinel")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-408"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-408"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Redis sentinel 模式下的集区名称。如果非 "),a("code",[t._v("sentinel")]),t._v(" 模式，则不需要配置。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-pool"}},[t._v("#")]),t._v(" auth.redis.pool")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("> 0")]),t._v(" "),a("td",[t._v("8")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-409"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-409"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("连接池大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-database"}},[t._v("#")]),t._v(" auth.redis.database")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-410"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-410"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("要连接的 Redis 数据库序号。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-password"}},[t._v("#")]),t._v(" auth.redis.password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-411"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-411"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Redis 用户密码。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-query-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-query-timeout"}},[t._v("#")]),t._v(" auth.redis.query_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("5s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-412"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-412"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Redis 查询超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-auth-cmd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-auth-cmd"}},[t._v("#")]),t._v(" auth.redis.auth_cmd")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("HMGET mqtt_user:%u password")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-413"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-413"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("认证查询命令，可用站位符有：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("%u")]),t._v("：客户端用户名。")]),t._v(" "),a("li",[a("code",[t._v("%c")]),t._v("：客户端标识。")]),t._v(" "),a("li",[a("code",[t._v("%C")]),t._v("：客户端 SSL 证书的 "),a("code",[t._v("cn")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("%d")]),t._v("：客户端 SSL 证书的 "),a("code",[t._v("dn")]),t._v("。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-password-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-password-hash"}},[t._v("#")]),t._v(" auth.redis.password_hash")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("plain")]),t._v(", "),a("code",[t._v("md5")]),t._v(", "),a("code",[t._v("sha")]),t._v(", "),a("code",[t._v("sha256")]),t._v(", "),a("code",[t._v("bcrypt")])]),t._v(" "),a("td",[a("code",[t._v("plain")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-414"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-414"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Redis 存储的 "),a("code",[t._v("password")]),t._v(" 字段的编码格式。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-super-cmd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-super-cmd"}},[t._v("#")]),t._v(" auth.redis.super_cmd")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("HGET mqtt_user:%u is_superuser")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-415"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-415"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("超级用户查询命令，可用的占位符有：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("%u")]),t._v("：客户端用户名。")]),t._v(" "),a("li",[a("code",[t._v("%c")]),t._v("：客户端标识。")]),t._v(" "),a("li",[a("code",[t._v("%C")]),t._v("：客户端 SSL 证书的 "),a("code",[t._v("cn")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("%d")]),t._v("：客户端 SSL 证书的 "),a("code",[t._v("dn")]),t._v("。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-redis-acl-cmd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-redis-acl-cmd"}},[t._v("#")]),t._v(" auth.redis.acl_cmd")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("HGETALL mqtt_acl:%u")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-416"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-416"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ACL 查询命令。可用的占位符有：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("%u")]),t._v("：客户端用户名。")]),t._v(" "),a("li",[a("code",[t._v("%c")]),t._v("：客户端标识。")])]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-auth-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-auth-username"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-auth-username",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-auth-username"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"auth-user-username-auth-user-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-user-username-auth-user-password"}},[t._v("#")]),t._v(" auth.user."),a("Number",[t._v(".username"),a("code",[t._v("&")]),t._v("auth.user."),a("Number",[t._v(".password")])],1)],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-417"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-417"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("客户端的认证数据，其中 "),a("code",[t._v("auth.user.<Number>.password")]),t._v(" 为明文密码。"),a("code",[t._v("<Number>")]),t._v(" 相同的 "),a("code",[t._v("auth.user.<Number>.username")]),t._v(" 与 "),a("code",[t._v("auth.user.<Number>.password")]),t._v(" 必须成对出现。"),a("code",[t._v("<Number>")]),t._v(" 是一个整型数字，用于区分多个客户端的认证数据。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"auth-user-password-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-user-password-hash"}},[t._v("#")]),t._v(" auth.user.password_hash")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("plain")]),t._v(", "),a("code",[t._v("md5")]),t._v(", "),a("code",[t._v("sha")]),t._v(", "),a("code",[t._v("sha256")])]),t._v(" "),a("td",[a("code",[t._v("sha256")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-418"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-418"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("密码存储至数据库时使用的 Hash 算法。以下选项可用：")]),t._v(" "),a("p",[a("code",[t._v("plain")])]),t._v(" "),a("p",[t._v("密码以明文形式存储。")]),t._v(" "),a("p",[a("code",[t._v("md5")])]),t._v(" "),a("p",[t._v("密码使用 MD5 算法加密后存储。")]),t._v(" "),a("p",[a("code",[t._v("sha")])]),t._v(" "),a("p",[t._v("密码使用 SHA-1 算法加密后存储。")]),t._v(" "),a("p",[a("code",[t._v("sha256")])]),t._v(" "),a("p",[t._v("密码使用 SHA-256 算法加密后存储。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-bridge-mqtt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-bridge-mqtt"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-bridge-mqtt",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-bridge-mqtt"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-address"}},[t._v("#")]),t._v(" bridge.mqtt.aws.address")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("127.0.0.1:1883")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-419"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-419"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("桥接地址，支持两种格式，例如：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("emqx@192.168.0.100")]),t._v("：EMQ X 节点名称，它表示将该节点的消息桥接到另外一个 EMQ X 节点。")]),t._v(" "),a("li",[a("code",[t._v("192.168.0.100:1883")]),t._v("：IP 地址和端口，它表示将该节点的消息通过一个 MQTT 连接桥接到另外一个 MQTT 服务器。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-proto-ver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-proto-ver"}},[t._v("#")]),t._v(" bridge.mqtt.aws.proto_ver")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("mqttv3")]),t._v(", "),a("code",[t._v("mqttv4")]),t._v(", "),a("code",[t._v("mqttv5")])]),t._v(" "),a("td",[a("code",[t._v("mqttv4")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-420"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-420"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接的客户端协议版本。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-start-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-start-type"}},[t._v("#")]),t._v(" bridge.mqtt.aws.start_type")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("eunm")]),t._v(" "),a("td",[a("code",[t._v("manual")]),t._v(", "),a("code",[t._v("auto")])]),t._v(" "),a("td",[a("code",[t._v("manual")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-421"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-421"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启动类型：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("auto")]),t._v("：跟随插件自动启动。")]),t._v(" "),a("li",[a("code",[t._v("manual")]),t._v("：手动启动桥接。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-bridge-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-bridge-mode"}},[t._v("#")]),t._v(" bridge.mqtt.aws.bridge_mode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("boolean")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-422"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-422"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启桥接模式，仅 MQTT 桥接支持。开启后 "),a("code",[t._v("emqx_bridge_mqtt")]),t._v(" 启动的 MQTT 客户端在发送连接报文时会携带一个标志位，标识这是一个桥接客户端。")]),t._v(" "),a("p",[t._v("注：RabbitMQ 目前不支持该标志。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-clientid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-clientid"}},[t._v("#")]),t._v(" bridge.mqtt.aws.clientid")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("bridge_aws")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-423"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-423"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接的客户端标识。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-clean-start"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-clean-start"}},[t._v("#")]),t._v(" bridge.mqtt.aws.clean_start")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("boolean")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-424"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-424"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接的 "),a("code",[t._v("clean_start")]),t._v(" 标志。它表示客户端是否以 "),a("code",[t._v("清楚会话")]),t._v(" 的方式连接到远程 MQTT Broker。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-username"}},[t._v("#")]),t._v(" bridge.mqtt.aws.username")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("user")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-425"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-425"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端的用户名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-password"}},[t._v("#")]),t._v(" bridge.mqtt.aws.password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("passwd")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-426"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-426"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端的密码。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-forwards"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-forwards"}},[t._v("#")]),t._v(" bridge.mqtt.aws.forwards")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("topic1/#,topic2/#")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-427"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-427"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("桥接转发规则。例如：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("topic1/#, topic2/#")]),t._v("："),a("code",[t._v("emqx_bridge_mqtt")]),t._v(" 会将 EMQ X 中所以与 "),a("code",[t._v("topic1/#")]),t._v("，"),a("code",[t._v("topic2/#")]),t._v(" 匹配的主题消息进行转发。")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-forward-mountpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-forward-mountpoint"}},[t._v("#")]),t._v(" bridge.mqtt.aws.forward_mountpoint")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("bridge/aws/${node}/")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-428"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-428"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发主题的前缀。将消息转发到目标系统时，支持给该主题添加一个统一的前缀。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-subscription-1-topic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-subscription-1-topic"}},[t._v("#")]),t._v(" bridge.mqtt.aws.subscription.1.topic")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-429"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-429"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("订阅对端系统的主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-subscription-1-qos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-subscription-1-qos"}},[t._v("#")]),t._v(" bridge.mqtt.aws.subscription.1.qos")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("0")]),t._v(", "),a("code",[t._v("1")]),t._v(", "),a("code",[t._v("2")])]),t._v(" "),a("td",[a("code",[t._v("1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-430"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-430"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("订阅对端系统主题的 QoS。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-receive-mountpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-receive-mountpoint"}},[t._v("#")]),t._v(" bridge.mqtt.aws.receive_mountpoint")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("receive/aws/")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-431"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-431"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("接收消息的主题前缀。"),a("code",[t._v("emqx_bridge_mqtt")]),t._v(" 支持给来着对端的消息添加一个统一的主题前缀。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-ssl"}},[t._v("#")]),t._v(" bridge.mqtt.aws.ssl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("boolean")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-432"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-432"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端是否开启 SSL。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-cacertfile"}},[t._v("#")]),t._v(" bridge.mqtt.aws.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cacert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-433"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-433"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端的 CA 证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-certfile"}},[t._v("#")]),t._v(" bridge.mqtt.aws.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/client-cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-434"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-434"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端的 SSL 证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-keyfile"}},[t._v("#")]),t._v(" bridge.mqtt.aws.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/client-key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-435"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-435"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端的 SSL 秘钥文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-ciphers"}},[t._v("#")]),t._v(" bridge.mqtt.aws.ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-436"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-436"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("SSL 握手支持的加密套件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-psk-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-psk-ciphers"}},[t._v("#")]),t._v(" bridge.mqtt.aws.psk_ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-437"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-437"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("SSL PSK 握手支持的加密套件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-keepalive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-keepalive"}},[t._v("#")]),t._v(" bridge.mqtt.aws.keepalive")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("60s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-438"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-438"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端的心跳间隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-tls-versions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-tls-versions"}},[t._v("#")]),t._v(" bridge.mqtt.aws.tls_versions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("tlsv1.2,tlsv1.1,tlsv1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-439"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-439"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("MQTT 桥接客户端的 SSL 版本。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-reconnect-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-reconnect-interval"}},[t._v("#")]),t._v(" bridge.mqtt.aws.reconnect_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("30s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-440"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-440"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("重连间隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-retry-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-retry-interval"}},[t._v("#")]),t._v(" bridge.mqtt.aws.retry_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("20s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-441"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-441"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("QoS 1/2 消息重发间隔。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-batch-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-batch-size"}},[t._v("#")]),t._v(" bridge.mqtt.aws.batch_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("32")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-442"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-442"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("EMQ X 桥接的批处理大小。"),a("code",[t._v("emqx_bridge_mqtt")]),t._v(" 的 EMQ X 桥接模式支持批量发送消息以提搞吞吐。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-max-inflight-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-max-inflight-size"}},[t._v("#")]),t._v(" bridge.mqtt.aws.max_inflight_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("32")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-443"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-443"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("飞行窗口大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-queue-replayq-dir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-queue-replayq-dir"}},[t._v("#")]),t._v(" bridge.mqtt.aws.queue.replayq_dir")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/emqx_aws_bridge/")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-444"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-444"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置消息队列文件路径。不配置则仅使用内存存储。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-queue-replayq-seg-bytes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-queue-replayq-seg-bytes"}},[t._v("#")]),t._v(" bridge.mqtt.aws.queue.replayq_seg_bytes")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("10MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-445"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-445"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息队列存储在磁盘的单个文件大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"bridge-mqtt-aws-queue-max-total-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bridge-mqtt-aws-queue-max-total-size"}},[t._v("#")]),t._v(" bridge.mqtt.aws.queue.max_total_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("5GB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-446"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-446"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("消息队列允许存储的最大值。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-coap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-coap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-coap",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-coap"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"coap-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-port"}},[t._v("#")]),t._v(" coap.port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("5683")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-447"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-447"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 CoAP 插件的 UDP 绑定端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-enable-stats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-enable-stats"}},[t._v("#")]),t._v(" coap.enable_stats")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-448"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-448"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("启用或关闭 CoAP 的统计功能。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-dtls-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-dtls-port"}},[t._v("#")]),t._v(" coap.dtls.port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("5684")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-449"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-449"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 CoAP 插件的 DTLS 绑定端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-dtls-verify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-dtls-verify"}},[t._v("#")]),t._v(" coap.dtls.verify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("verify_peer")]),t._v(", "),a("code",[t._v("verify_none")])]),t._v(" "),a("td",[a("code",[t._v("verify_peer")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-450"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-450"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用 DTLS 时，指定 DTLS 握手过程中是否校验客户端。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-dtls-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-dtls-keyfile"}},[t._v("#")]),t._v(" coap.dtls.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-451"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-451"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用 DTLS 时，指定 DTLS 的私钥文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-dtls-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-dtls-certfile"}},[t._v("#")]),t._v(" coap.dtls.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-452"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-452"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用 DTLS 时，指定 DTLS 的证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-dtls-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-dtls-cacertfile"}},[t._v("#")]),t._v(" coap.dtls.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cacert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-453"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-453"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用 DTLS 时，指定 DTLS 的 CA 证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-dtls-fail-if-no-peer-cert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-dtls-fail-if-no-peer-cert"}},[t._v("#")]),t._v(" coap.dtls.fail_if_no_peer_cert")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-454"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-454"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用 DTLS 时，DTLS 握手过程中若客户端没有证书，是否让握手失败。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"coap-dtls-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#coap-dtls-ciphers"}},[t._v("#")]),t._v(" coap.dtls.ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-455"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-455"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("使用 DTLS 时，指定 DTLS 服务端支持的 Cipher 列表。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-dashboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-dashboard"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-dashboard",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-dashboard"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"dashboard-default-user-login-dashboard-default-user-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-default-user-login-dashboard-default-user-password"}},[t._v("#")]),t._v(" dashboard.default_user.login"),a("code",[t._v("&")]),t._v("dashboard.default_user.password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-456"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-456"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("Dashboard 默认用户的认证数据。"),a("code",[t._v("dashboard.default_user.login")]),t._v(" 与 "),a("code",[t._v("dashboard.default_user.password")]),t._v(" 必须同时存在。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-http"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-http"}},[t._v("#")]),t._v(" dashboard.listener.http")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("18083")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-457"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-457"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 监听器的监听端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-http-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-http-acceptors"}},[t._v("#")]),t._v(" dashboard.listener.http.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("4")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-458"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-458"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("此监听器将创建的监听进程数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-http-max-clients"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-http-max-clients"}},[t._v("#")]),t._v(" dashboard.listener.http.max_clients")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-459"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-459"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("此监听器允许同时建立的最大连接数量限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-http-inet6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-http-inet6"}},[t._v("#")]),t._v(" dashboard.listener.http.inet6")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ture")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-460"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-460"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否设置套接字允许 IPv6 连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-http-ipv6-v6only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-http-ipv6-v6only"}},[t._v("#")]),t._v(" dashboard.listener.http.ipv6_v6only")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ture")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-461"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-461"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否限制套接字仅使用 IPv6，禁止任何 IPv4 连接。仅适用于 IPv6 套接字，即仅在 "),a("code",[t._v("dashboard.listener.http.inet6")]),t._v(" 被设置为 "),a("code",[t._v("true")]),t._v(" 时此配置项的值有实际意义。需要注意的是，在某些操作系统上，例如 Windows，此配置项唯一允许的值为 "),a("code",[t._v("true")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https"}},[t._v("#")]),t._v(" dashboard.listener.https")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("18084")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-462"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-462"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTPS 监听器的监听端口，"),a("strong",[t._v("默认此监听器被禁用")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-acceptors"}},[t._v("#")]),t._v(" dashboard.listener.https.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("2")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-463"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-463"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("同 "),a("code",[t._v("dashboard.listener.http.acceptors")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-max-clients"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-max-clients"}},[t._v("#")]),t._v(" dashboard.listener.https.max_clients")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-464"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-464"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("同 "),a("code",[t._v("dashboard.listener.http.max_clients")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-inet6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-inet6"}},[t._v("#")]),t._v(" dashboard.listener.https.inet6")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ture")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-465"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-465"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("同 "),a("code",[t._v("dashboard.listener.http.inet6")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-ipv6-v6only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-ipv6-v6only"}},[t._v("#")]),t._v(" dashboard.listener.https.ipv6_v6only")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ture")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-466"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-466"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("同 "),a("code",[t._v("dashboard.listener.http.ipv6_v6only")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-keyfile"}},[t._v("#")]),t._v(" dashboard.listener.https.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-467"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-467"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("服务端私钥文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-certfile"}},[t._v("#")]),t._v(" dashboard.listener.https.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-468"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-468"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("服务端证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-cacertfile"}},[t._v("#")]),t._v(" dashboard.listener.https.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cacert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-469"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-469"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("CA 证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-dhfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-dhfile"}},[t._v("#")]),t._v(" dashboard.listener.https.dhfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/dh-params.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-470"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-470"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果协商使用 Diffie Hellman 密钥交换的密码套件，则可以通过此配置项指定包含 PEM 编码的 Diffie Hellman 参数的文件路径。 如果未指定，则使用默认参数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-verify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-verify"}},[t._v("#")]),t._v(" dashboard.listener.https.verify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("verify_peer")]),t._v(", "),a("code",[t._v("verify_none")])]),t._v(" "),a("td",[a("code",[t._v("verify_peer")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-471"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-471"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[a("code",[t._v("verify_none")]),t._v(" 表示关闭对端证书验证，服务端不会向客户端发出证书请求。"),a("code",[t._v("verify_peer")]),t._v(" 表示开启对端证书验证，服务端会向客户端发出证书请求。当此配置项被设置为 "),a("code",[t._v("verify_peer")]),t._v(" 时，通常需要配合 "),a("code",[t._v("dashboard.listener.https.fail_if_no_peer_cert")]),t._v(" 一起使用，以指定是否强制客户端提供证书。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-fail-if-no-peer-cert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-fail-if-no-peer-cert"}},[t._v("#")]),t._v(" dashboard.listener.https.fail_if_no_peer_cert")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ture")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-472"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-472"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("必须配合 "),a("code",[t._v("dashboard.listener.https.verify")]),t._v(" 一起使用。如果设置为 "),a("code",[t._v("true")]),t._v("，则服务端向客户端请求证书时如果客户端不提供证书将导致握手失败。如果设置为 "),a("code",[t._v("false")]),t._v("，则客户端即使不提供证书也能握手成功。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-tls-versions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-tls-versions"}},[t._v("#")]),t._v(" dashboard.listener.https.tls_versions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("tlsv1.2,tlsv1.1,tlsv1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-473"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-473"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定服务端支持的 TLS 协议版本，版本之间由 "),a("code",[t._v(",")]),t._v(" 分隔，支持的 TLS 协议版本有： "),a("code",[t._v("tlsv1.3")]),t._v(", "),a("code",[t._v("tlsv1.2")]),t._v(", "),a("code",[t._v("tlsv1.1")]),t._v(", "),a("code",[t._v("tlsv1")]),t._v(", "),a("code",[t._v("sslv3")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-ciphers"}},[t._v("#")]),t._v(" dashboard.listener.https.ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-474"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-474"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定服务端支持的加密套件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-secure-renegotiate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-secure-renegotiate"}},[t._v("#")]),t._v(" dashboard.listener.https.secure_renegotiate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-475"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-475"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否启动安全重协商机制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-reuse-sessions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-reuse-sessions"}},[t._v("#")]),t._v(" dashboard.listener.https.reuse_sessions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-476"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-476"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否启用会话复用机制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"dashboard-listener-https-honor-cipher-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-listener-https-honor-cipher-order"}},[t._v("#")]),t._v(" dashboard.listener.https.honor_cipher_order")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-477"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-477"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("如果设置为 "),a("code",[t._v("on")]),t._v("，则使用服务器的首选项进行密码选择。 如果设置为 "),a("code",[t._v("off")]),t._v("，则使用客户端的首选项。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-lwm2m"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-lwm2m"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-lwm2m",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-lwm2m"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"lwm2m-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-port"}},[t._v("#")]),t._v(" lwm2m.port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("5683")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-478"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-478"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 LwM2M 使用的 UDP 端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-lifetime-min"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-lifetime-min"}},[t._v("#")]),t._v(" lwm2m.lifetime_min")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("1s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-479"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-479"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定允许的 LwM2M lifetime 最小值，单位: 秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-lifetime-max"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-lifetime-max"}},[t._v("#")]),t._v(" lwm2m.lifetime_max")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("86400s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-480"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-480"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定允许的 LwM2M lifetime 最大值，单位: 秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-qmode-time-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-qmode-time-window"}},[t._v("#")]),t._v(" lwm2m.qmode_time_window")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("22")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-481"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-481"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 LwM2M Q 模式使用的窗口大小，单位: 秒。")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("这个窗口期之内可以下发执行给 Q 模式的设备，过了窗口期则缓存下行数据。")]),t._v(" "),a("h3",{attrs:{id:"lwm2m-lb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-lb"}},[t._v("#")]),t._v(" lwm2m.lb")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("coaproxy")]),t._v(", "),a("code",[t._v("undefined")])]),t._v(" "),a("td",[a("code",[t._v("undefined")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-482"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-482"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置是否使用 coaproxy。设置为 "),a("code",[t._v("undefined")]),t._v(" 则不使用 coaproxy。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-auto-observe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-auto-observe"}},[t._v("#")]),t._v(" lwm2m.auto_observe")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-483"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-483"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("在设备注册后是否自动下发 observe 命令。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-mountpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-mountpoint"}},[t._v("#")]),t._v(" lwm2m.mountpoint")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("lwm2m/%e/")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-484"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-484"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置 LwM2M 主题的挂载点。支持以下通配符:")]),t._v(" "),a("ul",[a("li",[t._v("'%e': Endpoint Name")]),t._v(" "),a("li",[t._v("'%a': IP Address")])]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-topics-command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-topics-command"}},[t._v("#")]),t._v(" lwm2m.topics.command")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("dn/#")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-485"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-485"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设备注册完成后，需要订阅的下行命令主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-topics-response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-topics-response"}},[t._v("#")]),t._v(" lwm2m.topics.response")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("up/resp")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-486"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-486"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设备的上行回复需要发布到哪个主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-topics-notify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-topics-notify"}},[t._v("#")]),t._v(" lwm2m.topics.notify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("up/notify")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-487"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-487"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设备的上行报告消息 (notify) 需要发布到哪个主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-topics-register"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-topics-register"}},[t._v("#")]),t._v(" lwm2m.topics.register")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("up/resp")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-488"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-488"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设备的上行注册消息 (register) 需要发布到哪个主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-topics-update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-topics-update"}},[t._v("#")]),t._v(" lwm2m.topics.update")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("up/resp")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-489"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-489"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设备的上行更新消息 (update) 需要发布到哪个主题。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-opts-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-opts-buffer"}},[t._v("#")]),t._v(" lwm2m.opts.buffer")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1024KB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-490"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-490"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("UDP 调优参数，指定 UDP 用户态缓存大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-opts-recbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-opts-recbuf"}},[t._v("#")]),t._v(" lwm2m.opts.recbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1024KB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-491"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-491"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("UDP 调优参数，指定 UDP 接收缓存大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-opts-sndbuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-opts-sndbuf"}},[t._v("#")]),t._v(" lwm2m.opts.sndbuf")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1024KB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-492"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-492"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("UDP 调优参数，指定 UDP 发送缓存大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-opts-read-packets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-opts-read-packets"}},[t._v("#")]),t._v(" lwm2m.opts.read_packets")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("20")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-493"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-493"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("UDP 调优参数，指定每次从 UDP socket 读取多少个报文。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-certfile"}},[t._v("#")]),t._v(" lwm2m.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-494"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-494"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 UDP DTLS 使用的证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-keyfile"}},[t._v("#")]),t._v(" lwm2m.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-495"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-495"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 UDP DTLS 使用的私钥文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"lwm2m-xml-dir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lwm2m-xml-dir"}},[t._v("#")]),t._v(" lwm2m.xml_dir")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("dir")]),t._v(" "),a("td",[a("code",[t._v("etc/lwm2m_xml")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-496"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-496"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 LwM2M Object 定义文件存放的目录。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-management"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-management"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-management",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-management"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"management-max-row-limit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-max-row-limit"}},[t._v("#")]),t._v(" management.max_row_limit")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("10000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-497"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-497"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("分页查询时返回的最大记录数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-default-application-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-default-application-id"}},[t._v("#")]),t._v(" management.default_application.id")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("admin")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-498"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-498"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("默认应用的 AppId。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-default-application-secret"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-default-application-secret"}},[t._v("#")]),t._v(" management.default_application.secret")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("public")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-499"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-499"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("默认应用的 AppSecret。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http"}},[t._v("#")]),t._v(" management.listener.http")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8081")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-500"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-500"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 监听器的监听端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http-acceptors"}},[t._v("#")]),t._v(" management.listener.http.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("2")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-501"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-501"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("此监听器将创建的监听进程数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http-max-clients"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http-max-clients"}},[t._v("#")]),t._v(" management.listener.http.max_clients")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-502"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-502"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("此监听器允许同时建立的最大连接数量限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http-backlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http-backlog"}},[t._v("#")]),t._v(" management.listener.http.backlog")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-503"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-503"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http-send-timeout"}},[t._v("#")]),t._v(" management.listener.http.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-504"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-504"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 报文发送超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http-send-timeout-close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http-send-timeout-close"}},[t._v("#")]),t._v(" management.listener.http.send_timeout_close")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-505"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-505"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTP 报文发送超时后，是否关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http-inet6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http-inet6"}},[t._v("#")]),t._v(" management.listener.http.inet6")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-506"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-506"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否设置套接字允许 IPv6 连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-http-ipv6-v6only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-http-ipv6-v6only"}},[t._v("#")]),t._v(" management.listener.http.ipv6_v6only")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-507"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-507"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否限制套接字仅使用 IPv6，禁止任何 IPv4 连接。仅适用于 IPv6 套接字，即仅在 "),a("code",[t._v("management.listener.http.inet6")]),t._v(" 被设置为 "),a("code",[t._v("true")]),t._v(" 时此配置项的值有实际意义。需要注意的是，在某些操作系统上，例如 Windows，此配置项唯一允许的值为 "),a("code",[t._v("true")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https"}},[t._v("#")]),t._v(" management.listener.https")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",[t._v("Example")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("8081")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-508"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-508"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTPS 监听器的监听端口。")]),t._v(" "),a("h3",{attrs:{id:"management-listener-https-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-acceptors"}},[t._v("#")]),t._v(" management.listener.https.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("2")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-509"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-509"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("此监听器将创建的监听进程数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-max-clients"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-max-clients"}},[t._v("#")]),t._v(" management.listener.https.max_clients")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-510"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-510"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("此监听器允许同时建立的最大连接数量限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-backlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-backlog"}},[t._v("#")]),t._v(" management.listener.https.backlog")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-511"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-511"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-send-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-send-timeout"}},[t._v("#")]),t._v(" management.listener.https.send_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-512"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-512"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTPS 报文发送超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-send-timeout-close"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-send-timeout-close"}},[t._v("#")]),t._v(" management.listener.https.send_timeout_close")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-513"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-513"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("HTTPS 报文发送超时后，是否关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-keyfile"}},[t._v("#")]),t._v(" management.listener.https.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-514"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-514"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("服务端私钥文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-certfile"}},[t._v("#")]),t._v(" management.listener.https.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-515"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-515"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("服务端证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-cacertfile"}},[t._v("#")]),t._v(" management.listener.https.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cacert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-516"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-516"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("CA 证书文件路径。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-verify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-verify"}},[t._v("#")]),t._v(" management.listener.https.verify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("verify_peer")]),t._v(", "),a("code",[t._v("verify_none")])]),t._v(" "),a("td",[a("code",[t._v("verify_peer")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-517"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-517"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[a("code",[t._v("verify_none")]),t._v(" 表示关闭对端证书验证，服务端不会向客户端发出证书请求。"),a("code",[t._v("verify_peer")]),t._v(" 表示开启对端证书验证，服务端会向客户端发出证书请求。当此配置项被设置为 "),a("code",[t._v("verify_peer")]),t._v(" 时，通常需要配合 "),a("code",[t._v("management.listener.https.fail_if_no_peer_cert")]),t._v(" 一起使用，以指定是否强制客户端提供证书。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-fail-if-no-peer-cert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-fail-if-no-peer-cert"}},[t._v("#")]),t._v(" management.listener.https.fail_if_no_peer_cert")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ture")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-518"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-518"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("必须配合 "),a("code",[t._v("management.listener.https.verify")]),t._v(" 一起使用。如果设置为 "),a("code",[t._v("true")]),t._v("，则服务端向客户端请求证书时如果客户端不提供证书将导致握手失败。如果设置为 "),a("code",[t._v("false")]),t._v("，则客户端即使不提供证书也能握手成功。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-inet6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-inet6"}},[t._v("#")]),t._v(" management.listener.https.inet6")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-519"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-519"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否设置套接字允许 IPv6 连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"management-listener-https-ipv6-v6only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#management-listener-https-ipv6-v6only"}},[t._v("#")]),t._v(" management.listener.https.ipv6_v6only")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-520"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-520"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否限制套接字仅使用 IPv6，禁止任何 IPv4 连接。仅适用于 IPv6 套接字，即仅在 "),a("code",[t._v("management.listener.https.inet6")]),t._v(" 被设置为 "),a("code",[t._v("true")]),t._v(" 时此配置项的值有实际意义。需要注意的是，在某些操作系统上，例如 Windows，此配置项唯一允许的值为 "),a("code",[t._v("true")]),t._v("。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-reloader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-reloader"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-reloader",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-reloader"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"reloader-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reloader-interval"}},[t._v("#")]),t._v(" reloader.interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("60s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-521"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-521"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("每隔多长时间将所有代码代码热更新一次。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"reloader-logfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reloader-logfile"}},[t._v("#")]),t._v(" reloader.logfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("reloader.log")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-522"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-522"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("代码热更新的日志文件")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-retainer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-retainer"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-retainer",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-retainer"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"retainer-storage-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retainer-storage-type"}},[t._v("#")]),t._v(" retainer.storage_type")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("ram")]),t._v(", "),a("code",[t._v("disc")]),t._v(", "),a("code",[t._v("disc_only")])]),t._v(" "),a("td",[a("code",[t._v("ram")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-523"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-523"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("保留消息的存储类型，以下选项可用：")]),t._v(" "),a("p",[a("code",[t._v("ram")])]),t._v(" "),a("p",[t._v("保留消息仅存储在内存中。")]),t._v(" "),a("p",[a("code",[t._v("disc")])]),t._v(" "),a("p",[t._v("保留消息同时存储在内存和磁盘中。")]),t._v(" "),a("p",[a("code",[t._v("disc_only")])]),t._v(" "),a("p",[t._v("保留消息仅存储在磁盘中。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"retainer-max-retained-messages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retainer-max-retained-messages"}},[t._v("#")]),t._v(" retainer.max_retained_messages")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("0")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-524"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-524"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("保留消息的存储数量限制。一旦存储数量达到限制，可以替换已存在的保留消息，但不能为新的主题存储保留消息。0 表示没有限制。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"retainer-max-payload-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retainer-max-payload-size"}},[t._v("#")]),t._v(" retainer.max_payload_size")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("bytesize")]),t._v(" "),a("td",[a("code",[t._v("1MB")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-525"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-525"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("允许存储的保留消息的 Payload 最大长度限制。如果 Payload 超出最大限制，该保留消息可以被正常处理，但不会存储在服务端。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"retainer-expiry-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retainer-expiry-interval"}},[t._v("#")]),t._v(" retainer.expiry_interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("0")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-526"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-526"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("保留消息的过期间隔，仅对协议版本低于 MQTT v5.0 的客户端生效，MQTT v5.0 客户端的保留消息过期间隔将以 "),a("code",[t._v("Message Expiry Interval")]),t._v(" 的值为准。0 表示永不过期。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-rule-engine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-rule-engine"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-rule-engine",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-rule-engine"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"rule-engine-ignore-sys-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rule-engine-ignore-sys-message"}},[t._v("#")]),t._v(" rule-engine.ignore_sys_message")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-527"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-527"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("忽略系统消息 ($SYS)。启用此选项规则引擎将不会处理系统消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"rule-engine-events"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rule-engine-events"}},[t._v("#")]),t._v(" rule-engine.events."),a("event-name")],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-528"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-528"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("设置是否发布事件消息。可指定事件消息的 QoS，例如:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("rule-engine.events.client_connected = on, qos1\n\n")])])]),a("p",[t._v("若启用此选项，规则引擎会将系统消息使用 "),a("code",[t._v("$events/<event-name>")]),t._v(" 主题发布出来。可支持的 "),a("code",[t._v("<event-name>")]),t._v(" 有:")]),t._v(" "),a("ul",[a("li",[t._v("client_connected: 客户端登录完成")]),t._v(" "),a("li",[t._v("client_disconnected: 客户端下线")]),t._v(" "),a("li",[t._v("session_subscribed: 客户端订阅")]),t._v(" "),a("li",[t._v("session_unsubscribed: 客户端取消订阅")]),t._v(" "),a("li",[t._v("message_delivered: 消息已投递")]),t._v(" "),a("li",[t._v("message_acked: 消息已确认")]),t._v(" "),a("li",[t._v("message_dropped: 消息被丢弃")])]),t._v(" "),a("p",[t._v("如果禁用此选项，事件消息将不会发布，但事件规则仍然可以使用。例如，即使 "),a("code",[t._v("rule_engine.events.client_connected = off")]),t._v("，以下规则仍然可以使用:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('SELECT * FROM "$events/client_connected"\n')])])]),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-sn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-sn"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-sn",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-sn"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-port"}},[t._v("#")]),t._v(" mqtt.sn.port")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("1884")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-529"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-529"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[a("code",[t._v("emqx_sn")]),t._v(" 监听的 UDP 端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-advertise-duration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-advertise-duration"}},[t._v("#")]),t._v(" mqtt.sn.advertise_duration")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-530"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-530"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ADVERTISE 消息广播间隔，单位：秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-gateway-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-gateway-id"}},[t._v("#")]),t._v(" mqtt.sn.gateway_id")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-531"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-531"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("ADVERTISE 中的 MQTT-SN 网关 ID。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-enable-stats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-enable-stats"}},[t._v("#")]),t._v(" mqtt.sn.enable_stats")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-532"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-532"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否开启客户端状态统计信息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-enable-qos3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-enable-qos3"}},[t._v("#")]),t._v(" mqtt.sn.enable_qos3")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-533"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-533"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否处理 QoS 为 -1 的消息。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-idle-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-idle-timeout"}},[t._v("#")]),t._v(" mqtt.sn.idle_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("30s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-534"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-534"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-predefined-topic-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-predefined-topic-0"}},[t._v("#")]),t._v(" mqtt.sn.predefined.topic.0")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("reserved")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-535"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-535"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("预定义的 Topic 与 TopicId 映射。Id 为 0 的主题是保留项，固定为 "),a("code",[t._v("reserved")]),t._v("。例如，预定义主题 "),a("code",[t._v("foo/bar")]),t._v(" 的 Id 为 "),a("code",[t._v("1")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mqtt.sn.predefined.topic.1 = foo/bar\n")])])]),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-username"}},[t._v("#")]),t._v(" mqtt.sn.username")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("mqtt_sn_user")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-536"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-536"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[a("code",[t._v("emqx_sn")]),t._v(" 连接至 EMQ X 的用户名。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"mqtt-sn-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mqtt-sn-password"}},[t._v("#")]),t._v(" mqtt.sn.password")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("abc")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-537"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-537"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[a("code",[t._v("emqx_sn")]),t._v(" 连接至 EMQ X 的密码。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-prometheus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-prometheus"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-prometheus",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-prometheus"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"prometheus-push-gateway-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prometheus-push-gateway-server"}},[t._v("#")]),t._v(" prometheus.push.gateway.server")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("http://127.0.0.1:9091")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-538"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-538"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Prometheus gateway 的 URI。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"prometheus-interval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prometheus-interval"}},[t._v("#")]),t._v(" prometheus.interval")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("15000")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-539"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-539"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stats 数据的收集间隔，单位: 毫秒。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"prometheus-collector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prometheus-collector"}},[t._v("#")]),t._v(" prometheus.collector."),a("N")],1),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("emqx_prometheus")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-540"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-540"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Prometheus 的 Collector。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-stomp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-stomp"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-stomp",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-stomp"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"stomp-listener"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener"}},[t._v("#")]),t._v(" stomp.listener")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("61613")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-541"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-541"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 插件监听的本地端口。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-acceptors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-acceptors"}},[t._v("#")]),t._v(" stomp.listener.acceptors")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("4")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-542"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-542"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 服务 Acceptor 线程池的大小。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-max-connections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-max-connections"}},[t._v("#")]),t._v(" stomp.listener.max_connections")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("512")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-543"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-543"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 服务支持的最大连接数。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-ssl"}},[t._v("#")]),t._v(" stomp.listener.ssl")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-544"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-544"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定是否使用 SSL。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-keyfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-keyfile"}},[t._v("#")]),t._v(" stomp.listener.keyfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/key.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-545"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-545"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定 SSL 的私钥文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-certfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-certfile"}},[t._v("#")]),t._v(" stomp.listener.certfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-546"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-546"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定 SSL 的证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-cacertfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-cacertfile"}},[t._v("#")]),t._v(" stomp.listener.cacertfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/cacert.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-547"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-547"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定 SSL 的 CA 证书文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-dhfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-dhfile"}},[t._v("#")]),t._v(" stomp.listener.dhfile")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("etc/certs/dh-params.pem")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-548"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-548"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定 Ephemeral Diffie-Helman 算法使用的 key 文件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-verify"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-verify"}},[t._v("#")]),t._v(" stomp.listener.verify")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("verify_peer")]),t._v(", "),a("code",[t._v("verify_none")])]),t._v(" "),a("td",[a("code",[t._v("verify_peer")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-549"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-549"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定握手过程中是否校验客户端。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-fail-if-no-peer-cert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-fail-if-no-peer-cert"}},[t._v("#")]),t._v(" stomp.listener.fail_if_no_peer_cert")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("false")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-550"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-550"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，SSL 握手过程中若客户端没有证书，是否让握手失败。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-tls-versions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-tls-versions"}},[t._v("#")]),t._v(" stomp.listener.tls_versions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("tlsv1.2,tlsv1.1,tlsv1")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-551"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-551"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定服务端支持的 SSL 的版本列表。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-handshake-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-handshake-timeout"}},[t._v("#")]),t._v(" stomp.listener.handshake_timeout")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("duration")]),t._v(" "),a("td",[a("code",[t._v("15s")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-552"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-552"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定 SSL 握手过程的超时时间。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-ciphers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-ciphers"}},[t._v("#")]),t._v(" stomp.listener.ciphers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-553"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-553"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定服务端支持的 Cipher 列表。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-secure-renegotiate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-secure-renegotiate"}},[t._v("#")]),t._v(" stomp.listener.secure_renegotiate")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("off")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-554"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-554"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定在客户端不遵循 RFC 5746 的情况下，是否拒绝 renegotiation 请求。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-reuse-sessions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-reuse-sessions"}},[t._v("#")]),t._v(" stomp.listener.reuse_sessions")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-555"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-555"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定是否支持 SSL session 重用。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-listener-honor-cipher-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-listener-honor-cipher-order"}},[t._v("#")]),t._v(" stomp.listener.honor_cipher_order")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("on")]),t._v(", "),a("code",[t._v("off")])]),t._v(" "),a("td",[a("code",[t._v("on")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-556"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-556"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("若使用 SSL，指定是否使用服务端的偏好设置选择 Ciphers。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-default-user-login"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-default-user-login"}},[t._v("#")]),t._v(" stomp.default_user.login")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("guest")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-557"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-557"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 插件登录使用的 Username。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-default-user-passcode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-default-user-passcode"}},[t._v("#")]),t._v(" stomp.default_user.passcode")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v("guest")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-558"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-558"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 插件登录使用的 Password。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-allow-anonymous"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-allow-anonymous"}},[t._v("#")]),t._v(" stomp.allow_anonymous")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(", "),a("code",[t._v("false")])]),t._v(" "),a("td",[a("code",[t._v("true")])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-559"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-559"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("是否允许匿名登录。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-frame-max-headers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-frame-max-headers"}},[t._v("#")]),t._v(" stomp.frame.max_headers")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("10")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-560"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-560"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 最大报文头数量。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-frame-max-header-length"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-frame-max-header-length"}},[t._v("#")]),t._v(" stomp.frame.max_header_length")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("1024")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-561"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-561"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 最大报文头长度。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"stomp-frame-max-body-length"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stomp-frame-max-body-length"}},[t._v("#")]),t._v(" stomp.frame.max_body_length")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("integer")]),t._v(" "),a("td",[t._v("8192")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-562"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-562"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("指定 Stomp 最大报文体长度。")]),t._v(" "),a("br"),t._v(" "),a("h2",{attrs:{id:"emqx-web-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emqx-web-hook"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/emqx/emqx-web-hook",target:"_blank",rel:"noopener noreferrer"}},[t._v("emqx-web-hook"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"web-hook-api-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-api-url"}},[t._v("#")]),t._v(" web.hook.api.url")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-563"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-563"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[a("code",[t._v("emqx_web_hook")]),t._v(" 转发的目的 Web 服务器地址。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-encode-payload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-encode-payload"}},[t._v("#")]),t._v(" web.hook.encode_payload")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Optional Value")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("enum")]),t._v(" "),a("td",[a("code",[t._v("base62")]),t._v(", "),a("code",[t._v("base64")])]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h4",{attrs:{id:"说明-564"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-564"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("PUBLISH 消息中 Payload 字段的编码格式。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-client-connect-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-client-connect-1"}},[t._v("#")]),t._v(" web.hook.rule.client.connect.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_client_connect"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-565"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-565"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("收到连接报文")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-client-connack-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-client-connack-1"}},[t._v("#")]),t._v(" web.hook.rule.client.connack.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_client_connack"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-566"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-566"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("下发连接应答")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-client-connected-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-client-connected-1"}},[t._v("#")]),t._v(" web.hook.rule.client.connected.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_client_connected"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-567"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-567"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("客户端成功接入")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-client-disconnected-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-client-disconnected-1"}},[t._v("#")]),t._v(" web.hook.rule.client.disconnected.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_client_disconnected"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-568"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-568"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("客户端已断开")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-client-subscribe-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-client-subscribe-1"}},[t._v("#")]),t._v(" web.hook.rule.client.subscribe.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_client_subscribe"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-569"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-569"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("将订阅")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-client-unsubscribe-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-client-unsubscribe-1"}},[t._v("#")]),t._v(" web.hook.rule.client.unsubscribe.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_client_unsubscribe"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-570"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-570"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("将取消订阅")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-session-subscribed-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-session-subscribed-1"}},[t._v("#")]),t._v(" web.hook.rule.session.subscribed.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_session_subscribed"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-571"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-571"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("已订阅")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-session-unsubscribed-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-session-unsubscribed-1"}},[t._v("#")]),t._v(" web.hook.rule.session.unsubscribed.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_session_unsubscribed"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-572"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-572"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("已取消订阅")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-session-terminated-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-session-terminated-1"}},[t._v("#")]),t._v(" web.hook.rule.session.terminated.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_session_terminated"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-573"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-573"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("会话已终止")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-message-publish-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-message-publish-1"}},[t._v("#")]),t._v(" web.hook.rule.message.publish.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_message_publish"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-574"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-574"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("消息发布")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-message-delivered-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-message-delivered-1"}},[t._v("#")]),t._v(" web.hook.rule.message.delivered.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_message_delivered"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-575"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-575"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("消息已投递")]),t._v(" 事件。")]),t._v(" "),a("br"),t._v(" "),a("h3",{attrs:{id:"web-hook-rule-message-acked-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#web-hook-rule-message-acked-1"}},[t._v("#")]),t._v(" web.hook.rule.message.acked.1")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('{"action": "on_message_acked"}')])])])])]),t._v(" "),a("h4",{attrs:{id:"说明-576"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明-576"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("转发 "),a("code",[t._v("消息已应答")]),t._v(" 事件。")])])}),[],!1,null,null,null);e.default=v.exports}}]);