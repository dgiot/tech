<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>高效写入数据 | 数蛙技术团队</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1279876880&amp;web_id=1279876880"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="数蛙科技是一家致力于提供物联网垂直领域应用使能平台及解决方案的创新型公司。">
    <meta name="referrer" content="never">
    
    <link rel="preload" href="/assets/css/0.styles.23a8192d.css" as="style"><link rel="preload" href="/assets/js/app.c08d958e.js" as="script"><link rel="preload" href="/assets/js/7.57a5124b.js" as="script"><link rel="preload" href="/assets/js/5.7fd7e714.js" as="script"><link rel="preload" href="/assets/js/94.cc250574.js" as="script"><link rel="prefetch" href="/assets/js/10.b522d911.js"><link rel="prefetch" href="/assets/js/100.5b8c38a6.js"><link rel="prefetch" href="/assets/js/101.f694322e.js"><link rel="prefetch" href="/assets/js/102.629e724a.js"><link rel="prefetch" href="/assets/js/103.e76147c7.js"><link rel="prefetch" href="/assets/js/104.1bc49cdc.js"><link rel="prefetch" href="/assets/js/105.f607f1e8.js"><link rel="prefetch" href="/assets/js/106.5c0d4e5f.js"><link rel="prefetch" href="/assets/js/107.af765941.js"><link rel="prefetch" href="/assets/js/108.d8aa8d50.js"><link rel="prefetch" href="/assets/js/109.128f6343.js"><link rel="prefetch" href="/assets/js/11.f8566b5f.js"><link rel="prefetch" href="/assets/js/110.473a4833.js"><link rel="prefetch" href="/assets/js/111.a72c8303.js"><link rel="prefetch" href="/assets/js/112.11d8008c.js"><link rel="prefetch" href="/assets/js/113.33dbc2d5.js"><link rel="prefetch" href="/assets/js/114.fd8fe012.js"><link rel="prefetch" href="/assets/js/115.a185399d.js"><link rel="prefetch" href="/assets/js/116.52d5cc2e.js"><link rel="prefetch" href="/assets/js/117.8e2a7825.js"><link rel="prefetch" href="/assets/js/118.c63a82c2.js"><link rel="prefetch" href="/assets/js/119.d7643897.js"><link rel="prefetch" href="/assets/js/12.6ea34458.js"><link rel="prefetch" href="/assets/js/120.00b4b782.js"><link rel="prefetch" href="/assets/js/121.923d7a15.js"><link rel="prefetch" href="/assets/js/122.03ae65ea.js"><link rel="prefetch" href="/assets/js/123.3cca7fb6.js"><link rel="prefetch" href="/assets/js/124.fbbc8a45.js"><link rel="prefetch" href="/assets/js/125.3362129b.js"><link rel="prefetch" href="/assets/js/126.03db223f.js"><link rel="prefetch" href="/assets/js/127.0e045edd.js"><link rel="prefetch" href="/assets/js/128.c1367782.js"><link rel="prefetch" href="/assets/js/129.ca91b5e9.js"><link rel="prefetch" href="/assets/js/13.1f278ebb.js"><link rel="prefetch" href="/assets/js/130.a5e9c57d.js"><link rel="prefetch" href="/assets/js/131.3fa2052d.js"><link rel="prefetch" href="/assets/js/132.bd11148c.js"><link rel="prefetch" href="/assets/js/133.76e80978.js"><link rel="prefetch" href="/assets/js/134.f9ef85df.js"><link rel="prefetch" href="/assets/js/135.89eabab1.js"><link rel="prefetch" href="/assets/js/136.dd60893e.js"><link rel="prefetch" href="/assets/js/137.f8ccd202.js"><link rel="prefetch" href="/assets/js/138.ab0c8eb2.js"><link rel="prefetch" href="/assets/js/139.bace12a5.js"><link rel="prefetch" href="/assets/js/14.58a0a0d3.js"><link rel="prefetch" href="/assets/js/140.daa2df57.js"><link rel="prefetch" href="/assets/js/141.be424fc6.js"><link rel="prefetch" href="/assets/js/142.9644b41f.js"><link rel="prefetch" href="/assets/js/143.8198ef20.js"><link rel="prefetch" href="/assets/js/144.40e8c653.js"><link rel="prefetch" href="/assets/js/145.738b3479.js"><link rel="prefetch" href="/assets/js/146.72010681.js"><link rel="prefetch" href="/assets/js/147.829930a0.js"><link rel="prefetch" href="/assets/js/148.2e0b6153.js"><link rel="prefetch" href="/assets/js/149.2e5b467a.js"><link rel="prefetch" href="/assets/js/15.77f7e3fd.js"><link rel="prefetch" href="/assets/js/150.c75105ca.js"><link rel="prefetch" href="/assets/js/151.a72699d7.js"><link rel="prefetch" href="/assets/js/152.4def4492.js"><link rel="prefetch" href="/assets/js/153.77319a36.js"><link rel="prefetch" href="/assets/js/154.9d9783d5.js"><link rel="prefetch" href="/assets/js/155.6549082a.js"><link rel="prefetch" href="/assets/js/156.f1a3952e.js"><link rel="prefetch" href="/assets/js/157.580a59b0.js"><link rel="prefetch" href="/assets/js/158.44865388.js"><link rel="prefetch" href="/assets/js/159.beafc625.js"><link rel="prefetch" href="/assets/js/16.8c904717.js"><link rel="prefetch" href="/assets/js/160.b6b1dc31.js"><link rel="prefetch" href="/assets/js/161.36a12fe9.js"><link rel="prefetch" href="/assets/js/162.a0988050.js"><link rel="prefetch" href="/assets/js/163.4592ae74.js"><link rel="prefetch" href="/assets/js/164.c9c679b7.js"><link rel="prefetch" href="/assets/js/165.aa51857e.js"><link rel="prefetch" href="/assets/js/166.cec50488.js"><link rel="prefetch" href="/assets/js/167.2e7462fe.js"><link rel="prefetch" href="/assets/js/168.bcb11a46.js"><link rel="prefetch" href="/assets/js/169.dad78080.js"><link rel="prefetch" href="/assets/js/17.2a453114.js"><link rel="prefetch" href="/assets/js/170.620a3641.js"><link rel="prefetch" href="/assets/js/171.1164f5b1.js"><link rel="prefetch" href="/assets/js/172.21c892be.js"><link rel="prefetch" href="/assets/js/173.bb9fa321.js"><link rel="prefetch" href="/assets/js/174.4ef14513.js"><link rel="prefetch" href="/assets/js/175.aec121fe.js"><link rel="prefetch" href="/assets/js/176.7caf9714.js"><link rel="prefetch" href="/assets/js/177.2d2bb1d2.js"><link rel="prefetch" href="/assets/js/178.e8a2dfe0.js"><link rel="prefetch" href="/assets/js/179.669f3765.js"><link rel="prefetch" href="/assets/js/18.d109d4e2.js"><link rel="prefetch" href="/assets/js/180.3aab332b.js"><link rel="prefetch" href="/assets/js/181.d587e32d.js"><link rel="prefetch" href="/assets/js/182.3393cd23.js"><link rel="prefetch" href="/assets/js/183.5e575367.js"><link rel="prefetch" href="/assets/js/184.5a40f4e1.js"><link rel="prefetch" href="/assets/js/185.79880202.js"><link rel="prefetch" href="/assets/js/186.45e66cf4.js"><link rel="prefetch" href="/assets/js/187.c657bacb.js"><link rel="prefetch" href="/assets/js/188.6c6f71e3.js"><link rel="prefetch" href="/assets/js/189.44a59d47.js"><link rel="prefetch" href="/assets/js/19.9d8d9522.js"><link rel="prefetch" href="/assets/js/190.0613c965.js"><link rel="prefetch" href="/assets/js/191.a48ac1cf.js"><link rel="prefetch" href="/assets/js/192.27d4723a.js"><link rel="prefetch" href="/assets/js/193.167c908b.js"><link rel="prefetch" href="/assets/js/194.116c9ef1.js"><link rel="prefetch" href="/assets/js/195.e440723f.js"><link rel="prefetch" href="/assets/js/196.8ac1338d.js"><link rel="prefetch" href="/assets/js/197.baa2226b.js"><link rel="prefetch" href="/assets/js/198.82e785b7.js"><link rel="prefetch" href="/assets/js/199.ff7e2415.js"><link rel="prefetch" href="/assets/js/20.71f2ceb4.js"><link rel="prefetch" href="/assets/js/200.f21eee87.js"><link rel="prefetch" href="/assets/js/201.47776eb7.js"><link rel="prefetch" href="/assets/js/202.67544cdd.js"><link rel="prefetch" href="/assets/js/203.626d915e.js"><link rel="prefetch" href="/assets/js/204.7e80d0be.js"><link rel="prefetch" href="/assets/js/205.c98e9fb3.js"><link rel="prefetch" href="/assets/js/206.372b0722.js"><link rel="prefetch" href="/assets/js/207.931ca44b.js"><link rel="prefetch" href="/assets/js/208.f6cb1129.js"><link rel="prefetch" href="/assets/js/209.239a7611.js"><link rel="prefetch" href="/assets/js/21.9081967d.js"><link rel="prefetch" href="/assets/js/210.d8c89626.js"><link rel="prefetch" href="/assets/js/211.0bb1f160.js"><link rel="prefetch" href="/assets/js/212.2acb611c.js"><link rel="prefetch" href="/assets/js/213.1f1b3802.js"><link rel="prefetch" href="/assets/js/214.1c5c94da.js"><link rel="prefetch" href="/assets/js/215.dd6ed223.js"><link rel="prefetch" href="/assets/js/216.844b5dd9.js"><link rel="prefetch" href="/assets/js/217.8d51437f.js"><link rel="prefetch" href="/assets/js/218.db8bbe21.js"><link rel="prefetch" href="/assets/js/219.89e32aa5.js"><link rel="prefetch" href="/assets/js/22.1c3f825e.js"><link rel="prefetch" href="/assets/js/220.359fb7d8.js"><link rel="prefetch" href="/assets/js/221.52ccd77f.js"><link rel="prefetch" href="/assets/js/222.f67b147b.js"><link rel="prefetch" href="/assets/js/223.7add0c05.js"><link rel="prefetch" href="/assets/js/224.d37749f8.js"><link rel="prefetch" href="/assets/js/225.f086231d.js"><link rel="prefetch" href="/assets/js/226.c35fbb3c.js"><link rel="prefetch" href="/assets/js/227.114700ec.js"><link rel="prefetch" href="/assets/js/228.20191243.js"><link rel="prefetch" href="/assets/js/229.421131b9.js"><link rel="prefetch" href="/assets/js/23.548ff1be.js"><link rel="prefetch" href="/assets/js/230.cd7ec191.js"><link rel="prefetch" href="/assets/js/231.a142f753.js"><link rel="prefetch" href="/assets/js/232.dc315a10.js"><link rel="prefetch" href="/assets/js/233.dbedda36.js"><link rel="prefetch" href="/assets/js/234.bf56fc45.js"><link rel="prefetch" href="/assets/js/235.9c166c88.js"><link rel="prefetch" href="/assets/js/236.f8d8912e.js"><link rel="prefetch" href="/assets/js/237.d6e1796e.js"><link rel="prefetch" href="/assets/js/238.e970c4ed.js"><link rel="prefetch" href="/assets/js/239.be8b878c.js"><link rel="prefetch" href="/assets/js/24.88aefe90.js"><link rel="prefetch" href="/assets/js/240.9cd974fd.js"><link rel="prefetch" href="/assets/js/241.08c864e7.js"><link rel="prefetch" href="/assets/js/242.9908a26d.js"><link rel="prefetch" href="/assets/js/243.64933cf1.js"><link rel="prefetch" href="/assets/js/244.2cb6d127.js"><link rel="prefetch" href="/assets/js/245.c9624195.js"><link rel="prefetch" href="/assets/js/246.c63cda48.js"><link rel="prefetch" href="/assets/js/247.60c2e05f.js"><link rel="prefetch" href="/assets/js/248.7cddf279.js"><link rel="prefetch" href="/assets/js/249.9501af79.js"><link rel="prefetch" href="/assets/js/25.7fc7ee32.js"><link rel="prefetch" href="/assets/js/250.65c251ea.js"><link rel="prefetch" href="/assets/js/251.9c4fda4d.js"><link rel="prefetch" href="/assets/js/252.c7045381.js"><link rel="prefetch" href="/assets/js/253.427c85e2.js"><link rel="prefetch" href="/assets/js/254.0c8f2c44.js"><link rel="prefetch" href="/assets/js/255.071000d6.js"><link rel="prefetch" href="/assets/js/256.db0738a0.js"><link rel="prefetch" href="/assets/js/257.783ed258.js"><link rel="prefetch" href="/assets/js/258.804f1c8b.js"><link rel="prefetch" href="/assets/js/259.d3e64d13.js"><link rel="prefetch" href="/assets/js/26.363cff9f.js"><link rel="prefetch" href="/assets/js/260.f53f7b4d.js"><link rel="prefetch" href="/assets/js/261.1d1732d2.js"><link rel="prefetch" href="/assets/js/262.b885a5f6.js"><link rel="prefetch" href="/assets/js/263.478c878a.js"><link rel="prefetch" href="/assets/js/264.74ad1546.js"><link rel="prefetch" href="/assets/js/265.3675544e.js"><link rel="prefetch" href="/assets/js/266.ed692bf0.js"><link rel="prefetch" href="/assets/js/267.fab25d88.js"><link rel="prefetch" href="/assets/js/268.05651fe0.js"><link rel="prefetch" href="/assets/js/269.c8d72d9f.js"><link rel="prefetch" href="/assets/js/27.b21978a6.js"><link rel="prefetch" href="/assets/js/270.c5fedb5d.js"><link rel="prefetch" href="/assets/js/271.15b7af15.js"><link rel="prefetch" href="/assets/js/272.658efe3b.js"><link rel="prefetch" href="/assets/js/273.928ecc85.js"><link rel="prefetch" href="/assets/js/274.0ae0d297.js"><link rel="prefetch" href="/assets/js/275.80eac858.js"><link rel="prefetch" href="/assets/js/276.72f5c80c.js"><link rel="prefetch" href="/assets/js/277.37f573f6.js"><link rel="prefetch" href="/assets/js/278.662e9ece.js"><link rel="prefetch" href="/assets/js/279.b399f260.js"><link rel="prefetch" href="/assets/js/28.aedcf850.js"><link rel="prefetch" href="/assets/js/280.640837fb.js"><link rel="prefetch" href="/assets/js/281.2e0c78d3.js"><link rel="prefetch" href="/assets/js/282.ccfeb341.js"><link rel="prefetch" href="/assets/js/283.fc9d92be.js"><link rel="prefetch" href="/assets/js/284.f5b508ec.js"><link rel="prefetch" href="/assets/js/285.993000ce.js"><link rel="prefetch" href="/assets/js/286.f8392a23.js"><link rel="prefetch" href="/assets/js/287.f9194012.js"><link rel="prefetch" href="/assets/js/288.04b13a73.js"><link rel="prefetch" href="/assets/js/289.f24ed189.js"><link rel="prefetch" href="/assets/js/29.3b41d504.js"><link rel="prefetch" href="/assets/js/290.6ff761e9.js"><link rel="prefetch" href="/assets/js/291.3ea1f66e.js"><link rel="prefetch" href="/assets/js/292.7de97ad7.js"><link rel="prefetch" href="/assets/js/293.89720320.js"><link rel="prefetch" href="/assets/js/294.cd867a92.js"><link rel="prefetch" href="/assets/js/295.03f39e7d.js"><link rel="prefetch" href="/assets/js/296.9b309bc3.js"><link rel="prefetch" href="/assets/js/297.ccd76c42.js"><link rel="prefetch" href="/assets/js/298.2ed6b1d5.js"><link rel="prefetch" href="/assets/js/299.13cf476a.js"><link rel="prefetch" href="/assets/js/30.2c9f543b.js"><link rel="prefetch" href="/assets/js/300.10649a94.js"><link rel="prefetch" href="/assets/js/301.60d54704.js"><link rel="prefetch" href="/assets/js/302.2dc2787a.js"><link rel="prefetch" href="/assets/js/303.6fabc481.js"><link rel="prefetch" href="/assets/js/304.c6ed934d.js"><link rel="prefetch" href="/assets/js/305.e9109c9b.js"><link rel="prefetch" href="/assets/js/306.2ccb1bca.js"><link rel="prefetch" href="/assets/js/307.405e8ad1.js"><link rel="prefetch" href="/assets/js/308.bae2e0dc.js"><link rel="prefetch" href="/assets/js/309.13a9731c.js"><link rel="prefetch" href="/assets/js/31.8ad279a5.js"><link rel="prefetch" href="/assets/js/310.91e28641.js"><link rel="prefetch" href="/assets/js/311.1d31c65d.js"><link rel="prefetch" href="/assets/js/312.9ef4933d.js"><link rel="prefetch" href="/assets/js/313.6b7d96f5.js"><link rel="prefetch" href="/assets/js/314.f80f6980.js"><link rel="prefetch" href="/assets/js/315.e609ba26.js"><link rel="prefetch" href="/assets/js/316.7612bff8.js"><link rel="prefetch" href="/assets/js/317.c5aac4e5.js"><link rel="prefetch" href="/assets/js/318.5a0a5a45.js"><link rel="prefetch" href="/assets/js/319.208d77c6.js"><link rel="prefetch" href="/assets/js/32.b16e3a96.js"><link rel="prefetch" href="/assets/js/320.ffe39814.js"><link rel="prefetch" href="/assets/js/321.e6e8f5d2.js"><link rel="prefetch" href="/assets/js/322.090e198e.js"><link rel="prefetch" href="/assets/js/323.e391d7cf.js"><link rel="prefetch" href="/assets/js/324.d139871e.js"><link rel="prefetch" href="/assets/js/325.b5f7dca1.js"><link rel="prefetch" href="/assets/js/326.edf65e0c.js"><link rel="prefetch" href="/assets/js/327.15cbbdf9.js"><link rel="prefetch" href="/assets/js/328.c71fba72.js"><link rel="prefetch" href="/assets/js/329.4e5f6961.js"><link rel="prefetch" href="/assets/js/33.a4d0b4e1.js"><link rel="prefetch" href="/assets/js/330.6a58c621.js"><link rel="prefetch" href="/assets/js/331.66c65b25.js"><link rel="prefetch" href="/assets/js/332.a6e8a43c.js"><link rel="prefetch" href="/assets/js/34.650a2099.js"><link rel="prefetch" href="/assets/js/35.d5c7368d.js"><link rel="prefetch" href="/assets/js/36.8fe6ee61.js"><link rel="prefetch" href="/assets/js/37.c17724a9.js"><link rel="prefetch" href="/assets/js/38.c861d2d2.js"><link rel="prefetch" href="/assets/js/39.3a1c156f.js"><link rel="prefetch" href="/assets/js/40.ffae22b4.js"><link rel="prefetch" href="/assets/js/41.2857bf8b.js"><link rel="prefetch" href="/assets/js/42.a7f3ef3e.js"><link rel="prefetch" href="/assets/js/43.02547add.js"><link rel="prefetch" href="/assets/js/44.62aa5ba5.js"><link rel="prefetch" href="/assets/js/45.3cee1b25.js"><link rel="prefetch" href="/assets/js/46.4bdb1b68.js"><link rel="prefetch" href="/assets/js/47.8b07238e.js"><link rel="prefetch" href="/assets/js/48.698e8018.js"><link rel="prefetch" href="/assets/js/49.c93f3af0.js"><link rel="prefetch" href="/assets/js/50.305a0300.js"><link rel="prefetch" href="/assets/js/51.0bd53067.js"><link rel="prefetch" href="/assets/js/52.0caf0e92.js"><link rel="prefetch" href="/assets/js/53.2a648634.js"><link rel="prefetch" href="/assets/js/54.88c1e639.js"><link rel="prefetch" href="/assets/js/55.42244729.js"><link rel="prefetch" href="/assets/js/56.887a09a3.js"><link rel="prefetch" href="/assets/js/57.88ae1430.js"><link rel="prefetch" href="/assets/js/58.a9c64540.js"><link rel="prefetch" href="/assets/js/59.cbcf20a4.js"><link rel="prefetch" href="/assets/js/6.300c849a.js"><link rel="prefetch" href="/assets/js/60.c8bde8b6.js"><link rel="prefetch" href="/assets/js/61.0cde6342.js"><link rel="prefetch" href="/assets/js/62.3e817cd3.js"><link rel="prefetch" href="/assets/js/63.0ad8c0da.js"><link rel="prefetch" href="/assets/js/64.c188522a.js"><link rel="prefetch" href="/assets/js/65.21cc858f.js"><link rel="prefetch" href="/assets/js/66.88e79f65.js"><link rel="prefetch" href="/assets/js/67.17229983.js"><link rel="prefetch" href="/assets/js/68.720b0feb.js"><link rel="prefetch" href="/assets/js/69.1cd271c0.js"><link rel="prefetch" href="/assets/js/70.56afb010.js"><link rel="prefetch" href="/assets/js/71.d701e660.js"><link rel="prefetch" href="/assets/js/72.45c18c4f.js"><link rel="prefetch" href="/assets/js/73.4ab61b0d.js"><link rel="prefetch" href="/assets/js/74.415ef615.js"><link rel="prefetch" href="/assets/js/75.2c4113d1.js"><link rel="prefetch" href="/assets/js/76.f8302ca8.js"><link rel="prefetch" href="/assets/js/77.4b2af8e3.js"><link rel="prefetch" href="/assets/js/78.eb570ae5.js"><link rel="prefetch" href="/assets/js/79.d71ead3d.js"><link rel="prefetch" href="/assets/js/8.4012749e.js"><link rel="prefetch" href="/assets/js/80.1119b3d3.js"><link rel="prefetch" href="/assets/js/81.99200b66.js"><link rel="prefetch" href="/assets/js/82.3fef5db2.js"><link rel="prefetch" href="/assets/js/83.3150759e.js"><link rel="prefetch" href="/assets/js/84.ec4f621c.js"><link rel="prefetch" href="/assets/js/85.0c942a96.js"><link rel="prefetch" href="/assets/js/86.20167e29.js"><link rel="prefetch" href="/assets/js/87.b899abb2.js"><link rel="prefetch" href="/assets/js/88.a1bc9356.js"><link rel="prefetch" href="/assets/js/89.a0f50939.js"><link rel="prefetch" href="/assets/js/9.cfab03b0.js"><link rel="prefetch" href="/assets/js/90.c2e757eb.js"><link rel="prefetch" href="/assets/js/91.e08845a2.js"><link rel="prefetch" href="/assets/js/92.9dd5182d.js"><link rel="prefetch" href="/assets/js/93.b2918a8b.js"><link rel="prefetch" href="/assets/js/95.134d50b0.js"><link rel="prefetch" href="/assets/js/96.d56e9b2b.js"><link rel="prefetch" href="/assets/js/97.1627103a.js"><link rel="prefetch" href="/assets/js/98.8f62a213.js"><link rel="prefetch" href="/assets/js/99.6a71b831.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8d7743fe.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.f20d812e.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.751a6989.js">
    <link rel="stylesheet" href="/assets/css/0.styles.23a8192d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">数蛙技术团队</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">一站式云工厂平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link router-link-active">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/tdengine/05.insert/docs.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgpress/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云检测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">一站式云工厂平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link router-link-active">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/tdengine/05.insert/docs.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div style="padding-left:1.5rem;"><div></div></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据分析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>TDengine</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/dataanalysis/tdengine/00.index/docs.html" class="sidebar-link">TDengine文档</a></li><li><a href="/zh/dataanalysis/tdengine/01.evaluation/docs.html" class="sidebar-link">TDengine 介绍</a></li><li><a href="/zh/dataanalysis/tdengine/02.getting-started/docs.html" class="sidebar-link">立即开始</a></li><li><a href="/zh/dataanalysis/tdengine/14.arrangement/arrangement.html" class="sidebar-link">使用整理</a></li><li><a href="/zh/dataanalysis/tdengine/03.architecture/docs.html" class="sidebar-link">数据模型和整体架构</a></li><li><a href="/zh/dataanalysis/tdengine/04.model/docs.html" class="sidebar-link">数据建模</a></li><li><a href="/zh/dataanalysis/tdengine/05.insert/docs.html" aria-current="page" class="active sidebar-link">高效写入数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#sql写入" class="sidebar-link">SQL写入</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#prometheus直接写入" class="sidebar-link">Prometheus直接写入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#从源代码编译blm-prometheus" class="sidebar-link">从源代码编译blm_prometheus</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#安装prometheus" class="sidebar-link">安装Prometheus</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#配置prometheus" class="sidebar-link">配置Prometheus</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#启动blm-prometheus程序" class="sidebar-link">启动blm_prometheus程序</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#启动示例" class="sidebar-link">启动示例</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#查询prometheus写入数据" class="sidebar-link">查询prometheus写入数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#telegraf直接写入" class="sidebar-link">Telegraf直接写入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#从源代码编译blm-telegraf" class="sidebar-link">从源代码编译blm_telegraf</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#安装telegraf" class="sidebar-link">安装Telegraf</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#配置telegraf" class="sidebar-link">配置Telegraf</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#启动blm-telegraf程序" class="sidebar-link">启动blm_telegraf程序</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#启动示例-2" class="sidebar-link">启动示例</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#查询telegraf写入数据" class="sidebar-link">查询telegraf写入数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#emq-broker-直接写入" class="sidebar-link">EMQ Broker 直接写入</a></li><li class="sidebar-sub-header"><a href="/zh/dataanalysis/tdengine/05.insert/docs.html#hivemq-broker-直接写入" class="sidebar-link">HiveMQ Broker 直接写入</a></li></ul></li><li><a href="/zh/dataanalysis/tdengine/06.queries/docs.html" class="sidebar-link">高效查询数据</a></li><li><a href="/zh/dataanalysis/tdengine/07.advanced-features/docs.html" class="sidebar-link">高级功能</a></li><li><a href="/zh/dataanalysis/tdengine/08.connector/docs.html" class="sidebar-link">连接器简介</a></li><li><a href="/zh/dataanalysis/tdengine/08.connector/01.java/docs.html" class="sidebar-link">Java Connector</a></li><li><a href="/zh/dataanalysis/tdengine/09.connections/docs.html" class="sidebar-link">与其他工具的连接</a></li><li><a href="/zh/dataanalysis/tdengine/10.cluster/docs.html" class="sidebar-link">TDengine 集群安装、管理</a></li><li><a href="/zh/dataanalysis/tdengine/11.administrator/docs.html" class="sidebar-link">TDengine的运营与维护</a></li><li><a href="/zh/dataanalysis/tdengine/12.taos-sql/docs.html" class="sidebar-link">Sql示例</a></li><li><a href="/zh/dataanalysis/tdengine/12.taos-sql/01.error-code/docs.html" class="sidebar-link">错误码</a></li><li><a href="/zh/dataanalysis/tdengine/13.faq/docs.html" class="sidebar-link">常见问题</a></li></ul></section></li></ul> </aside> <!----> <!----> <main class="page"><div class="theme-default-content" style="margin-top:3.6rem;padding-top:0;padding-bottom:0;"></div> <div class="theme-default-content"><div class="content__default"><h1 id="高效写入数据"><a href="#高效写入数据" class="header-anchor">#</a> 高效写入数据</h1> <p>TDengine支持多种接口写入数据，包括SQL, Prometheus, Telegraf, EMQ MQTT Broker, HiveMQ Broker, CSV文件等，后续还将提供Kafka, OPC等接口。数据可以单条插入，也可以批量插入，可以插入一个数据采集点的数据，也可以同时插入多个数据采集点的数据。支持多线程插入，支持时间乱序数据插入，也支持历史数据插入。</p> <h2 id="sql写入"><a href="#sql写入" class="header-anchor">#</a> <a id="sql" class="anchor"></a>SQL写入</h2> <p>应用通过C/C++, JDBC, GO, 或Python Connector 执行SQL insert语句来插入数据，用户还可以通过TAOS Shell，手动输入SQL insert语句插入数据。比如下面这条insert 就将一条记录写入到表d1001中：</p> <div class="language-mysql extra-class"><pre class="language-text"><code>INSERT INTO d1001 VALUES (1538548685000, 10.3, 219, 0.31);
</code></pre></div><p>TDengine支持一次写入多条记录，比如下面这条命令就将两条记录写入到表d1001中：</p> <div class="language-mysql extra-class"><pre class="language-text"><code>INSERT INTO d1001 VALUES (1538548684000, 10.2, 220, 0.23) (1538548696650, 10.3, 218, 0.25);
</code></pre></div><p>TDengine也支持一次向多个表写入数据，比如下面这条命令就向d1001写入两条记录，向d1002写入一条记录：</p> <div class="language-mysql extra-class"><pre class="language-text"><code>INSERT INTO d1001 VALUES (1538548685000, 10.3, 219, 0.31) (1538548695000, 12.6, 218, 0.33) d1002 VALUES (1538548696800, 12.3, 221, 0.31);
</code></pre></div><p>详细的SQL INSERT语法规则请见 <a href="https://www.taosdata.com/cn/documentation/taos-sql#insert" target="_blank" rel="noopener noreferrer">TAOS SQL 的数据写入<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 章节。</p> <p><strong>Tips:</strong></p> <ul><li>要提高写入效率，需要批量写入。一批写入的记录条数越多，插入效率就越高。但一条记录不能超过16K，一条SQL语句总长度不能超过64K（可通过参数maxSQLLength配置，最大可配置为1M）。</li> <li>TDengine支持多线程同时写入，要进一步提高写入速度，一个客户端需要打开20个以上的线程同时写。但线程数达到一定数量后，无法再提高，甚至还会下降，因为线程切频繁切换，带来额外开销。</li> <li>对同一张表，如果新插入记录的时间戳已经存在，默认（没有使用 UPDATE 1 创建数据库）新记录将被直接抛弃，也就是说，在一张表里，时间戳必须是唯一的。如果应用自动生成记录，很有可能生成的时间戳是一样的，这样，成功插入的记录条数会小于应用插入的记录条数。如果在创建数据库时使用 UPDATE 1 选项，插入相同时间戳的新记录将覆盖原有记录。</li> <li>写入的数据的时间戳必须大于当前时间减去配置参数keep的时间。如果keep配置为3650天，那么无法写入比3650天还老的数据。写入数据的时间戳也不能大于当前时间加配置参数days。如果days配置为2，那么无法写入比当前时间还晚2天的数据。</li></ul> <h2 id="prometheus直接写入"><a href="#prometheus直接写入" class="header-anchor">#</a> <a id="prometheus" class="anchor"></a>Prometheus直接写入</h2> <p><a href="https://www.prometheus.io/" target="_blank" rel="noopener noreferrer">Prometheus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>作为Cloud Native Computing Fundation毕业的项目，在性能监控以及K8S性能监控领域有着非常广泛的应用。TDengine提供一个小工具<a href="https://github.com/taosdata/Bailongma" target="_blank" rel="noopener noreferrer">Bailongma<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，只需在Prometheus做简单配置，无需任何代码，就可将Prometheus采集的数据直接写入TDengine，并按规则在TDengine自动创建库和相关表项。博文<a href="https://www.taosdata.com/blog/2020/02/03/1189.html" target="_blank" rel="noopener noreferrer">用Docker容器快速搭建一个Devops监控Demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>即是采用bailongma将Prometheus和Telegraf的数据写入TDengine中的示例，可以参考。</p> <h3 id="从源代码编译blm-prometheus"><a href="#从源代码编译blm-prometheus" class="header-anchor">#</a> 从源代码编译blm_prometheus</h3> <p>用户需要从github下载<a href="https://github.com/taosdata/Bailongma" target="_blank" rel="noopener noreferrer">Bailongma<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的源码，使用Golang语言编译器编译生成可执行文件。在开始编译前，需要准备好以下条件：</p> <ul><li>Linux操作系统的服务器</li> <li>安装好Golang, 1.10版本以上</li> <li>对应的TDengine版本。因为用到了TDengine的客户端动态链接库，因此需要安装好和服务端相同版本的TDengine程序；比如服务端版本是TDengine 2.0.0, 则在bailongma所在的linux服务器（可以与TDengine在同一台服务器，或者不同服务器）</li></ul> <p>Bailongma项目中有一个文件夹blm_prometheus，存放了prometheus的写入API程序。编译过程如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> blm_prometheus
go build
</code></pre></div><p>一切正常的情况下，就会在对应的目录下生成一个blm_prometheus的可执行程序。</p> <h3 id="安装prometheus"><a href="#安装prometheus" class="header-anchor">#</a> 安装Prometheus</h3> <p>通过Prometheus的官网下载安装。<a href="https://prometheus.io/download/" target="_blank" rel="noopener noreferrer">下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="配置prometheus"><a href="#配置prometheus" class="header-anchor">#</a> 配置Prometheus</h3> <p>参考Prometheus的<a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/" target="_blank" rel="noopener noreferrer">配置文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在Prometheus的配置文件中的&lt;remote_write&gt;部分，增加以下配置</p> <ul><li>url: bailongma API服务提供的URL, 参考下面的blm_prometheus启动示例章节</li></ul> <p>启动Prometheus后，可以通过taos客户端查询确认数据是否成功写入。</p> <h3 id="启动blm-prometheus程序"><a href="#启动blm-prometheus程序" class="header-anchor">#</a> 启动blm_prometheus程序</h3> <p>blm_prometheus程序有以下选项，在启动blm_prometheus程序时可以通过设定这些选项来设定blm_prometheus的配置。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>--tdengine-name
如果TDengine安装在一台具备域名的服务器上，也可以通过配置TDengine的域名来访问TDengine。在K8S环境下，可以配置成TDengine所运行的service name

--batch-size
blm_prometheus会将收到的prometheus的数据拼装成TDengine的写入请求，这个参数控制一次发给TDengine的写入请求中携带的数据条数。

--dbname
设置在TDengine中创建的数据库名称，blm_prometheus会自动在TDengine中创建一个以dbname为名称的数据库，缺省值是prometheus。

--dbuser
设置访问TDengine的用户名，缺省值是<span class="token string">'root'</span>

--dbpassword
设置访问TDengine的密码，缺省值是<span class="token string">'taosdata'</span>

--port
blm_prometheus对prometheus提供服务的端口号。
</code></pre></div><h3 id="启动示例"><a href="#启动示例" class="header-anchor">#</a> 启动示例</h3> <p>通过以下命令启动一个blm_prometheus的API服务</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./blm_prometheus -port <span class="token number">8088</span>
</code></pre></div><p>假设blm_prometheus所在服务器的IP地址为&quot;10.1.2.3&quot;，则在prometheus的配置文件中&lt;remote_write&gt;部分增加url为</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">remote_write</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">&quot;http://10.1.2.3:8088/receive&quot;</span>
</code></pre></div><h3 id="查询prometheus写入数据"><a href="#查询prometheus写入数据" class="header-anchor">#</a> 查询prometheus写入数据</h3> <p>prometheus产生的数据格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  Timestamp<span class="token operator">:</span> <span class="token number">1576466279341</span><span class="token punctuation">,</span>
  Value<span class="token operator">:</span> <span class="token number">37.000000</span><span class="token punctuation">,</span> 
  apiserver_request_latencies_bucket <span class="token punctuation">{</span>
    component=<span class="token string">&quot;apiserver&quot;</span><span class="token punctuation">,</span> 
    instance=<span class="token string">&quot;192.168.99.116:8443&quot;</span><span class="token punctuation">,</span> 
    job=<span class="token string">&quot;kubernetes-apiservers&quot;</span><span class="token punctuation">,</span> 
    le=<span class="token string">&quot;125000&quot;</span><span class="token punctuation">,</span> 
    resource=<span class="token string">&quot;persistentvolumes&quot;</span><span class="token punctuation">,</span> s
    cope=<span class="token string">&quot;cluster&quot;</span><span class="token punctuation">,</span>
    verb=<span class="token string">&quot;LIST&quot;</span><span class="token punctuation">,</span> 
    version=“v1&quot; 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中，apiserver_request_latencies_bucket为prometheus采集的时序数据的名称，后面{}中的为该时序数据的标签。blm_prometheus会以时序数据的名称在TDengine中自动创建一个超级表，并将{}中的标签转换成TDengine的tag值，Timestamp作为时间戳，value作为该时序数据的值。因此在TDengine的客户端中，可以通过以下指令查到这个数据是否成功写入。</p> <div class="language-mysql extra-class"><pre class="language-text"><code>use prometheus;
select * from apiserver_request_latencies_bucket;
</code></pre></div><h2 id="telegraf直接写入"><a href="#telegraf直接写入" class="header-anchor">#</a> <a id="telegraf" class="anchor"></a>Telegraf直接写入</h2> <p><a href="https://www.influxdata.com/time-series-platform/telegraf/" target="_blank" rel="noopener noreferrer">Telegraf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一流行的IT运维数据采集开源工具，TDengine提供一个小工具<a href="https://github.com/taosdata/Bailongma" target="_blank" rel="noopener noreferrer">Bailongma<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，只需在Telegraf做简单配置，无需任何代码，就可将Telegraf采集的数据直接写入TDengine，并按规则在TDengine自动创建库和相关表项。博文<a href="https://www.taosdata.com/blog/2020/02/03/1189.html" target="_blank" rel="noopener noreferrer">用Docker容器快速搭建一个Devops监控Demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>即是采用bailongma将Prometheus和Telegraf的数据写入TDengine中的示例，可以参考。</p> <h3 id="从源代码编译blm-telegraf"><a href="#从源代码编译blm-telegraf" class="header-anchor">#</a> 从源代码编译blm_telegraf</h3> <p>用户需要从github下载<a href="https://github.com/taosdata/Bailongma" target="_blank" rel="noopener noreferrer">Bailongma<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的源码，使用Golang语言编译器编译生成可执行文件。在开始编译前，需要准备好以下条件：</p> <ul><li>Linux操作系统的服务器</li> <li>安装好Golang, 1.10版本以上</li> <li>对应的TDengine版本。因为用到了TDengine的客户端动态链接库，因此需要安装好和服务端相同版本的TDengine程序；比如服务端版本是TDengine 2.0.0, 则在bailongma所在的linux服务器（可以与TDengine在同一台服务器，或者不同服务器）</li></ul> <p>Bailongma项目中有一个文件夹blm_telegraf，存放了Telegraf的写入API程序。编译过程如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> blm_telegraf
go build
</code></pre></div><p>一切正常的情况下，就会在对应的目录下生成一个blm_telegraf的可执行程序。</p> <h3 id="安装telegraf"><a href="#安装telegraf" class="header-anchor">#</a> 安装Telegraf</h3> <p>目前TDengine支持Telegraf 1.7.4以上的版本。用户可以根据当前的操作系统，到Telegraf官网下载安装包，并执行安装。下载地址如下：https://portal.influxdata.com/downloads</p> <h3 id="配置telegraf"><a href="#配置telegraf" class="header-anchor">#</a> 配置Telegraf</h3> <p>修改Telegraf配置文件/etc/telegraf/telegraf.conf中与TDengine有关的配置项。</p> <p>在output plugins部分，增加[[outputs.http]]配置项：</p> <ul><li>url： bailongma API服务提供的URL, 参考下面的启动示例章节</li> <li>data_format: &quot;json&quot;</li> <li>json_timestamp_units:      &quot;1ms&quot;</li></ul> <p>在agent部分：</p> <ul><li>hostname: 区分不同采集设备的机器名称，需确保其唯一性</li> <li>metric_batch_size: 100，允许Telegraf每批次写入记录最大数量，增大其数量可以降低Telegraf的请求发送频率。</li></ul> <p>关于如何使用Telegraf采集数据以及更多有关使用Telegraf的信息，请参考Telegraf官方的<a href="https://docs.influxdata.com/telegraf/v1.11/" target="_blank" rel="noopener noreferrer">文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="启动blm-telegraf程序"><a href="#启动blm-telegraf程序" class="header-anchor">#</a> 启动blm_telegraf程序</h3> <p>blm_telegraf程序有以下选项，在启动blm_telegraf程序时可以通过设定这些选项来设定blm_telegraf的配置。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>--host
TDengine服务端的IP地址，缺省值为空

--batch-size
blm_telegraf会将收到的telegraf的数据拼装成TDengine的写入请求，这个参数控制一次发给TDengine的写入请求中携带的数据条数。

--dbname
设置在TDengine中创建的数据库名称，blm_telegraf会自动在TDengine中创建一个以dbname为名称的数据库，缺省值是prometheus。

--dbuser
设置访问TDengine的用户名，缺省值是<span class="token string">'root'</span>

--dbpassword
设置访问TDengine的密码，缺省值是<span class="token string">'taosdata'</span>

--port
blm_telegraf对telegraf提供服务的端口号。
</code></pre></div><h3 id="启动示例-2"><a href="#启动示例-2" class="header-anchor">#</a> 启动示例</h3> <p>通过以下命令启动一个blm_telegraf的API服务</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./blm_telegraf -host <span class="token number">127.0</span>.0.1 -port <span class="token number">8089</span>
</code></pre></div><p>假设blm_telegraf所在服务器的IP地址为&quot;10.1.2.3&quot;，则在telegraf的配置文件中, 在output plugins部分，增加[[outputs.http]]配置项：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code>url = &quot;http<span class="token punctuation">:</span>//10.1.2.3<span class="token punctuation">:</span>8089/telegraf&quot;
</code></pre></div><h3 id="查询telegraf写入数据"><a href="#查询telegraf写入数据" class="header-anchor">#</a> 查询telegraf写入数据</h3> <p>telegraf产生的数据格式如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;usage_guest&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;usage_guest_nice&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usage_idle&quot;</span><span class="token operator">:</span> <span class="token number">89.7897897897898</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;usage_iowait&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usage_irq&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usage_nice&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usage_softirq&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usage_steal&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usage_system&quot;</span><span class="token operator">:</span> <span class="token number">5.405405405405405</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;usage_user&quot;</span><span class="token operator">:</span> <span class="token number">4.804804804804805</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cpu&quot;</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cpu&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cpu2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bogon&quot;</span> 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1576464360</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>其中，name字段为telegraf采集的时序数据的名称，tags字段为该时序数据的标签。blm_telegraf会以时序数据的名称在TDengine中自动创建一个超级表，并将tags字段中的标签转换成TDengine的tag值，Timestamp作为时间戳，fields字段中的值作为该时序数据的值。因此在TDengine的客户端中，可以通过以下指令查到这个数据是否成功写入。</p> <div class="language-mysql extra-class"><pre class="language-text"><code>use telegraf;
select * from cpu;
</code></pre></div><p>MQTT是一流行的物联网数据传输协议，TDengine 可以很方便的接入 MQTT Broker 接受的数据并写入到 TDengine。</p> <h2 id="emq-broker-直接写入"><a href="#emq-broker-直接写入" class="header-anchor">#</a> <a id="emq" class="anchor"></a>EMQ Broker 直接写入</h2> <p><a href="https://github.com/emqx/emqx" target="_blank" rel="noopener noreferrer">EMQ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一开源的MQTT Broker软件，无需任何代码，只需要在EMQ Dashboard里使用“规则”做简单配置，即可将MQTT的数据直接写入TDengine。EMQ X 支持通过 发送到 Web 服务 的方式保存数据到 TDengine，也在企业版上提供原生的 TDengine 驱动实现直接保存。详细使用方法请参考<a href="https://docs.emqx.io/broker/latest/cn/rule/rule-example.html#%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%E5%88%B0-tdengine" target="_blank" rel="noopener noreferrer">EMQ 官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="hivemq-broker-直接写入"><a href="#hivemq-broker-直接写入" class="header-anchor">#</a> <a id="hivemq" class="anchor"></a>HiveMQ Broker 直接写入</h2> <p><a href="https://www.hivemq.com/" target="_blank" rel="noopener noreferrer">HiveMQ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一个提供免费个人版和企业版的 MQTT 代理，主要用于企业和新兴的机器到机器M2M通讯和内部传输，满足可伸缩性、易管理和安全特性。HiveMQ 提供了开源的插件开发包。可以通过 HiveMQ extension - TDengine 保存数据到 TDengine。详细使用方法请参考 <a href="https://github.com/huskar-t/hivemq-tdengine-extension/blob/b62a26ecc164a310104df57691691b237e091c89/README.md" target="_blank" rel="noopener noreferrer">HiveMQ extension - TDengine 说明文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></div> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/29/2021, 10:51:36 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/dataanalysis/tdengine/04.model/docs.html" class="prev">数据建模</a></span> <span class="next"><a href="/zh/dataanalysis/tdengine/06.queries/docs.html">高效查询数据</a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div><div class="add-this"></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.c08d958e.js" defer></script><script src="/assets/js/7.57a5124b.js" defer></script><script src="/assets/js/5.7fd7e714.js" defer></script><script src="/assets/js/94.cc250574.js" defer></script>
  </body>
</html>
