<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>配置项 | 数蛙技术团队</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="数蛙科技是一家致力于提供物联网垂直领域应用使能平台及解决方案的创新型公司。">
    <meta name="referrer" content="never">
    
    <link rel="preload" href="/assets/css/0.styles.b385f251.css" as="style"><link rel="preload" href="/assets/js/app.b4d3d389.js" as="script"><link rel="preload" href="/assets/js/6.a55563ee.js" as="script"><link rel="preload" href="/assets/js/5.451ad62b.js" as="script"><link rel="preload" href="/assets/js/94.3bc9b14d.js" as="script"><link rel="prefetch" href="/assets/js/10.e5821bc5.js"><link rel="prefetch" href="/assets/js/100.5405e993.js"><link rel="prefetch" href="/assets/js/101.ab7157d5.js"><link rel="prefetch" href="/assets/js/102.6e2d11bd.js"><link rel="prefetch" href="/assets/js/103.3483e816.js"><link rel="prefetch" href="/assets/js/104.f70a82c8.js"><link rel="prefetch" href="/assets/js/105.9a078cc4.js"><link rel="prefetch" href="/assets/js/106.ad8b1ffb.js"><link rel="prefetch" href="/assets/js/107.39b29637.js"><link rel="prefetch" href="/assets/js/108.08081bb1.js"><link rel="prefetch" href="/assets/js/109.c73af20e.js"><link rel="prefetch" href="/assets/js/11.14a5ae87.js"><link rel="prefetch" href="/assets/js/110.7985d550.js"><link rel="prefetch" href="/assets/js/111.22aa2979.js"><link rel="prefetch" href="/assets/js/112.f4b150a0.js"><link rel="prefetch" href="/assets/js/113.7803003c.js"><link rel="prefetch" href="/assets/js/114.9b3a9338.js"><link rel="prefetch" href="/assets/js/115.e4d5ad45.js"><link rel="prefetch" href="/assets/js/116.2d4dbcc4.js"><link rel="prefetch" href="/assets/js/117.8db5e49f.js"><link rel="prefetch" href="/assets/js/118.72ece091.js"><link rel="prefetch" href="/assets/js/119.6c3477b0.js"><link rel="prefetch" href="/assets/js/12.f5570d17.js"><link rel="prefetch" href="/assets/js/120.1a3ff316.js"><link rel="prefetch" href="/assets/js/121.3964a1e3.js"><link rel="prefetch" href="/assets/js/122.5de4fa97.js"><link rel="prefetch" href="/assets/js/123.ab2fcaee.js"><link rel="prefetch" href="/assets/js/124.6573b32b.js"><link rel="prefetch" href="/assets/js/125.f529f87d.js"><link rel="prefetch" href="/assets/js/126.175d433a.js"><link rel="prefetch" href="/assets/js/127.57a3c30a.js"><link rel="prefetch" href="/assets/js/128.f4afc343.js"><link rel="prefetch" href="/assets/js/129.91011923.js"><link rel="prefetch" href="/assets/js/13.935660d5.js"><link rel="prefetch" href="/assets/js/130.2e724e2b.js"><link rel="prefetch" href="/assets/js/131.6c244127.js"><link rel="prefetch" href="/assets/js/132.9c308cf1.js"><link rel="prefetch" href="/assets/js/133.b03575bc.js"><link rel="prefetch" href="/assets/js/134.910d8b17.js"><link rel="prefetch" href="/assets/js/135.9fb70fc8.js"><link rel="prefetch" href="/assets/js/136.608d87a8.js"><link rel="prefetch" href="/assets/js/137.7558121f.js"><link rel="prefetch" href="/assets/js/138.c20f933b.js"><link rel="prefetch" href="/assets/js/139.41327234.js"><link rel="prefetch" href="/assets/js/14.ee83db32.js"><link rel="prefetch" href="/assets/js/140.b3953dd5.js"><link rel="prefetch" href="/assets/js/141.d517d7e4.js"><link rel="prefetch" href="/assets/js/142.b0d4cc24.js"><link rel="prefetch" href="/assets/js/143.a463efd4.js"><link rel="prefetch" href="/assets/js/144.c8a1bb23.js"><link rel="prefetch" href="/assets/js/145.a8138a02.js"><link rel="prefetch" href="/assets/js/146.1b40d1b0.js"><link rel="prefetch" href="/assets/js/147.137db8e5.js"><link rel="prefetch" href="/assets/js/148.b5c43ff6.js"><link rel="prefetch" href="/assets/js/149.b318344c.js"><link rel="prefetch" href="/assets/js/15.90c6ed1f.js"><link rel="prefetch" href="/assets/js/150.533f2deb.js"><link rel="prefetch" href="/assets/js/151.47ed0e41.js"><link rel="prefetch" href="/assets/js/152.7dd0b291.js"><link rel="prefetch" href="/assets/js/153.3da4e3a2.js"><link rel="prefetch" href="/assets/js/154.38157751.js"><link rel="prefetch" href="/assets/js/155.359418ae.js"><link rel="prefetch" href="/assets/js/156.909fece7.js"><link rel="prefetch" href="/assets/js/157.cf6f4422.js"><link rel="prefetch" href="/assets/js/158.dd76ce93.js"><link rel="prefetch" href="/assets/js/159.52af82ec.js"><link rel="prefetch" href="/assets/js/16.c769401f.js"><link rel="prefetch" href="/assets/js/160.4f3bd13f.js"><link rel="prefetch" href="/assets/js/161.87b81b38.js"><link rel="prefetch" href="/assets/js/162.9f476498.js"><link rel="prefetch" href="/assets/js/163.46797a4e.js"><link rel="prefetch" href="/assets/js/164.26558c64.js"><link rel="prefetch" href="/assets/js/165.a904edaa.js"><link rel="prefetch" href="/assets/js/166.52ba59f0.js"><link rel="prefetch" href="/assets/js/167.819dce21.js"><link rel="prefetch" href="/assets/js/168.e2c0abb9.js"><link rel="prefetch" href="/assets/js/169.7cc28600.js"><link rel="prefetch" href="/assets/js/17.738fd8dc.js"><link rel="prefetch" href="/assets/js/170.41b4f804.js"><link rel="prefetch" href="/assets/js/171.9bdaca8d.js"><link rel="prefetch" href="/assets/js/172.90b13c63.js"><link rel="prefetch" href="/assets/js/173.c43f1fd5.js"><link rel="prefetch" href="/assets/js/174.3b9d3a8d.js"><link rel="prefetch" href="/assets/js/175.345b2b11.js"><link rel="prefetch" href="/assets/js/176.17aa6645.js"><link rel="prefetch" href="/assets/js/177.b7ab4c26.js"><link rel="prefetch" href="/assets/js/178.e0859755.js"><link rel="prefetch" href="/assets/js/179.857288c0.js"><link rel="prefetch" href="/assets/js/18.83969809.js"><link rel="prefetch" href="/assets/js/180.403e854d.js"><link rel="prefetch" href="/assets/js/181.0d2837bf.js"><link rel="prefetch" href="/assets/js/182.b662e97e.js"><link rel="prefetch" href="/assets/js/183.04df2202.js"><link rel="prefetch" href="/assets/js/184.20f21d32.js"><link rel="prefetch" href="/assets/js/185.b7292f43.js"><link rel="prefetch" href="/assets/js/186.25c38fdf.js"><link rel="prefetch" href="/assets/js/187.5a4218cb.js"><link rel="prefetch" href="/assets/js/188.cd67cdc7.js"><link rel="prefetch" href="/assets/js/189.c0df3cec.js"><link rel="prefetch" href="/assets/js/19.57b70b06.js"><link rel="prefetch" href="/assets/js/190.27ade978.js"><link rel="prefetch" href="/assets/js/191.bb98f955.js"><link rel="prefetch" href="/assets/js/192.1a893ace.js"><link rel="prefetch" href="/assets/js/193.0bdd3daa.js"><link rel="prefetch" href="/assets/js/194.e1818963.js"><link rel="prefetch" href="/assets/js/195.8b7770aa.js"><link rel="prefetch" href="/assets/js/196.491960a5.js"><link rel="prefetch" href="/assets/js/197.974791b8.js"><link rel="prefetch" href="/assets/js/198.a1cbf40f.js"><link rel="prefetch" href="/assets/js/199.5d24acfe.js"><link rel="prefetch" href="/assets/js/20.8daf4347.js"><link rel="prefetch" href="/assets/js/200.99d631f8.js"><link rel="prefetch" href="/assets/js/201.6519cd12.js"><link rel="prefetch" href="/assets/js/202.511e0f1a.js"><link rel="prefetch" href="/assets/js/203.cc0f9caa.js"><link rel="prefetch" href="/assets/js/204.6102c6bb.js"><link rel="prefetch" href="/assets/js/205.06649793.js"><link rel="prefetch" href="/assets/js/206.dfd75a03.js"><link rel="prefetch" href="/assets/js/207.4ba7b9e5.js"><link rel="prefetch" href="/assets/js/208.781c5d52.js"><link rel="prefetch" href="/assets/js/209.c50c3cd4.js"><link rel="prefetch" href="/assets/js/21.9b67fc78.js"><link rel="prefetch" href="/assets/js/210.c76e9bce.js"><link rel="prefetch" href="/assets/js/211.b4c8c643.js"><link rel="prefetch" href="/assets/js/212.cac643ab.js"><link rel="prefetch" href="/assets/js/213.daf3f039.js"><link rel="prefetch" href="/assets/js/214.60257bfc.js"><link rel="prefetch" href="/assets/js/215.e0e438aa.js"><link rel="prefetch" href="/assets/js/216.4e53f3c8.js"><link rel="prefetch" href="/assets/js/217.937bdaff.js"><link rel="prefetch" href="/assets/js/218.18c59411.js"><link rel="prefetch" href="/assets/js/219.56dc13eb.js"><link rel="prefetch" href="/assets/js/22.d3db459f.js"><link rel="prefetch" href="/assets/js/220.eafe25ad.js"><link rel="prefetch" href="/assets/js/221.390dd110.js"><link rel="prefetch" href="/assets/js/222.d251e27e.js"><link rel="prefetch" href="/assets/js/223.aed3d2e5.js"><link rel="prefetch" href="/assets/js/224.781763d0.js"><link rel="prefetch" href="/assets/js/225.8c26d207.js"><link rel="prefetch" href="/assets/js/226.c00e95db.js"><link rel="prefetch" href="/assets/js/227.f2fc31ed.js"><link rel="prefetch" href="/assets/js/228.f4c68070.js"><link rel="prefetch" href="/assets/js/229.c7c6b9c9.js"><link rel="prefetch" href="/assets/js/23.8a1b5cf3.js"><link rel="prefetch" href="/assets/js/230.e2915f3f.js"><link rel="prefetch" href="/assets/js/231.693695eb.js"><link rel="prefetch" href="/assets/js/232.013c6a00.js"><link rel="prefetch" href="/assets/js/233.057f0eff.js"><link rel="prefetch" href="/assets/js/234.f39862ec.js"><link rel="prefetch" href="/assets/js/235.d1564b09.js"><link rel="prefetch" href="/assets/js/236.430d9f48.js"><link rel="prefetch" href="/assets/js/237.eb7bd13c.js"><link rel="prefetch" href="/assets/js/238.0a870446.js"><link rel="prefetch" href="/assets/js/239.dcc9d58b.js"><link rel="prefetch" href="/assets/js/24.56ff94f7.js"><link rel="prefetch" href="/assets/js/240.d9d52d06.js"><link rel="prefetch" href="/assets/js/241.086e2876.js"><link rel="prefetch" href="/assets/js/242.657ab964.js"><link rel="prefetch" href="/assets/js/243.bff7f8dd.js"><link rel="prefetch" href="/assets/js/244.15a2f292.js"><link rel="prefetch" href="/assets/js/245.a0bb9379.js"><link rel="prefetch" href="/assets/js/246.db7e6fab.js"><link rel="prefetch" href="/assets/js/247.d922c132.js"><link rel="prefetch" href="/assets/js/248.a7822227.js"><link rel="prefetch" href="/assets/js/249.fe731d32.js"><link rel="prefetch" href="/assets/js/25.bb55aaf8.js"><link rel="prefetch" href="/assets/js/250.1705a57d.js"><link rel="prefetch" href="/assets/js/251.d054a55c.js"><link rel="prefetch" href="/assets/js/252.b236bdaa.js"><link rel="prefetch" href="/assets/js/253.bcbc98c7.js"><link rel="prefetch" href="/assets/js/254.dfab377c.js"><link rel="prefetch" href="/assets/js/255.636c8c60.js"><link rel="prefetch" href="/assets/js/256.3161070a.js"><link rel="prefetch" href="/assets/js/257.fa8be47c.js"><link rel="prefetch" href="/assets/js/258.f801599c.js"><link rel="prefetch" href="/assets/js/259.acd0976e.js"><link rel="prefetch" href="/assets/js/26.fd8f33f5.js"><link rel="prefetch" href="/assets/js/260.36cb1417.js"><link rel="prefetch" href="/assets/js/261.f85daa77.js"><link rel="prefetch" href="/assets/js/262.96f97080.js"><link rel="prefetch" href="/assets/js/263.1bdc31cf.js"><link rel="prefetch" href="/assets/js/264.93218e83.js"><link rel="prefetch" href="/assets/js/265.6d4f0105.js"><link rel="prefetch" href="/assets/js/266.3924089f.js"><link rel="prefetch" href="/assets/js/267.3dcc7be9.js"><link rel="prefetch" href="/assets/js/268.f0df5a07.js"><link rel="prefetch" href="/assets/js/269.df781960.js"><link rel="prefetch" href="/assets/js/27.265c667e.js"><link rel="prefetch" href="/assets/js/270.a938cd66.js"><link rel="prefetch" href="/assets/js/271.f8fd931f.js"><link rel="prefetch" href="/assets/js/272.a9e2dd41.js"><link rel="prefetch" href="/assets/js/273.7de65a93.js"><link rel="prefetch" href="/assets/js/274.98fed801.js"><link rel="prefetch" href="/assets/js/275.433c5136.js"><link rel="prefetch" href="/assets/js/276.4ee4086e.js"><link rel="prefetch" href="/assets/js/277.01d15bfc.js"><link rel="prefetch" href="/assets/js/278.c9e5372a.js"><link rel="prefetch" href="/assets/js/279.d1680068.js"><link rel="prefetch" href="/assets/js/28.c49ebfd0.js"><link rel="prefetch" href="/assets/js/280.75bf2bfe.js"><link rel="prefetch" href="/assets/js/281.dadcdf59.js"><link rel="prefetch" href="/assets/js/282.7c15930b.js"><link rel="prefetch" href="/assets/js/283.46ae2e8f.js"><link rel="prefetch" href="/assets/js/284.77f6796c.js"><link rel="prefetch" href="/assets/js/285.e71690ef.js"><link rel="prefetch" href="/assets/js/286.16576faa.js"><link rel="prefetch" href="/assets/js/287.324af14c.js"><link rel="prefetch" href="/assets/js/288.3b2d4558.js"><link rel="prefetch" href="/assets/js/289.945f15ac.js"><link rel="prefetch" href="/assets/js/29.b167ffcb.js"><link rel="prefetch" href="/assets/js/290.04d0cb1e.js"><link rel="prefetch" href="/assets/js/291.0ada6bcb.js"><link rel="prefetch" href="/assets/js/292.39faf614.js"><link rel="prefetch" href="/assets/js/293.a8c76b99.js"><link rel="prefetch" href="/assets/js/294.689663ad.js"><link rel="prefetch" href="/assets/js/295.8a7a14ef.js"><link rel="prefetch" href="/assets/js/296.a376730e.js"><link rel="prefetch" href="/assets/js/297.71fd60ad.js"><link rel="prefetch" href="/assets/js/298.0cbcd99e.js"><link rel="prefetch" href="/assets/js/299.65baf1e1.js"><link rel="prefetch" href="/assets/js/30.a5d91a7c.js"><link rel="prefetch" href="/assets/js/300.ef600c78.js"><link rel="prefetch" href="/assets/js/301.84b9aec2.js"><link rel="prefetch" href="/assets/js/302.c9d396bf.js"><link rel="prefetch" href="/assets/js/303.962a33de.js"><link rel="prefetch" href="/assets/js/304.418c4a7e.js"><link rel="prefetch" href="/assets/js/305.cf49a1d0.js"><link rel="prefetch" href="/assets/js/306.91640e81.js"><link rel="prefetch" href="/assets/js/307.8b1b36c5.js"><link rel="prefetch" href="/assets/js/308.8a2d3e0c.js"><link rel="prefetch" href="/assets/js/309.d8c9de4f.js"><link rel="prefetch" href="/assets/js/31.92c81f0c.js"><link rel="prefetch" href="/assets/js/310.cf17d1fc.js"><link rel="prefetch" href="/assets/js/311.a3723f75.js"><link rel="prefetch" href="/assets/js/312.93950af4.js"><link rel="prefetch" href="/assets/js/313.01989c92.js"><link rel="prefetch" href="/assets/js/314.6efbb996.js"><link rel="prefetch" href="/assets/js/315.68726574.js"><link rel="prefetch" href="/assets/js/316.d9dfe322.js"><link rel="prefetch" href="/assets/js/317.376841be.js"><link rel="prefetch" href="/assets/js/318.c1998baf.js"><link rel="prefetch" href="/assets/js/319.728d9ae5.js"><link rel="prefetch" href="/assets/js/32.cd080ff7.js"><link rel="prefetch" href="/assets/js/320.450c2f34.js"><link rel="prefetch" href="/assets/js/321.5f0727f9.js"><link rel="prefetch" href="/assets/js/322.ba84d1ed.js"><link rel="prefetch" href="/assets/js/323.47dd2f22.js"><link rel="prefetch" href="/assets/js/324.62fe7700.js"><link rel="prefetch" href="/assets/js/325.543f85a4.js"><link rel="prefetch" href="/assets/js/326.df16e7ae.js"><link rel="prefetch" href="/assets/js/327.5c6c174f.js"><link rel="prefetch" href="/assets/js/328.936d7eb3.js"><link rel="prefetch" href="/assets/js/329.017cb93a.js"><link rel="prefetch" href="/assets/js/33.6fa6780c.js"><link rel="prefetch" href="/assets/js/330.60c4f061.js"><link rel="prefetch" href="/assets/js/331.34848d66.js"><link rel="prefetch" href="/assets/js/332.274c7b9b.js"><link rel="prefetch" href="/assets/js/333.61ddef91.js"><link rel="prefetch" href="/assets/js/334.2d798729.js"><link rel="prefetch" href="/assets/js/335.981b0610.js"><link rel="prefetch" href="/assets/js/336.d57f8e14.js"><link rel="prefetch" href="/assets/js/337.adb5dbfa.js"><link rel="prefetch" href="/assets/js/338.4e91fad5.js"><link rel="prefetch" href="/assets/js/339.773a537f.js"><link rel="prefetch" href="/assets/js/34.e68a01c1.js"><link rel="prefetch" href="/assets/js/340.896be61b.js"><link rel="prefetch" href="/assets/js/341.6b4f2632.js"><link rel="prefetch" href="/assets/js/342.2caad2fb.js"><link rel="prefetch" href="/assets/js/343.8e900cfd.js"><link rel="prefetch" href="/assets/js/344.ef1a30e4.js"><link rel="prefetch" href="/assets/js/345.34d3af12.js"><link rel="prefetch" href="/assets/js/346.b68f3b13.js"><link rel="prefetch" href="/assets/js/347.f9b8bf83.js"><link rel="prefetch" href="/assets/js/348.fe08c17c.js"><link rel="prefetch" href="/assets/js/349.50787c15.js"><link rel="prefetch" href="/assets/js/35.e8015250.js"><link rel="prefetch" href="/assets/js/350.3968cfdc.js"><link rel="prefetch" href="/assets/js/351.72a52ba5.js"><link rel="prefetch" href="/assets/js/352.889d8916.js"><link rel="prefetch" href="/assets/js/353.081e6f87.js"><link rel="prefetch" href="/assets/js/354.5c1ecc61.js"><link rel="prefetch" href="/assets/js/355.8a0b8cff.js"><link rel="prefetch" href="/assets/js/356.411eec4d.js"><link rel="prefetch" href="/assets/js/357.3b12a278.js"><link rel="prefetch" href="/assets/js/358.6e572deb.js"><link rel="prefetch" href="/assets/js/359.1adf154b.js"><link rel="prefetch" href="/assets/js/36.1a2a5bd5.js"><link rel="prefetch" href="/assets/js/360.a54a4617.js"><link rel="prefetch" href="/assets/js/361.b7531bfe.js"><link rel="prefetch" href="/assets/js/362.2ef52255.js"><link rel="prefetch" href="/assets/js/363.4856603a.js"><link rel="prefetch" href="/assets/js/364.08a3266b.js"><link rel="prefetch" href="/assets/js/365.9dc5edc8.js"><link rel="prefetch" href="/assets/js/366.36c9c673.js"><link rel="prefetch" href="/assets/js/367.2a7a7517.js"><link rel="prefetch" href="/assets/js/368.f6f87b34.js"><link rel="prefetch" href="/assets/js/369.898c8b31.js"><link rel="prefetch" href="/assets/js/37.037ed0dd.js"><link rel="prefetch" href="/assets/js/370.f991264b.js"><link rel="prefetch" href="/assets/js/371.3857e52f.js"><link rel="prefetch" href="/assets/js/372.7508a281.js"><link rel="prefetch" href="/assets/js/373.e2ab4446.js"><link rel="prefetch" href="/assets/js/374.f0a0abd8.js"><link rel="prefetch" href="/assets/js/375.71c9ee15.js"><link rel="prefetch" href="/assets/js/376.20cb91ed.js"><link rel="prefetch" href="/assets/js/377.21670872.js"><link rel="prefetch" href="/assets/js/378.affbda96.js"><link rel="prefetch" href="/assets/js/379.1061c830.js"><link rel="prefetch" href="/assets/js/38.4e01bf1b.js"><link rel="prefetch" href="/assets/js/380.0157177b.js"><link rel="prefetch" href="/assets/js/39.93ae6f76.js"><link rel="prefetch" href="/assets/js/40.7f39d583.js"><link rel="prefetch" href="/assets/js/41.d6a77784.js"><link rel="prefetch" href="/assets/js/42.06d25d48.js"><link rel="prefetch" href="/assets/js/43.c8bffb15.js"><link rel="prefetch" href="/assets/js/44.e2aed8c1.js"><link rel="prefetch" href="/assets/js/45.61460165.js"><link rel="prefetch" href="/assets/js/46.c35e5a9c.js"><link rel="prefetch" href="/assets/js/47.07fdff8f.js"><link rel="prefetch" href="/assets/js/48.a3738afb.js"><link rel="prefetch" href="/assets/js/49.27657b0a.js"><link rel="prefetch" href="/assets/js/50.3c8eda63.js"><link rel="prefetch" href="/assets/js/51.5bbd5831.js"><link rel="prefetch" href="/assets/js/52.f47b1945.js"><link rel="prefetch" href="/assets/js/53.048f06a6.js"><link rel="prefetch" href="/assets/js/54.3528da2a.js"><link rel="prefetch" href="/assets/js/55.38059ea7.js"><link rel="prefetch" href="/assets/js/56.10265767.js"><link rel="prefetch" href="/assets/js/57.d63e14fb.js"><link rel="prefetch" href="/assets/js/58.32f78b90.js"><link rel="prefetch" href="/assets/js/59.578af46a.js"><link rel="prefetch" href="/assets/js/60.e1b86de8.js"><link rel="prefetch" href="/assets/js/61.83c9959e.js"><link rel="prefetch" href="/assets/js/62.084dfb92.js"><link rel="prefetch" href="/assets/js/63.7c437a9c.js"><link rel="prefetch" href="/assets/js/64.5abae3ff.js"><link rel="prefetch" href="/assets/js/65.24717bd5.js"><link rel="prefetch" href="/assets/js/66.89d4db66.js"><link rel="prefetch" href="/assets/js/67.4a4baf3d.js"><link rel="prefetch" href="/assets/js/68.cf3e84ac.js"><link rel="prefetch" href="/assets/js/69.ac2f8927.js"><link rel="prefetch" href="/assets/js/7.984c3be2.js"><link rel="prefetch" href="/assets/js/70.1c336585.js"><link rel="prefetch" href="/assets/js/71.43298ddb.js"><link rel="prefetch" href="/assets/js/72.2e107c44.js"><link rel="prefetch" href="/assets/js/73.5af9a9cf.js"><link rel="prefetch" href="/assets/js/74.2cf6a07d.js"><link rel="prefetch" href="/assets/js/75.d0782500.js"><link rel="prefetch" href="/assets/js/76.de89c3db.js"><link rel="prefetch" href="/assets/js/77.24f5cd04.js"><link rel="prefetch" href="/assets/js/78.b85e267c.js"><link rel="prefetch" href="/assets/js/79.768e31e4.js"><link rel="prefetch" href="/assets/js/8.2a984993.js"><link rel="prefetch" href="/assets/js/80.6d84bcab.js"><link rel="prefetch" href="/assets/js/81.33202b7b.js"><link rel="prefetch" href="/assets/js/82.2b369388.js"><link rel="prefetch" href="/assets/js/83.ec46211a.js"><link rel="prefetch" href="/assets/js/84.7c0394a3.js"><link rel="prefetch" href="/assets/js/85.65bb4d4b.js"><link rel="prefetch" href="/assets/js/86.02744313.js"><link rel="prefetch" href="/assets/js/87.d41fc4da.js"><link rel="prefetch" href="/assets/js/88.228b2d18.js"><link rel="prefetch" href="/assets/js/89.24618fd2.js"><link rel="prefetch" href="/assets/js/9.7e541dc2.js"><link rel="prefetch" href="/assets/js/90.7373e99a.js"><link rel="prefetch" href="/assets/js/91.e96fb0b9.js"><link rel="prefetch" href="/assets/js/92.ece81ec5.js"><link rel="prefetch" href="/assets/js/93.4586eec5.js"><link rel="prefetch" href="/assets/js/95.cccd84b8.js"><link rel="prefetch" href="/assets/js/96.41d9e113.js"><link rel="prefetch" href="/assets/js/97.e724af51.js"><link rel="prefetch" href="/assets/js/98.554095e5.js"><link rel="prefetch" href="/assets/js/99.8f7d1bc2.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8e8500d6.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.66e22ccc.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.996f273a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b385f251.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">数蛙技术团队</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgenv/" class="nav-link">数蛙工业物联网Saas平台开发与部署</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link router-link-active">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/" class="nav-link">案例学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/emqx/configuration/configuration.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgenv/" class="nav-link">数蛙工业物联网Saas平台开发与部署</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link router-link-active">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/" class="nav-link">案例学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/emqx/configuration/configuration.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div style="padding-left:1.5rem;"><div></div></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>产品概览</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>EMQX</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/emqx/" aria-current="page" class="sidebar-link">EMQX 简介</a></li><li><a href="/zh/backend/emqx/introduction/checklist.html" class="sidebar-link">EMQX 功能列表</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>开始使用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>用户指南</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>模块管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>规则引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>插件管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>运维操作</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/zh/backend/emqx/advanced/http-api.html" class="sidebar-link">HTTP API</a></li><li><a href="/zh/backend/emqx/configuration/configuration.html" aria-current="page" class="active sidebar-link">参数配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster" class="sidebar-link">cluster</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-name" class="sidebar-link">cluster.name</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-proto-dist" class="sidebar-link">cluster.proto_dist</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-discovery" class="sidebar-link">cluster.discovery</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-autoheal" class="sidebar-link">cluster.autoheal</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-autoclean" class="sidebar-link">cluster.autoclean</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-static-seeds" class="sidebar-link">cluster.static.seeds</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-mcast-addr" class="sidebar-link">cluster.mcast.addr</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-mcast-ports" class="sidebar-link">cluster.mcast.ports</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-mcast-iface" class="sidebar-link">cluster.mcast.iface</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-mcast-ttl" class="sidebar-link">cluster.mcast.ttl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-mcast-loop" class="sidebar-link">cluster.mcast.loop</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-dns-name" class="sidebar-link">cluster.dns.name</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-dns-app" class="sidebar-link">cluster.dns.app</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-etcd-server" class="sidebar-link">cluster.etcd.server</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-etcd-prefix" class="sidebar-link">cluster.etcd.prefix</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-etcd-node-ttl" class="sidebar-link">cluster.etcd.node_ttl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-etcd-ssl-keyfile" class="sidebar-link">cluster.etcd.ssl.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-etcd-ssl-certfile" class="sidebar-link">cluster.etcd.ssl.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-etcd-ssl-cacertfile" class="sidebar-link">cluster.etcd.ssl.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-k8s-apiserver" class="sidebar-link">cluster.k8s.apiserver</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-k8s-service-name" class="sidebar-link">cluster.k8s.service_name</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-k8s-address-type" class="sidebar-link">cluster.k8s.address_type</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-k8s-app-name" class="sidebar-link">cluster.k8s.app_name</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-k8s-suffix" class="sidebar-link">cluster.k8s.suffix</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#cluster-k8s-namespace" class="sidebar-link">cluster.k8s.namespace</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node" class="sidebar-link">node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-name" class="sidebar-link">node.name</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-cookie" class="sidebar-link">node.cookie</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-data-dir" class="sidebar-link">node.data_dir</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-heartbeat" class="sidebar-link">node.heartbeat</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-async-threads" class="sidebar-link">node.async_threads</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-process-limit" class="sidebar-link">node.process_limit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-max-ports" class="sidebar-link">node.max_ports</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-dist-buffer-size" class="sidebar-link">node.distbuffersize</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-max-ets-tables" class="sidebar-link">node.maxetstables</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-global-gc-interval" class="sidebar-link">node.globalgcinterval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-fullsweep-after" class="sidebar-link">node.fullsweep_after</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-crash-dump" class="sidebar-link">node.crash_dump</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-ssl-dist-optfile" class="sidebar-link">node.ssldistoptfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-dist-net-ticktime" class="sidebar-link">node.distnetticktime</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-dist-listen-min" class="sidebar-link">node.distlistenmin</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-dist-listen-max" class="sidebar-link">node.distlistenmax</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc" class="sidebar-link">rpc</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-mode" class="sidebar-link">rpc.mode</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-async-batch-size" class="sidebar-link">rpc.asyncbatchsize</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-tcp-server-port" class="sidebar-link">node.tcpserverport</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-tcp-client-port" class="sidebar-link">node.tcpclientport</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#node-tcp-client-num" class="sidebar-link">node.tcpclientnum</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-connect-timeout" class="sidebar-link">rpc.connect_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-send-timeout" class="sidebar-link">rpc.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-authentication-timeout" class="sidebar-link">rpc.authentication_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-call-receive-timeout" class="sidebar-link">rpc.callreceivetimeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-socket-keepalive-idle" class="sidebar-link">rpc.socketkeepaliveidle</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-socket-keepalive-interval" class="sidebar-link">rpc.socketkeepaliveinterval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-socket-keepalive-count" class="sidebar-link">rpc.socketkeepalivecount</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-socket-sndbuf" class="sidebar-link">rpc.socket_sndbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-socket-recbuf" class="sidebar-link">rpc.socket_recbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rpc-socket-buffer" class="sidebar-link">rpc.socket_buffer</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log" class="sidebar-link">log</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-to" class="sidebar-link">log.to</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-level" class="sidebar-link">log.level</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-dir" class="sidebar-link">log.dir</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-file" class="sidebar-link">log.file</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-chars-limit" class="sidebar-link">log.chars_limit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-rotation-size" class="sidebar-link">log.rotation.size</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-rotation-count" class="sidebar-link">log.rotation.count</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#log-file-2" class="sidebar-link">log..file</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#authacl" class="sidebar-link">authacl</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#allow-anonymous" class="sidebar-link">allow_anonymous</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#acl-nomatch" class="sidebar-link">acl_nomatch</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#acl-file" class="sidebar-link">acl_file</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#enable-acl-cache" class="sidebar-link">enableaclcache</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#acl-cache-max-size" class="sidebar-link">aclcachemax_size</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#acl-cache-ttl" class="sidebar-link">aclcachettl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#acl-deny-action" class="sidebar-link">acldenyaction</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt" class="sidebar-link">mqtt</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#flapping-detect-policy" class="sidebar-link">flappingdetectpolicy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-max-packet-size" class="sidebar-link">mqtt.maxpacketsize</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-max-clientid-len" class="sidebar-link">mqtt.maxclientidlen</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-max-topic-levels" class="sidebar-link">mqtt.maxtopiclevels</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-max-qos-allowed" class="sidebar-link">mqtt.maxqosallowed</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-max-topic-alias" class="sidebar-link">mqtt.maxtopicalias</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-retain-available" class="sidebar-link">mqtt.retain_available</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-wildcard-subscription" class="sidebar-link">mqtt.wildcard_subscription</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-shared-subscription" class="sidebar-link">mqtt.shared_subscription</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-ignore-loop-deliver" class="sidebar-link">mqtt.ignoreloopdeliver</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-strict-mode" class="sidebar-link">mqtt.strict_mode</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zoneexternal" class="sidebar-link">zoneexternal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-idle-timeout" class="sidebar-link">zone.external.idle_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-enable-acl" class="sidebar-link">zone.external.enable_acl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-enable-ban" class="sidebar-link">zone.external.enable_ban</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-enable-stats" class="sidebar-link">zone.external.enable_stats</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-acl-deny-action" class="sidebar-link">zone.external.acldenyaction</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-force-gc-policy" class="sidebar-link">zone.external.forcegcpolicy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-force-shutdown-policy" class="sidebar-link">zone.external.forceshutdownpolicy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-packet-size" class="sidebar-link">zone.external.maxpacketsize</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-clientid-len" class="sidebar-link">zone.external.maxclientidlen</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-topic-levels" class="sidebar-link">zone.external.maxtopiclevels</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-qos-allowed" class="sidebar-link">zone.external.maxqosallowed</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-topic-alias" class="sidebar-link">zone.external.maxtopicalias</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-retain-available" class="sidebar-link">zone.external.retain_available</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-wildcard-subscription" class="sidebar-link">zone.external.wildcard_subscription</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-shared-subscription" class="sidebar-link">zone.external.shared_subscription</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-server-keepalive" class="sidebar-link">zone.external.server_keepalive</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-keepalive-backoff" class="sidebar-link">zone.external.keepalive_backoff</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-subscriptions" class="sidebar-link">zone.external.max_subscriptions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-upgrade-qos" class="sidebar-link">zone.external.upgrade_qos</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-inflight" class="sidebar-link">zone.external.max_inflight</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-retry-interval" class="sidebar-link">zone.external.retry_interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-awaiting-rel" class="sidebar-link">zone.external.maxawaitingrel</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-await-rel-timeout" class="sidebar-link">zone.external.awaitreltimeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-session-expiry-interval" class="sidebar-link">zone.external.sessionexpiryinterval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-max-mqueue-len" class="sidebar-link">zone.external.maxmqueuelen</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-mqueue-priorities" class="sidebar-link">zone.external.mqueue_priorities</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-mqueue-default-priority" class="sidebar-link">zone.external.mqueuedefaultpriority</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-mqueue-store-qos0" class="sidebar-link">zone.external.mqueuestoreqos0</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-enable-flapping-detect" class="sidebar-link">zone.external.enableflappingdetect</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-mountpoint" class="sidebar-link">zone.external.mountpoint</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-use-username-as-clientid" class="sidebar-link">zone.external.useusernameas_clientid</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-ignore-loop-deliver" class="sidebar-link">zone.external.ignoreloopdeliver</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-external-strict-mode" class="sidebar-link">zone.external.strict_mode</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zoneinternal" class="sidebar-link">zoneinternal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-allow-anonymous" class="sidebar-link">zone.internal.allow_anonymous</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-enable-stats" class="sidebar-link">zone.internal.enable_stats</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-enable-acl" class="sidebar-link">zone.internal.enable_acl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-acl-deny-action" class="sidebar-link">zone.internal.acldenyaction</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-force-gc-policy" class="sidebar-link">zone.internal.forcegcpolicy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-wildcard-subscription" class="sidebar-link">zone.internal.wildcard_subscription</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-shared-subscription" class="sidebar-link">zone.internal.shared_subscription</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-max-subscriptions" class="sidebar-link">zone.internal.max_subscriptions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-max-inflight" class="sidebar-link">zone.internal.max_inflight</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-max-awaiting-rel" class="sidebar-link">zone.internal.maxawaitingrel</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-max-mqueue-len" class="sidebar-link">zone.internal.maxmqueuelen</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-mqueue-store-qos0" class="sidebar-link">zone.internal.mqueuestoreqos0</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-enable-flapping-detect" class="sidebar-link">zone.internal.enableflappingdetect</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-force-shutdown-policy" class="sidebar-link">zone.internal.forceshutdownpolicy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-mountpoint" class="sidebar-link">zone.internal.mountpoint</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-ignore-loop-deliver" class="sidebar-link">zone.internal.ignoreloopdeliver</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-strict-mode" class="sidebar-link">zone.internal.strict_mode</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#zone-internal-bypass-auth-plugins" class="sidebar-link">zone.internal.bypassauthplugins</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#tcpexternal" class="sidebar-link">tcpexternal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external" class="sidebar-link">listener.tcp.external</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-acceptors" class="sidebar-link">listener.tcp.external.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-max-connections" class="sidebar-link">listener.tcp.external.max_connections</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-max-conn-rate" class="sidebar-link">listener.tcp.external.maxconnrate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-active-n" class="sidebar-link">listener.tcp.external.active_n</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-zone" class="sidebar-link">listener.tcp.external.zone</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-rate-limit" class="sidebar-link">listener.tcp.external.rate_limit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-access-1" class="sidebar-link">listener.tcp.external.access.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-proxy-protocol" class="sidebar-link">listener.tcp.external.proxy_protocol</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-proxy-protocol-timeout" class="sidebar-link">listener.tcp.external.proxyprotocoltimeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-peer-cert-as-username" class="sidebar-link">listener.tcp.external.peercertas_username</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-peer-cert-as-clientid" class="sidebar-link">listener.tcp.external.peercertas_clientid</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-backlog" class="sidebar-link">listener.tcp.external.backlog</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-send-timeout" class="sidebar-link">listener.tcp.external.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-send-timeout-close" class="sidebar-link">listener.tcp.external.sendtimeoutclose</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-recbuf" class="sidebar-link">listener.tcp.external.recbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-sndbuf" class="sidebar-link">listener.tcp.external.sndbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-buffer" class="sidebar-link">listener.tcp.external.buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-tune-buffer" class="sidebar-link">listener.tcp.external.tune_buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-nodelay" class="sidebar-link">listener.tcp.external.nodelay</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-external-reuseaddr" class="sidebar-link">listener.tcp.external.reuseaddr</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#tcpinternal" class="sidebar-link">tcpinternal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal" class="sidebar-link">listener.tcp.internal</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-acceptors" class="sidebar-link">listener.tcp.internal.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-max-connections" class="sidebar-link">listener.tcp.internal.max_connections</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-max-conn-rate" class="sidebar-link">listener.tcp.internal.maxconnrate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-active-n" class="sidebar-link">listener.tcp.internal.active_n</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-zone" class="sidebar-link">listener.tcp.internal.zone</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-rate-limit" class="sidebar-link">listener.tcp.internal.rate_limit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-backlog" class="sidebar-link">listener.tcp.internal.backlog</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-send-timeout" class="sidebar-link">listener.tcp.internal.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-send-timeout-close" class="sidebar-link">listener.tcp.internal.sendtimeoutclose</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-recbuf" class="sidebar-link">listener.tcp.internal.recbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-sndbuf" class="sidebar-link">listener.tcp.internal.sndbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-buffer" class="sidebar-link">listener.tcp.internal.buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-tune-buffer" class="sidebar-link">listener.tcp.internal.tune_buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-nodelay" class="sidebar-link">listener.tcp.internal.nodelay</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-tcp-internal-reuseaddr" class="sidebar-link">listener.tcp.internal.reuseaddr</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#tlsexternal" class="sidebar-link">tlsexternal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external" class="sidebar-link">listener.ssl.external</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-acceptors" class="sidebar-link">listener.ssl.external.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-max-connections" class="sidebar-link">listener.ssl.external.max_connections</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-max-conn-rate" class="sidebar-link">listener.ssl.external.maxconnrate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-active-n" class="sidebar-link">listener.ssl.external.active_n</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-zone" class="sidebar-link">listener.ssl.external.zone</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-access-1" class="sidebar-link">listener.ssl.external.access.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-rate-limit" class="sidebar-link">listener.ssl.external.rate_limit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-proxy-protocol" class="sidebar-link">listener.ssl.external.proxy_protocol</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-proxy-protocol-timeout" class="sidebar-link">listener.ssl.external.proxyprotocoltimeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-tls-versions" class="sidebar-link">listener.ssl.external.tls_versions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-handshake-timeout" class="sidebar-link">listener.ssl.external.handshake_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-keyfile" class="sidebar-link">listener.ssl.external.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-certfile" class="sidebar-link">listener.ssl.external.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-cacertfile" class="sidebar-link">listener.ssl.external.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-dhfile" class="sidebar-link">listener.ssl.external.dhfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-verify" class="sidebar-link">listener.ssl.external.verify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-fail-if-no-peer-cert" class="sidebar-link">listener.ssl.external.failifnopeercert</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-ciphers" class="sidebar-link">listener.ssl.external.ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-psk-ciphers" class="sidebar-link">listener.ssl.external.psk_ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-secure-renegotiate" class="sidebar-link">listener.ssl.external.secure_renegotiate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-reuse-sessions" class="sidebar-link">listener.ssl.external.reuse_sessions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-honor-cipher-order" class="sidebar-link">listener.ssl.external.honorcipherorder</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-peer-cert-as-username" class="sidebar-link">listener.ssl.external.peercertas_username</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-peer-cert-as-clientid" class="sidebar-link">listener.ssl.external.peercertas_clientid</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-backlog" class="sidebar-link">listener.ssl.external.backlog</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-send-timeout" class="sidebar-link">listener.ssl.external.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-send-timeout-close" class="sidebar-link">listener.ssl.external.sendtimeoutclose</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-recbuf" class="sidebar-link">listener.ssl.external.recbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-sndbuf" class="sidebar-link">listener.ssl.external.sndbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-buffer" class="sidebar-link">listener.ssl.external.buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-tune-buffer" class="sidebar-link">listener.ssl.external.tune_buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-nodelay" class="sidebar-link">listener.ssl.external.nodelay</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ssl-external-reuseaddr" class="sidebar-link">listener.ssl.external.reuseaddr</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#wsexternal" class="sidebar-link">wsexternal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external" class="sidebar-link">listener.ws.external</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-mqtt-path" class="sidebar-link">listener.ws.external.mqtt_path</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-acceptors" class="sidebar-link">listener.ws.external.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-max-connections" class="sidebar-link">listener.ws.external.max_connections</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-max-conn-rate" class="sidebar-link">listener.ws.external.maxconnrate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-active-n" class="sidebar-link">listener.ws.external.active_n</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-rate-limit" class="sidebar-link">listener.ws.external.rate_limit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-zone" class="sidebar-link">listener.ws.external.zone</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-access-1" class="sidebar-link">listener.ws.external.access.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-verify-protocol-header" class="sidebar-link">listener.ws.external.verifyprotocolheader</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-proxy-address-header" class="sidebar-link">listener.ws.external.proxyaddressheader</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-proxy-port-header" class="sidebar-link">listener.ws.external.proxyportheader</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-proxy-protocol" class="sidebar-link">listener.ws.external.proxy_protocol</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-proxy-protocol-timeout" class="sidebar-link">listener.ws.external.proxyprotocoltimeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-backlog" class="sidebar-link">listener.ws.external.backlog</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-send-timeout" class="sidebar-link">listener.ws.external.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-send-timeout-close" class="sidebar-link">listener.ws.external.sendtimeoutclose</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-recbuf" class="sidebar-link">listener.ws.external.recbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-sndbuf" class="sidebar-link">listener.ws.external.sndbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-buffer" class="sidebar-link">listener.ws.external.buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-tune-buffer" class="sidebar-link">listener.ws.external.tune_buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-nodelay" class="sidebar-link">listener.ws.external.nodelay</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-compress" class="sidebar-link">listener.ws.external.compress</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-deflate-opts-level" class="sidebar-link">listener.ws.external.deflate_opts.level</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-deflate-opts-mem-level" class="sidebar-link">listener.ws.external.deflateopts.memlevel</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-deflate-opts-strategy" class="sidebar-link">listener.ws.external.deflate_opts.strategy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-deflate-opts-server-context-takeover" class="sidebar-link">listener.ws.external.deflateopts.servercontext_takeover</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-deflate-opts-client-context-takeover" class="sidebar-link">listener.ws.external.deflateopts.clientcontext_takeover</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-deflate-opts-server-max-window-bits" class="sidebar-link">listener.ws.external.deflateopts.servermaxwindowbits</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-deflate-opts-client-max-window-bits" class="sidebar-link">listener.ws.external.deflateopts.clientmaxwindowbits</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-idle-timeout" class="sidebar-link">listener.ws.external.idle_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-ws-external-max-frame-size" class="sidebar-link">listener.ws.external.maxframesize</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#wssexternal" class="sidebar-link">wssexternal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external" class="sidebar-link">listener.wss.external</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-mqtt-path" class="sidebar-link">listener.wss.external.mqtt_path</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-acceptors" class="sidebar-link">listener.wss.external.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-max-connections" class="sidebar-link">listener.wss.external.max_connections</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-max-conn-rate" class="sidebar-link">listener.wss.external.maxconnrate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-active-n" class="sidebar-link">listener.wss.external.active_n</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-rate-limit" class="sidebar-link">listener.wss.external.rate_limit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-zone" class="sidebar-link">listener.wss.external.zone</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-access-1" class="sidebar-link">listener.wss.external.access.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-verify-protocol-header" class="sidebar-link">listener.wss.external.verifyprotocolheader</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-proxy-address-header" class="sidebar-link">listener.wss.external.proxyaddressheader</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-proxy-protocol" class="sidebar-link">listener.wss.external.proxy_protocol</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-proxy-protocol-timeout" class="sidebar-link">listener.wss.external.proxyprotocoltimeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-tls-versions" class="sidebar-link">listener.wss.external.tls_versions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-keyfile" class="sidebar-link">listener.wss.external.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-certfile" class="sidebar-link">listener.wss.external.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-cacertfile" class="sidebar-link">listener.wss.external.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-dhfile" class="sidebar-link">listener.wss.external.dhfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-verify" class="sidebar-link">listener.wss.external.verify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-fail-if-no-peer-cert" class="sidebar-link">listener.wss.external.failifnopeercert</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-ciphers" class="sidebar-link">listener.wss.external.ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-psk-ciphers" class="sidebar-link">listener.wss.external.psk_ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-secure-renegotiate" class="sidebar-link">listener.wss.external.secure_renegotiate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-reuse-sessions" class="sidebar-link">listener.wss.external.reuse_sessions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-honor-cipher-order" class="sidebar-link">listener.wss.external.honorcipherorder</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-peer-cert-as-username" class="sidebar-link">listener.wss.external.peercertas_username</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-peer-cert-as-clientid" class="sidebar-link">listener.wss.external.peercertas_clientid</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-backlog" class="sidebar-link">listener.wss.external.backlog</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-send-timeout" class="sidebar-link">listener.wss.external.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-send-timeout-close" class="sidebar-link">listener.wss.external.sendtimeoutclose</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-recbuf" class="sidebar-link">listener.wss.external.recbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-sndbuf" class="sidebar-link">listener.wss.external.sndbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-buffer" class="sidebar-link">listener.wss.external.buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-tune-buffer" class="sidebar-link">listener.wss.external.tune_buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-nodelay" class="sidebar-link">listener.wss.external.nodelay</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-compress" class="sidebar-link">listener.wss.external.compress</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-deflate-opts-level" class="sidebar-link">listener.wss.external.deflate_opts.level</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-deflate-opts-mem-level" class="sidebar-link">listener.wss.external.deflateopts.memlevel</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-deflate-opts-strategy" class="sidebar-link">listener.wss.external.deflate_opts.strategy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-deflate-opts-server-context-takeover" class="sidebar-link">listener.wss.external.deflateopts.servercontext_takeover</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-deflate-opts-client-context-takeover" class="sidebar-link">listener.wss.external.deflateopts.clientcontext_takeover</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-deflate-opts-server-max-window-bits" class="sidebar-link">listener.wss.external.deflateopts.servermaxwindowbits</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-deflate-opts-client-max-window-bits" class="sidebar-link">listener.wss.external.deflateopts.clientmaxwindowbits</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-idle-timeout" class="sidebar-link">listener.wss.external.idle_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#listener-wss-external-max-frame-size" class="sidebar-link">listener.wss.external.maxframesize</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#plugins" class="sidebar-link">plugins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#plugins-etc-dir" class="sidebar-link">plugins.etc_dir</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#plugins-loaded-file" class="sidebar-link">plugins.loaded_file</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#plugins-expand-plugins-dir" class="sidebar-link">plugins.expandpluginsdir</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker" class="sidebar-link">broker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker-sys-interval" class="sidebar-link">broker.sys_interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker-sys-heartbeat" class="sidebar-link">broker.sys_heartbeat</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker-enable-session-registry" class="sidebar-link">broker.enablesessionregistry</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker-session-locking-strategy" class="sidebar-link">broker.sessionlockingstrategy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker-shared-subscription-strategy" class="sidebar-link">broker.sharedsubscriptionstrategy</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker-shared-dispatch-ack-enabled" class="sidebar-link">broker.shareddispatchack_enabled</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#broker-route-batch-clean" class="sidebar-link">broker.routebatchclean</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#monitor" class="sidebar-link">monitor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#sysmon-long-gc" class="sidebar-link">sysmon.long_gc</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#sysmon-long-schedule" class="sidebar-link">sysmon.long_schedule</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#sysmon-large-heap" class="sidebar-link">sysmon.large_heap</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#sysmon-busy-port" class="sidebar-link">sysmon.busy_port</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#sysmon-busy-dist-port" class="sidebar-link">sysmon.busydistport</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#os-mon-cpu-check-interval" class="sidebar-link">osmon.cpucheck_interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#os-mon-cpu-high-watermark" class="sidebar-link">osmon.cpuhigh_watermark</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#os-mon-cpu-low-watermark" class="sidebar-link">osmon.cpulow_watermark</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#os-mon-mem-check-interval" class="sidebar-link">osmon.memcheck_interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#os-mon-sysmem-high-watermark" class="sidebar-link">osmon.sysmemhigh_watermark</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#os-mon-procmem-high-watermark" class="sidebar-link">osmon.procmemhigh_watermark</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#vm-mon-check-interval" class="sidebar-link">vmmon.checkinterval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#vm-mon-process-high-watermark" class="sidebar-link">vmmon.processhigh_watermark</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#vm-mon-process-low-watermark" class="sidebar-link">vmmon.processlow_watermark</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-clientid" class="sidebar-link">emqx-auth-clientid</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-client-clientid-auth-client-password" class="sidebar-link">auth.client..password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-client-password-hash" class="sidebar-link">auth.client.password_hash</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-http" class="sidebar-link">emqx-auth-http</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-auth-req" class="sidebar-link">auth.http.auth_req</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-auth-req-method" class="sidebar-link">auth.http.auth_req.method</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-auth-req-params" class="sidebar-link">auth.http.auth_req.params</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-super-req" class="sidebar-link">auth.http.super_req</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-super-req-method" class="sidebar-link">auth.http.super_req.method</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-super-req-params" class="sidebar-link">auth.http.super_req.params</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-acl-req" class="sidebar-link">auth.http.acl_req</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-acl-req-method" class="sidebar-link">auth.http.acl_req.method</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-acl-req-params" class="sidebar-link">auth.http.acl_req.params</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-request-timeout" class="sidebar-link">auth.http.request.timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-request-connect-timeout" class="sidebar-link">auth.http.request.connect_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-request-retry-times" class="sidebar-link">auth.http.request.retry_times</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-request-retry-interval" class="sidebar-link">auth.http.request.retry_interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-request-retry-backoff" class="sidebar-link">auth.http.request.retry_backoff</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-header" class="sidebar-link">auth.http.header.</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-ssl-cacertfile" class="sidebar-link">auth.http.ssl.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-ssl-certfile" class="sidebar-link">auth.http.ssl.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-http-ssl-keyfile" class="sidebar-link">auth.http.ssl.keyfile</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-jwt" class="sidebar-link">emqx-auth-jwt</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-jwt-secret" class="sidebar-link">auth.jwt.secret</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-jwt-from" class="sidebar-link">auth.jwt.from</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-jwt-pubkey" class="sidebar-link">auth.jwt.pubkey</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-jwt-verify-claims" class="sidebar-link">auth.jwt.verify_claims</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-jwt-verify-claims-2" class="sidebar-link">auth.jwt.verify_claims</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-ldap" class="sidebar-link">emqx-auth-ldap</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-servers" class="sidebar-link">auth.ldap.servers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-port" class="sidebar-link">auth.ldap.port</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-pool" class="sidebar-link">auth.ldap.pool</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-bind-dn" class="sidebar-link">auth.ldap.bind_dn</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-bind-password" class="sidebar-link">auth.ldap.bind_password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-timeout" class="sidebar-link">auth.ldap.timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-device-dn" class="sidebar-link">auth.ldap.device_dn</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-match-objectclass" class="sidebar-link">auth.ldap.match_objectclass</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-username-attributetype" class="sidebar-link">auth.ldap.username.attributetype</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-password-attributetype" class="sidebar-link">auth.ldap.password.attributetype</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-ssl" class="sidebar-link">auth.ldap.ssl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-ssl-certfile" class="sidebar-link">auth.ldap.ssl.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-ssl-keyfile" class="sidebar-link">auth.ldap.ssl.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-ssl-cacertfile" class="sidebar-link">auth.ldap.ssl.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-ssl-verify" class="sidebar-link">auth.ldap.ssl.verify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-ldap-ssl-fail-if-no-peer-cert" class="sidebar-link">auth.ldap.ssl.failifnopeercert</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-mongo" class="sidebar-link">emqx-auth-mongo</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-type" class="sidebar-link">auth.mongo.type</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-rs-set-name" class="sidebar-link">auth.mongo.rssetname</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-pool" class="sidebar-link">auth.mongo.pool</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-login" class="sidebar-link">auth.mongo.login</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-password" class="sidebar-link">auth.mongo.password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-auth-source" class="sidebar-link">auth.mongo.auth_source</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-database" class="sidebar-link">auth.mongo.database</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-query-timeout" class="sidebar-link">auth.mongo.query_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-ssl" class="sidebar-link">auth.mongo.ssl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-ssl-opts-keyfile" class="sidebar-link">auth.mongo.ssl_opts.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-ssl-opts-certfile" class="sidebar-link">auth.mongo.ssl_opts.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-ssl-opts-cacertfile" class="sidebar-link">auth.mongo.ssl_opts.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-w-mode" class="sidebar-link">auth.mongo.w_mode</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-r-mode" class="sidebar-link">auth.mongo.r_mode</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-auth-query-collection" class="sidebar-link">auth.mongo.auth_query.collection</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-auth-query-password-field" class="sidebar-link">auth.mongo.authquery.passwordfield</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-auth-query-password-hash" class="sidebar-link">auth.mongo.authquery.passwordhash</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-auth-query-selector" class="sidebar-link">auth.mongo.auth_query.selector</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-auth-query-super-query" class="sidebar-link">auth.mongo.authquery.superquery</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-super-query-collection" class="sidebar-link">auth.mongo.super_query.collection</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-super-query-selector" class="sidebar-link">auth.mongo.super_query.selector</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-acl-query" class="sidebar-link">auth.mongo.acl_query</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-acl-query-collection" class="sidebar-link">auth.mongo.acl_query.collection</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-acl-query-selector" class="sidebar-link">auth.mongo.acl_query.selector</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-pool-size" class="sidebar-link">auth.mongo.topology.pool_size</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-max-overflow" class="sidebar-link">auth.mongo.topology.max_overflow</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-overflow-ttl" class="sidebar-link">auth.mongo.topology.overflow_ttl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-overflow-check-period" class="sidebar-link">auth.mongo.topology.overflowcheckperiod</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-local-threshold-ms" class="sidebar-link">auth.mongo.topology.localthresholdms</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-connect-timeout-ms" class="sidebar-link">auth.mongo.topology.connecttimeoutms</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-socket-timeout-ms" class="sidebar-link">auth.mongo.topology.sockettimeoutms</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-server-selection-timeout-ms" class="sidebar-link">auth.mongo.topology.serverselectiontimeout_ms</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-wait-queue-timeout-ms" class="sidebar-link">auth.mongo.topology.waitqueuetimeout_ms</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-heartbeat-frequency-ms" class="sidebar-link">auth.mongo.topology.heartbeatfrequencyms</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mongo-topology-min-heartbeat-frequency-ms" class="sidebar-link">auth.mongo.topology.minheartbeatfrequency_ms</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-mysql" class="sidebar-link">emqx-auth-mysql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-server" class="sidebar-link">auth.mysql.server</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-pool" class="sidebar-link">auth.mysql.pool</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-username" class="sidebar-link">auth.mysql.username</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-password" class="sidebar-link">auth.mysql.password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-database" class="sidebar-link">auth.mysql.database</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-query-timeout" class="sidebar-link">auth.mysql.query_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-auth-query" class="sidebar-link">auth.mysql.auth_query</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-password-hash" class="sidebar-link">auth.mysql.password_hash</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-super-query" class="sidebar-link">auth.mysql.super_query</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-mysql-acl-query" class="sidebar-link">auth.mysql.acl_query</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-pgsql" class="sidebar-link">emqx-auth-pgsql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-server" class="sidebar-link">auth.pgsql.server</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-pool" class="sidebar-link">auth.pgsql.pool</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-username" class="sidebar-link">auth.pgsql.username</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-password" class="sidebar-link">auth.pgsql.password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-database" class="sidebar-link">auth.pgsql.database</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-encoding" class="sidebar-link">auth.pgsql.encoding</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-ssl" class="sidebar-link">auth.pgsql.ssl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-ssl-opts-keyfile" class="sidebar-link">auth.pgsql.ssl_opts.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-ssl-opts-certfile" class="sidebar-link">auth.pgsql.ssl_opts.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-ssl-opts-cacertfile" class="sidebar-link">auth.pgsql.ssl_opts.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-auth-query" class="sidebar-link">auth.pgsql.auth_query</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-password-hash" class="sidebar-link">auth.pgsql.password_hash</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-super-query" class="sidebar-link">auth.pgsql.super_query</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-pgsql-acl-query" class="sidebar-link">auth.pgsql.acl_query</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-redis" class="sidebar-link">emqx-auth-redis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-type" class="sidebar-link">auth.redis.type</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-server" class="sidebar-link">auth.redis.server</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-sentinel" class="sidebar-link">auth.redis.sentinel</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-pool" class="sidebar-link">auth.redis.pool</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-database" class="sidebar-link">auth.redis.database</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-password" class="sidebar-link">auth.redis.password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-query-timeout" class="sidebar-link">auth.redis.query_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-auth-cmd" class="sidebar-link">auth.redis.auth_cmd</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-password-hash" class="sidebar-link">auth.redis.password_hash</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-super-cmd" class="sidebar-link">auth.redis.super_cmd</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-redis-acl-cmd" class="sidebar-link">auth.redis.acl_cmd</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-auth-username" class="sidebar-link">emqx-auth-username</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-user-username-auth-user-password" class="sidebar-link">auth.user..password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#auth-user-password-hash" class="sidebar-link">auth.user.password_hash</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-bridge-mqtt" class="sidebar-link">emqx-bridge-mqtt</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-address" class="sidebar-link">bridge.mqtt.aws.address</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-proto-ver" class="sidebar-link">bridge.mqtt.aws.proto_ver</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-start-type" class="sidebar-link">bridge.mqtt.aws.start_type</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-bridge-mode" class="sidebar-link">bridge.mqtt.aws.bridge_mode</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-clientid" class="sidebar-link">bridge.mqtt.aws.clientid</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-clean-start" class="sidebar-link">bridge.mqtt.aws.clean_start</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-username" class="sidebar-link">bridge.mqtt.aws.username</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-password" class="sidebar-link">bridge.mqtt.aws.password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-forwards" class="sidebar-link">bridge.mqtt.aws.forwards</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-forward-mountpoint" class="sidebar-link">bridge.mqtt.aws.forward_mountpoint</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-subscription-1-topic" class="sidebar-link">bridge.mqtt.aws.subscription.1.topic</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-subscription-1-qos" class="sidebar-link">bridge.mqtt.aws.subscription.1.qos</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-receive-mountpoint" class="sidebar-link">bridge.mqtt.aws.receive_mountpoint</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-ssl" class="sidebar-link">bridge.mqtt.aws.ssl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-cacertfile" class="sidebar-link">bridge.mqtt.aws.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-certfile" class="sidebar-link">bridge.mqtt.aws.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-keyfile" class="sidebar-link">bridge.mqtt.aws.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-ciphers" class="sidebar-link">bridge.mqtt.aws.ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-psk-ciphers" class="sidebar-link">bridge.mqtt.aws.psk_ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-keepalive" class="sidebar-link">bridge.mqtt.aws.keepalive</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-tls-versions" class="sidebar-link">bridge.mqtt.aws.tls_versions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-reconnect-interval" class="sidebar-link">bridge.mqtt.aws.reconnect_interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-retry-interval" class="sidebar-link">bridge.mqtt.aws.retry_interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-batch-size" class="sidebar-link">bridge.mqtt.aws.batch_size</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-max-inflight-size" class="sidebar-link">bridge.mqtt.aws.maxinflightsize</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-queue-replayq-dir" class="sidebar-link">bridge.mqtt.aws.queue.replayq_dir</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-queue-replayq-seg-bytes" class="sidebar-link">bridge.mqtt.aws.queue.replayqsegbytes</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#bridge-mqtt-aws-queue-max-total-size" class="sidebar-link">bridge.mqtt.aws.queue.maxtotalsize</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-coap" class="sidebar-link">emqx-coap</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-port" class="sidebar-link">coap.port</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-enable-stats" class="sidebar-link">coap.enable_stats</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-dtls-port" class="sidebar-link">coap.dtls.port</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-dtls-verify" class="sidebar-link">coap.dtls.verify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-dtls-keyfile" class="sidebar-link">coap.dtls.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-dtls-certfile" class="sidebar-link">coap.dtls.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-dtls-cacertfile" class="sidebar-link">coap.dtls.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-dtls-fail-if-no-peer-cert" class="sidebar-link">coap.dtls.failifnopeercert</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#coap-dtls-ciphers" class="sidebar-link">coap.dtls.ciphers</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-dashboard" class="sidebar-link">emqx-dashboard</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-default-user-login-dashboard-default-user-password" class="sidebar-link">dashboard.defaultuser.login` &amp; `dashboard.defaultuser.password</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-http" class="sidebar-link">dashboard.listener.http</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-http-acceptors" class="sidebar-link">dashboard.listener.http.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-http-max-clients" class="sidebar-link">dashboard.listener.http.max_clients</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-http-inet6" class="sidebar-link">dashboard.listener.http.inet6</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-http-ipv6-v6only" class="sidebar-link">dashboard.listener.http.ipv6_v6only</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https" class="sidebar-link">dashboard.listener.https</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-acceptors" class="sidebar-link">dashboard.listener.https.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-max-clients" class="sidebar-link">dashboard.listener.https.max_clients</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-inet6" class="sidebar-link">dashboard.listener.https.inet6</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-ipv6-v6only" class="sidebar-link">dashboard.listener.https.ipv6_v6only</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-keyfile" class="sidebar-link">dashboard.listener.https.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-certfile" class="sidebar-link">dashboard.listener.https.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-cacertfile" class="sidebar-link">dashboard.listener.https.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-dhfile" class="sidebar-link">dashboard.listener.https.dhfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-verify" class="sidebar-link">dashboard.listener.https.verify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-fail-if-no-peer-cert" class="sidebar-link">dashboard.listener.https.failifnopeercert</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-tls-versions" class="sidebar-link">dashboard.listener.https.tls_versions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-ciphers" class="sidebar-link">dashboard.listener.https.ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-secure-renegotiate" class="sidebar-link">dashboard.listener.https.secure_renegotiate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-reuse-sessions" class="sidebar-link">dashboard.listener.https.reuse_sessions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#dashboard-listener-https-honor-cipher-order" class="sidebar-link">dashboard.listener.https.honorcipherorder</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-lwm2m" class="sidebar-link">emqx-lwm2m</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-port" class="sidebar-link">lwm2m.port</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-lifetime-min" class="sidebar-link">lwm2m.lifetime_min</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-lifetime-max" class="sidebar-link">lwm2m.lifetime_max</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-qmode-time-window" class="sidebar-link">lwm2m.qmodetimewindow</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-lb" class="sidebar-link">lwm2m.lb</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-auto-observe" class="sidebar-link">lwm2m.auto_observe</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-mountpoint" class="sidebar-link">lwm2m.mountpoint</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-topics-command" class="sidebar-link">lwm2m.topics.command</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-topics-response" class="sidebar-link">lwm2m.topics.response</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-topics-notify" class="sidebar-link">lwm2m.topics.notify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-topics-register" class="sidebar-link">lwm2m.topics.register</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-topics-update" class="sidebar-link">lwm2m.topics.update</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-opts-buffer" class="sidebar-link">lwm2m.opts.buffer</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-opts-recbuf" class="sidebar-link">lwm2m.opts.recbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-opts-sndbuf" class="sidebar-link">lwm2m.opts.sndbuf</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-opts-read-packets" class="sidebar-link">lwm2m.opts.read_packets</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-certfile" class="sidebar-link">lwm2m.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-keyfile" class="sidebar-link">lwm2m.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#lwm2m-xml-dir" class="sidebar-link">lwm2m.xml_dir</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-management" class="sidebar-link">emqx-management</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-max-row-limit" class="sidebar-link">management.maxrowlimit</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-default-application-id" class="sidebar-link">management.default_application.id</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-default-application-secret" class="sidebar-link">management.default_application.secret</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http" class="sidebar-link">management.listener.http</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http-acceptors" class="sidebar-link">management.listener.http.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http-max-clients" class="sidebar-link">management.listener.http.max_clients</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http-backlog" class="sidebar-link">management.listener.http.backlog</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http-send-timeout" class="sidebar-link">management.listener.http.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http-send-timeout-close" class="sidebar-link">management.listener.http.sendtimeoutclose</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http-inet6" class="sidebar-link">management.listener.http.inet6</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-http-ipv6-v6only" class="sidebar-link">management.listener.http.ipv6_v6only</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https" class="sidebar-link">management.listener.https</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-acceptors" class="sidebar-link">management.listener.https.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-max-clients" class="sidebar-link">management.listener.https.max_clients</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-backlog" class="sidebar-link">management.listener.https.backlog</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-send-timeout" class="sidebar-link">management.listener.https.send_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-send-timeout-close" class="sidebar-link">management.listener.https.sendtimeoutclose</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-keyfile" class="sidebar-link">management.listener.https.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-certfile" class="sidebar-link">management.listener.https.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-cacertfile" class="sidebar-link">management.listener.https.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-verify" class="sidebar-link">management.listener.https.verify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-fail-if-no-peer-cert" class="sidebar-link">management.listener.https.failifnopeercert</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-inet6" class="sidebar-link">management.listener.https.inet6</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#management-listener-https-ipv6-v6only" class="sidebar-link">management.listener.https.ipv6_v6only</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-reloader" class="sidebar-link">emqx-reloader</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#reloader-interval" class="sidebar-link">reloader.interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#reloader-logfile" class="sidebar-link">reloader.logfile</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-retainer" class="sidebar-link">emqx-retainer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#retainer-storage-type" class="sidebar-link">retainer.storage_type</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#retainer-max-retained-messages" class="sidebar-link">retainer.maxretainedmessages</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#retainer-max-payload-size" class="sidebar-link">retainer.maxpayloadsize</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#retainer-expiry-interval" class="sidebar-link">retainer.expiry_interval</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-rule-engine" class="sidebar-link">emqx-rule-engine</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rule-engine-ignore-sys-message" class="sidebar-link">rule-engine.ignoresysmessage</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#rule-engine-events" class="sidebar-link">rule-engine.events.</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-sn" class="sidebar-link">emqx-sn</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-port" class="sidebar-link">mqtt.sn.port</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-advertise-duration" class="sidebar-link">mqtt.sn.advertise_duration</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-gateway-id" class="sidebar-link">mqtt.sn.gateway_id</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-enable-stats" class="sidebar-link">mqtt.sn.enable_stats</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-enable-qos3" class="sidebar-link">mqtt.sn.enable_qos3</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-idle-timeout" class="sidebar-link">mqtt.sn.idle_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-predefined-topic-0" class="sidebar-link">mqtt.sn.predefined.topic.0</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-username" class="sidebar-link">mqtt.sn.username</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#mqtt-sn-password" class="sidebar-link">mqtt.sn.password</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-prometheus" class="sidebar-link">emqx-prometheus</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#prometheus-push-gateway-server" class="sidebar-link">prometheus.push.gateway.server</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#prometheus-interval" class="sidebar-link">prometheus.interval</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#prometheus-collector" class="sidebar-link">prometheus.collector.</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-stomp" class="sidebar-link">emqx-stomp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener" class="sidebar-link">stomp.listener</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-acceptors" class="sidebar-link">stomp.listener.acceptors</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-max-connections" class="sidebar-link">stomp.listener.max_connections</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-ssl" class="sidebar-link">stomp.listener.ssl</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-keyfile" class="sidebar-link">stomp.listener.keyfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-certfile" class="sidebar-link">stomp.listener.certfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-cacertfile" class="sidebar-link">stomp.listener.cacertfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-dhfile" class="sidebar-link">stomp.listener.dhfile</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-verify" class="sidebar-link">stomp.listener.verify</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-fail-if-no-peer-cert" class="sidebar-link">stomp.listener.failifnopeercert</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-tls-versions" class="sidebar-link">stomp.listener.tls_versions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-handshake-timeout" class="sidebar-link">stomp.listener.handshake_timeout</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-ciphers" class="sidebar-link">stomp.listener.ciphers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-secure-renegotiate" class="sidebar-link">stomp.listener.secure_renegotiate</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-reuse-sessions" class="sidebar-link">stomp.listener.reuse_sessions</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-listener-honor-cipher-order" class="sidebar-link">stomp.listener.honorcipherorder</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-default-user-login" class="sidebar-link">stomp.default_user.login</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-default-user-passcode" class="sidebar-link">stomp.default_user.passcode</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-allow-anonymous" class="sidebar-link">stomp.allow_anonymous</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-frame-max-headers" class="sidebar-link">stomp.frame.max_headers</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-frame-max-header-length" class="sidebar-link">stomp.frame.maxheaderlength</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#stomp-frame-max-body-length" class="sidebar-link">stomp.frame.maxbodylength</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#emqx-web-hook" class="sidebar-link">emqx-web-hook</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-api-url" class="sidebar-link">web.hook.api.url</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-encode-payload" class="sidebar-link">web.hook.encode_payload</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-client-connect-1" class="sidebar-link">web.hook.rule.client.connect.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-client-connack-1" class="sidebar-link">web.hook.rule.client.connack.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-client-connected-1" class="sidebar-link">web.hook.rule.client.connected.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-client-disconnected-1" class="sidebar-link">web.hook.rule.client.disconnected.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-client-subscribe-1" class="sidebar-link">web.hook.rule.client.subscribe.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-client-unsubscribe-1" class="sidebar-link">web.hook.rule.client.unsubscribe.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-session-subscribed-1" class="sidebar-link">web.hook.rule.session.subscribed.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-session-unsubscribed-1" class="sidebar-link">web.hook.rule.session.unsubscribed.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-session-terminated-1" class="sidebar-link">web.hook.rule.session.terminated.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-message-publish-1" class="sidebar-link">web.hook.rule.message.publish.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-message-delivered-1" class="sidebar-link">web.hook.rule.message.delivered.1</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/configuration/configuration.html#web-hook-rule-message-acked-1" class="sidebar-link">web.hook.rule.message.acked.1</a></li></ul></li></ul></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>命令行接口</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/zh/backend/emqx/advanced/relup.html" class="sidebar-link">版本热升级</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>FAQ 常见问题解答</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>SDK &amp; Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>协议介绍</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>版本发布</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>相关资料</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <!----> <!----> <main class="page"><div class="theme-default-content" style="margin-top:3.6rem;padding-top:0;padding-bottom:0;"></div> <div class="theme-default-content"><div class="content__default"><h1 id="配置项"><a href="#配置项" class="header-anchor">#</a> 配置项</h1> <h2 id="cluster"><a href="#cluster" class="header-anchor">#</a> cluster</h2> <h3 id="cluster-name"><a href="#cluster-name" class="header-anchor">#</a> cluster.name</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>emqxcl</code></td></tr></tbody></table> <h4 id="说明"><a href="#说明" class="header-anchor">#</a> 说明</h4> <p>集群名称。</p> <br> <h3 id="cluster-proto-dist"><a href="#cluster-proto-dist" class="header-anchor">#</a> cluster.proto_dist</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>inet_tcp</code>, <code>inet6_tcp</code>, <code>inet_tls</code></td> <td><code>inet_tcp</code></td></tr></tbody></table> <h4 id="说明-2"><a href="#说明-2" class="header-anchor">#</a> 说明</h4> <p>分布式 Erlang 集群协议类型。可选值为:</p> <ul><li><code>inet_tcp</code>: 使用 IPv4</li> <li><code>inet6_tcp</code> 使用 IPv6</li> <li><code>inet_tls</code>: 使用 TLS，需要与 <code>node.ssl_dist_optfile</code> 配置一起使用。</li></ul> <br> <h3 id="cluster-discovery"><a href="#cluster-discovery" class="header-anchor">#</a> cluster.discovery</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>manual</code>, <code>static</code>, <code>mcast</code>, <code>dns</code>, <code>etcd</code>, <code>k8s</code></td> <td><code>manual</code></td></tr></tbody></table> <h4 id="说明-3"><a href="#说明-3" class="header-anchor">#</a> 说明</h4> <p>集群节点发现方式。可选值为:</p> <ul><li><code>manual</code>: 手动加入集群</li> <li><code>static</code>: 配置静态节点。配置几个固定的节点，新节点通过连接固定节点中的某一个来加入集群。</li> <li><code>mcast</code>: 使用 UDP 多播的方式发现节点。</li> <li><code>dns</code>: 使用 DNS A 记录的方式发现节点。</li> <li><code>etcd</code>: 使用 etcd 发现节点。</li> <li><code>k8s</code>: 使用 Kubernetes 发现节点。</li></ul> <br> <h3 id="cluster-autoheal"><a href="#cluster-autoheal" class="header-anchor">#</a> cluster.autoheal</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-4"><a href="#说明-4" class="header-anchor">#</a> 说明</h4> <p>启用或关闭集群脑裂自动恢复机制。</p> <br> <h3 id="cluster-autoclean"><a href="#cluster-autoclean" class="header-anchor">#</a> cluster.autoclean</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5m</code></td></tr></tbody></table> <h4 id="说明-5"><a href="#说明-5" class="header-anchor">#</a> 说明</h4> <p>指定多久之后从集群中删除短线节点。</p> <br> <h3 id="cluster-static-seeds"><a href="#cluster-static-seeds" class="header-anchor">#</a> cluster.static.seeds</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>emqx1@192.168.0.100,emqx2@192.168.0.101</code></td></tr></tbody></table> <h4 id="说明-6"><a href="#说明-6" class="header-anchor">#</a> 说明</h4> <p>当使用 static 方式集群时，指定固定的节点列表，多个节点间使用逗号 <code>,</code> 分隔。</p> <br> <h3 id="cluster-mcast-addr"><a href="#cluster-mcast-addr" class="header-anchor">#</a> cluster.mcast.addr</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>ipaddr</td> <td><code>239.192.0.1</code></td></tr></tbody></table> <h4 id="说明-7"><a href="#说明-7" class="header-anchor">#</a> 说明</h4> <p>当使用 mcast 方式集群时，指定多播地址。</p> <br> <h3 id="cluster-mcast-ports"><a href="#cluster-mcast-ports" class="header-anchor">#</a> cluster.mcast.ports</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>4369</code></td></tr></tbody></table> <h4 id="说明-8"><a href="#说明-8" class="header-anchor">#</a> 说明</h4> <p>当使用 mcast 方式集群时，指定多播端口。如有多个端口使用逗号 <code>,</code> 分隔。</p> <br> <h3 id="cluster-mcast-iface"><a href="#cluster-mcast-iface" class="header-anchor">#</a> cluster.mcast.iface</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>ipaddr</td> <td><code>0.0.0.0</code></td></tr></tbody></table> <h4 id="说明-9"><a href="#说明-9" class="header-anchor">#</a> 说明</h4> <p>当使用 mcast 方式集群时，指定节点发现服务需要绑定到本地哪个 IP 地址。</p> <br> <h3 id="cluster-mcast-ttl"><a href="#cluster-mcast-ttl" class="header-anchor">#</a> cluster.mcast.ttl</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>255</td></tr></tbody></table> <h4 id="说明-10"><a href="#说明-10" class="header-anchor">#</a> 说明</h4> <p>当使用 mcast 方式集群时，指定多播的 Time-To-Live 值。</p> <br> <h3 id="cluster-mcast-loop"><a href="#cluster-mcast-loop" class="header-anchor">#</a> cluster.mcast.loop</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-11"><a href="#说明-11" class="header-anchor">#</a> 说明</h4> <p>当使用 mcast 方式集群时，设置多播的报文是否投递到本地回环地址。</p> <br> <h3 id="cluster-dns-name"><a href="#cluster-dns-name" class="header-anchor">#</a> cluster.dns.name</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>mycluster.com</code></td></tr></tbody></table> <h4 id="说明-12"><a href="#说明-12" class="header-anchor">#</a> 说明</h4> <p>当使用 dns 方式集群时，指定 DNS A 记录的名字。emqx 会通过访问这个 DNS A 记录来获取 IP 地址列表，然后拼接 <code>cluster.dns.app</code> 里指定的 APP 名得到集群中所有节点的列表。</p> <h4 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h4> <p>设置 <code>cluster.dns.app = emqx</code>，并且配置了一个 DNS: <code>mycluster.com</code>，其指向 3 个 IP 地址:</p> <div class="language- extra-class"><pre class="language-text"><code>192.168.0.100
192.168.0.101
192.168.0.102
</code></pre></div><p>则得到集群节点列表如下：</p> <div class="language- extra-class"><pre class="language-text"><code>emqx@192.168.0.100
emqx@192.168.0.101
emqx@192.168.0.102
</code></pre></div><br> <h3 id="cluster-dns-app"><a href="#cluster-dns-app" class="header-anchor">#</a> cluster.dns.app</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>emqx</code></td></tr></tbody></table> <h4 id="说明-13"><a href="#说明-13" class="header-anchor">#</a> 说明</h4> <p>当使用 dns 方式集群时，用来与从 <code>cluster.dns.name</code> 获取的 IP 列表拼接得到节点名列表。</p> <br> <h3 id="cluster-etcd-server"><a href="#cluster-etcd-server" class="header-anchor">#</a> cluster.etcd.server</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>http://127.0.0.1:2379</code></td></tr></tbody></table> <h4 id="说明-14"><a href="#说明-14" class="header-anchor">#</a> 说明</h4> <p>当使用 etcd 方式集群时，指定 etcd 服务的地址。如有多个服务使用逗号 <code>,</code> 分隔。</p> <br> <h3 id="cluster-etcd-prefix"><a href="#cluster-etcd-prefix" class="header-anchor">#</a> cluster.etcd.prefix</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>emqxcl</code></td></tr></tbody></table> <h4 id="说明-15"><a href="#说明-15" class="header-anchor">#</a> 说明</h4> <p>当使用 etcd 方式集群时，指定 etcd 路径的前缀。每个节点在 etcd 中都会创建一个路径:</p> <div class="language- extra-class"><pre class="language-text"><code>v2/keys/&lt;prefix&gt;/&lt;cluster.name&gt;/&lt;node.name&gt;
</code></pre></div><br> <h3 id="cluster-etcd-node-ttl"><a href="#cluster-etcd-node-ttl" class="header-anchor">#</a> cluster.etcd.node_ttl</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>duration</td> <td>-</td> <td><code>1m</code></td></tr></tbody></table> <h4 id="说明-16"><a href="#说明-16" class="header-anchor">#</a> 说明</h4> <p>当使用 etcd 方式集群时，指定 etcd 中节点路径的过期时间。</p> <br> <h3 id="cluster-etcd-ssl-keyfile"><a href="#cluster-etcd-ssl-keyfile" class="header-anchor">#</a> cluster.etcd.ssl.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>etc/certs/client-key.pem</code></td></tr></tbody></table> <h4 id="说明-17"><a href="#说明-17" class="header-anchor">#</a> 说明</h4> <p>当使用 SSL 连接 etcd 时，指定客户端的私有 Key 文件。</p> <br> <h3 id="cluster-etcd-ssl-certfile"><a href="#cluster-etcd-ssl-certfile" class="header-anchor">#</a> cluster.etcd.ssl.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>etc/certs/client.pem</code></td></tr></tbody></table> <h4 id="说明-18"><a href="#说明-18" class="header-anchor">#</a> 说明</h4> <p>当使用 SSL 连接 etcd 时，指定 SSL 客户端的证书文件。</p> <br> <h3 id="cluster-etcd-ssl-cacertfile"><a href="#cluster-etcd-ssl-cacertfile" class="header-anchor">#</a> cluster.etcd.ssl.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>etc/certs/ca.pem</code></td></tr></tbody></table> <h4 id="说明-19"><a href="#说明-19" class="header-anchor">#</a> 说明</h4> <p>当使用 SSL 连接 etcd 时，指定 SSL 的 CA 证书文件。</p> <br> <h3 id="cluster-k8s-apiserver"><a href="#cluster-k8s-apiserver" class="header-anchor">#</a> cluster.k8s.apiserver</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>http://10.110.111.204:8080</code></td></tr></tbody></table> <h4 id="说明-20"><a href="#说明-20" class="header-anchor">#</a> 说明</h4> <p>当使用 k8s 方式集群时，指定 Kubernetes API Server。如有多个 Server 使用逗号 <code>,</code> 分隔。</p> <br> <h3 id="cluster-k8s-service-name"><a href="#cluster-k8s-service-name" class="header-anchor">#</a> cluster.k8s.service_name</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>emqx</code></td></tr></tbody></table> <h4 id="说明-21"><a href="#说明-21" class="header-anchor">#</a> 说明</h4> <p>当使用 k8s 方式集群时，指定 Kubernetes 中 EMQ X 的服务名。</p> <br> <h3 id="cluster-k8s-address-type"><a href="#cluster-k8s-address-type" class="header-anchor">#</a> cluster.k8s.address_type</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ip</code>, <code>dns</code>, <code>hostname</code></td> <td><code>ip</code></td></tr></tbody></table> <h4 id="说明-22"><a href="#说明-22" class="header-anchor">#</a> 说明</h4> <p>当使用 k8s 方式集群时，address_type 用来从 Kubernetes 接口的应答里获取什么形式的 Host 列表。</p> <h4 id="示例-2"><a href="#示例-2" class="header-anchor">#</a> 示例</h4> <p>指定 <code>cluster.k8s.address_type</code> 为 <code>ip</code>，则将从 Kubernetes 接口中获取 emqx 服务的 IP 地址列表:</p> <div class="language- extra-class"><pre class="language-text"><code>172.16.122.31
172.16.122.32
172.16.122.33
</code></pre></div><p>然后与 <code>cluster.k8s.app_name</code> 配置指定的 app name 拼接，得到 emqx 节点列表:</p> <div class="language- extra-class"><pre class="language-text"><code>emqx@172.16.122.31
emqx@172.16.122.32
emqx@172.16.122.33
</code></pre></div><br> <h3 id="cluster-k8s-app-name"><a href="#cluster-k8s-app-name" class="header-anchor">#</a> cluster.k8s.app_name</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>emqx</code></td></tr></tbody></table> <h4 id="说明-23"><a href="#说明-23" class="header-anchor">#</a> 说明</h4> <p>当使用 k8s 方式集群时，app_name 用来跟获取的 Host 列表拼接，得到节点列表。</p> <br> <h3 id="cluster-k8s-suffix"><a href="#cluster-k8s-suffix" class="header-anchor">#</a> cluster.k8s.suffix</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>pod.cluster.local</code></td></tr></tbody></table> <h4 id="说明-24"><a href="#说明-24" class="header-anchor">#</a> 说明</h4> <p>当使用 k8s 方式并且 <code>cluster.k8s.address_type</code> 指定为 dns 类型时，可设置 emqx 节点名的后缀。与 <code>cluster.k8s.namespace</code> 一起使用用以拼接得到节点名列表。</p> <br> <h3 id="cluster-k8s-namespace"><a href="#cluster-k8s-namespace" class="header-anchor">#</a> cluster.k8s.namespace</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>string</td> <td>-</td> <td><code>default</code></td></tr></tbody></table> <h4 id="说明-25"><a href="#说明-25" class="header-anchor">#</a> 说明</h4> <p>当使用 k8s 方式并且 <code>cluster.k8s.address_type</code> 指定为 dns 类型时，可设置 emqx 节点名的命名空间。与 <code>cluster.k8s.suffix</code> 一起使用用以拼接得到节点名列表。</p> <h4 id="示例-3"><a href="#示例-3" class="header-anchor">#</a> 示例</h4> <p>设置 <code>cluster.k8s.address_type</code> 为 <code>dns</code>，则将从 Kubernetes 接口中获取 emqx 服务的 dns 列表:</p> <div class="language- extra-class"><pre class="language-text"><code>172-16-122-31
172-16-122-32
172-16-122-33
</code></pre></div><p>然后拼接上 <code>cluster.k8s.app_name = emqx</code>，<code>cluster.k8s.suffix = pod.cluster.local</code>，<code>cluster.k8s.namespace = default</code> 得到 dns 形式的 emqx 节点名列表:</p> <div class="language- extra-class"><pre class="language-text"><code>emqx@172-16-122-31.default.pod.cluster.local
emqx@172-16-122-32.default.pod.cluster.local
emqx@172-16-122-33.default.pod.cluster.local
</code></pre></div><br> <h2 id="node"><a href="#node" class="header-anchor">#</a> node</h2> <h3 id="node-name"><a href="#node-name" class="header-anchor">#</a> node.name</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>emqx@127.0.0.1</code></td></tr></tbody></table> <h4 id="说明-26"><a href="#说明-26" class="header-anchor">#</a> 说明</h4> <p>节点名。格式为 <code>&lt;name&gt;@&lt;host&gt;</code>。其中 <code>&lt;host&gt;</code> 可以是 IP 地址，也可以是 FQDN。详见 <a href="http://erlang.org/doc/reference_manual/distributed.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/reference_manual/distributed.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-cookie"><a href="#node-cookie" class="header-anchor">#</a> node.cookie</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>emqxsecretcookie</code></td></tr></tbody></table> <h4 id="说明-27"><a href="#说明-27" class="header-anchor">#</a> 说明</h4> <p>分布式 Erlang 集群使用的 cookie 值。</p> <br> <h3 id="node-data-dir"><a href="#node-data-dir" class="header-anchor">#</a> node.data_dir</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>folder</td> <td><code>./data</code></td></tr></tbody></table> <h4 id="说明-28"><a href="#说明-28" class="header-anchor">#</a> 说明</h4> <p>节点的 data 目录，用于存放 Mnesia 数据文件等。</p> <br> <h3 id="node-heartbeat"><a href="#node-heartbeat" class="header-anchor">#</a> node.heartbeat</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-29"><a href="#说明-29" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>-heart</code> 参数。</p> <p>启用或关闭 Erlang 运行时检测机制，并在运行时终止时自动重启。需小心使用，以免手动关闭 emqx 时被监控进程重新启动。</p> <br> <h3 id="node-async-threads"><a href="#node-async-threads" class="header-anchor">#</a> node.async_threads</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0 - 1024</td> <td>4</td></tr></tbody></table> <h4 id="说明-30"><a href="#说明-30" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>+A</code> 参数。</p> <p>设置 Erlang 运行时异步线程池中的线程数量。详情请参见 <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-process-limit"><a href="#node-process-limit" class="header-anchor">#</a> node.process_limit</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024 - 134217727</td> <td>2097152</td></tr></tbody></table> <h4 id="说明-31"><a href="#说明-31" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>+P</code> 参数。</p> <p>设置 Erlang 允许的最大进程数，这将影响 emqx 节点能处理的连接数。详情请参见 <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-max-ports"><a href="#node-max-ports" class="header-anchor">#</a> node.max_ports</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024 - 134217727</td> <td>1048576</td></tr></tbody></table> <h4 id="说明-32"><a href="#说明-32" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>+Q</code> 参数。</p> <p>设置 Erlang 允许的最大 Ports 数量。详情请参见 <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-dist-buffer-size"><a href="#node-dist-buffer-size" class="header-anchor">#</a> node.dist_buffer_size</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>1KB - 2GB</td> <td><code>8MB</code></td></tr></tbody></table> <h4 id="说明-33"><a href="#说明-33" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>+zdbbl</code> 参数。</p> <p>设置 Erlang 分布式通信使用的最大缓存大小。详情请参见 <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-max-ets-tables"><a href="#node-max-ets-tables" class="header-anchor">#</a> node.max_ets_tables</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>262144</td></tr></tbody></table> <h4 id="说明-34"><a href="#说明-34" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>+e</code> 参数。</p> <p>设置 Erlang 运行时允许的最大 ETS 表数量。详情请参见 <a href="http://erlang.org/doc/man/erl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-global-gc-interval"><a href="#node-global-gc-interval" class="header-anchor">#</a> node.global_gc_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15m</code></td></tr></tbody></table> <h4 id="说明-35"><a href="#说明-35" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，设置 Erlang 运行多久强制进行一次全局垃圾回收。</p> <br> <h3 id="node-fullsweep-after"><a href="#node-fullsweep-after" class="header-anchor">#</a> node.fullsweep_after</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0 - 65535</td> <td>1000</td></tr></tbody></table> <h4 id="说明-36"><a href="#说明-36" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>-env ERL_FULLSWEEP_AFTER</code> 参数。</p> <p>设置 Erlang 运行时多少次 generational GC 之后才进行一次 fullsweep GC。详情请参见 <a href="http://erlang.org/doc/man/erlang.html#spawn_opt-4" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/erlang.html#spawn_opt-4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-crash-dump"><a href="#node-crash-dump" class="header-anchor">#</a> node.crash_dump</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>log/crash.dump</code></td></tr></tbody></table> <h4 id="说明-37"><a href="#说明-37" class="header-anchor">#</a> 说明</h4> <p>设置 Erlang crash_dump 文件的存储路径和文件名。</p> <br> <h3 id="node-ssl-dist-optfile"><a href="#node-ssl-dist-optfile" class="header-anchor">#</a> node.ssl_dist_optfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/ssl_dist.conf</code></td></tr></tbody></table> <h4 id="说明-38"><a href="#说明-38" class="header-anchor">#</a> 说明</h4> <p>此配置将覆盖 <code>vm.args</code> 文件里的 <code>-ssl_dist_optfile</code> 参数。</p> <p>如使用 SSL 方式建立 emqx 集群，需指定 SSL 分布式协议的配置文件。需要与 <code>cluster.proto_dist = inet_tls</code> 一起使用。</p> <br> <h3 id="node-dist-net-ticktime"><a href="#node-dist-net-ticktime" class="header-anchor">#</a> node.dist_net_ticktime</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>120</td></tr></tbody></table> <h4 id="说明-39"><a href="#说明-39" class="header-anchor">#</a> 说明</h4> <p>系统调优参数，此配置将覆盖 <code>vm.args</code> 文件里的 <code>-kernel net_ticktime</code> 参数。</p> <p>当一个节点持续无响应多久之后，认为其已经宕机并断开连接。详情请参见 <a href="http://www.erlang.org/doc/man/kernel_app.html#net_ticktime" target="_blank" rel="noopener noreferrer">http://www.erlang.org/doc/man/kernel_app.html#net_ticktime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="node-dist-listen-min"><a href="#node-dist-listen-min" class="header-anchor">#</a> node.dist_listen_min</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024 - 65535</td> <td>6369</td></tr></tbody></table> <h4 id="说明-40"><a href="#说明-40" class="header-anchor">#</a> 说明</h4> <p>与 <code>node.dist_listen_max</code> 一起设定一个 TCP 端口段，此端口段用于分配给分布式 Erlang，作为分布式通道的监听端口。注意如果在节点之间设置了防火墙，需要将此端口段放进防火墙的端口白名单里。</p> <br> <h3 id="node-dist-listen-max"><a href="#node-dist-listen-max" class="header-anchor">#</a> node.dist_listen_max</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024 - 65535</td> <td>6369</td></tr></tbody></table> <h4 id="说明-41"><a href="#说明-41" class="header-anchor">#</a> 说明</h4> <p>与 <code>node.dist_listen_min</code> 一起设定一个 TCP 端口段，此端口段用于分配给分布式 Erlang，作为分布式通道的监听端口。注意如果在节点之间设置了防火墙，需要将此端口段放进防火墙的端口白名单里。</p> <br> <h2 id="rpc"><a href="#rpc" class="header-anchor">#</a> rpc</h2> <h3 id="rpc-mode"><a href="#rpc-mode" class="header-anchor">#</a> rpc.mode</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>sync</code>, <code>async</code></td> <td><code>async</code></td></tr></tbody></table> <h4 id="说明-42"><a href="#说明-42" class="header-anchor">#</a> 说明</h4> <p>RPC 模式。可选同步或异步模式。</p> <br> <h3 id="rpc-async-batch-size"><a href="#rpc-async-batch-size" class="header-anchor">#</a> rpc.async_batch_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>256</td></tr></tbody></table> <h4 id="说明-43"><a href="#说明-43" class="header-anchor">#</a> 说明</h4> <p>异步模式下最大的批量发送消息数。注意此配置在同步模式下不起作用。</p> <br> <h3 id="node-tcp-server-port"><a href="#node-tcp-server-port" class="header-anchor">#</a> node.tcp_server_port</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024 - 65535</td> <td>5369</td></tr></tbody></table> <h4 id="说明-44"><a href="#说明-44" class="header-anchor">#</a> 说明</h4> <p>设置 RPC 本地服务使用的监听 port。</p> <br> <h3 id="node-tcp-client-port"><a href="#node-tcp-client-port" class="header-anchor">#</a> node.tcp_client_port</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024-65535</td> <td>5369</td></tr></tbody></table> <h4 id="说明-45"><a href="#说明-45" class="header-anchor">#</a> 说明</h4> <p>设置远程 RPC 服务的端口。</p> <br> <h3 id="node-tcp-client-num"><a href="#node-tcp-client-num" class="header-anchor">#</a> node.tcp_client_num</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1 - 256</td> <td>CPU 核心数 / 2</td></tr></tbody></table> <h4 id="说明-46"><a href="#说明-46" class="header-anchor">#</a> 说明</h4> <p>设置由本节点发起，通往每个远程节点的 RPC 通信通道数量。设置为 1 可保证消息顺序。保持默认值（CPU 核心数的一半）可提高 RPC 的吞吐能力。</p> <br> <h3 id="rpc-connect-timeout"><a href="#rpc-connect-timeout" class="header-anchor">#</a> rpc.connect_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5s</code></td></tr></tbody></table> <h4 id="说明-47"><a href="#说明-47" class="header-anchor">#</a> 说明</h4> <p>建立 RPC 连接超时时间。建立连接时若远程节点无响应，多久之后放弃尝试。</p> <br> <h3 id="rpc-send-timeout"><a href="#rpc-send-timeout" class="header-anchor">#</a> rpc.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5s</code></td></tr></tbody></table> <h4 id="说明-48"><a href="#说明-48" class="header-anchor">#</a> 说明</h4> <p>发送超时时间。发送消息多久之后放弃。</p> <br> <h3 id="rpc-authentication-timeout"><a href="#rpc-authentication-timeout" class="header-anchor">#</a> rpc.authentication_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5s</code></td></tr></tbody></table> <h4 id="说明-49"><a href="#说明-49" class="header-anchor">#</a> 说明</h4> <p>RPC 认证超时时间。尝试认证若远程节点无响应，多久之后放弃。</p> <br> <h3 id="rpc-call-receive-timeout"><a href="#rpc-call-receive-timeout" class="header-anchor">#</a> rpc.call_receive_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-50"><a href="#说明-50" class="header-anchor">#</a> 说明</h4> <p>RPC 同步模式的超时时间。RPC 同步调用若收不到回复，用多久之后放弃。</p> <br> <h3 id="rpc-socket-keepalive-idle"><a href="#rpc-socket-keepalive-idle" class="header-anchor">#</a> rpc.socket_keepalive_idle</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>900s</code></td></tr></tbody></table> <h4 id="说明-51"><a href="#说明-51" class="header-anchor">#</a> 说明</h4> <p>在最近一次数据包发送多久之后，发送 keepalive 探测报文。</p> <br> <h3 id="rpc-socket-keepalive-interval"><a href="#rpc-socket-keepalive-interval" class="header-anchor">#</a> rpc.socket_keepalive_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>75s</code></td></tr></tbody></table> <h4 id="说明-52"><a href="#说明-52" class="header-anchor">#</a> 说明</h4> <p>发送 keepalive 探测报文的间隔。</p> <br> <h3 id="rpc-socket-keepalive-count"><a href="#rpc-socket-keepalive-count" class="header-anchor">#</a> rpc.socket_keepalive_count</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>9</td></tr></tbody></table> <h4 id="说明-53"><a href="#说明-53" class="header-anchor">#</a> 说明</h4> <p>连续多少次 keepalive 探测报文都收不到回复的情况下，认为 RPC 连接已丢失。</p> <br> <h3 id="rpc-socket-sndbuf"><a href="#rpc-socket-sndbuf" class="header-anchor">#</a> rpc.socket_sndbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1MB</code></td></tr></tbody></table> <h4 id="说明-54"><a href="#说明-54" class="header-anchor">#</a> 说明</h4> <p>TCP 调优参数。TCP 发送缓冲区大小。</p> <br> <h3 id="rpc-socket-recbuf"><a href="#rpc-socket-recbuf" class="header-anchor">#</a> rpc.socket_recbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1MB</code></td></tr></tbody></table> <h4 id="说明-55"><a href="#说明-55" class="header-anchor">#</a> 说明</h4> <p>TCP 调优参数。TCP 接收缓冲区大小。</p> <br> <h3 id="rpc-socket-buffer"><a href="#rpc-socket-buffer" class="header-anchor">#</a> rpc.socket_buffer</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1MB</code></td></tr></tbody></table> <h4 id="说明-56"><a href="#说明-56" class="header-anchor">#</a> 说明</h4> <p>TCP 调优参数。用户态的 Socket 缓冲区大小。</p> <br> <h2 id="log"><a href="#log" class="header-anchor">#</a> log</h2> <h3 id="log-to"><a href="#log-to" class="header-anchor">#</a> log.to</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>off</code>, <code>file</code>, <code>console</code>, <code>both</code></td> <td><code>both</code></td></tr></tbody></table> <h4 id="说明-57"><a href="#说明-57" class="header-anchor">#</a> 说明</h4> <p>将日志输出到什么地方。可选值为:</p> <ul><li><p><strong>off:</strong> 完全关闭日志功能</p></li> <li><p><strong>file:</strong> 仅将日志输出到文件</p></li> <li><p><strong>console:</strong> 仅将日志输出到标准输出(emqx 控制台)</p></li> <li><p><strong>both:</strong> 同时将日志输出到文件和标准输出(emqx 控制台)</p></li></ul> <br> <h3 id="log-level"><a href="#log-level" class="header-anchor">#</a> log.level</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>debug</code>, <code>info</code>, <code>notice</code>, <code>warning</code><br><code>error</code>, <code>critical</code>, <code>alert</code>, <code>emergency</code></td> <td><code>warning</code></td></tr></tbody></table> <h4 id="说明-58"><a href="#说明-58" class="header-anchor">#</a> 说明</h4> <p>全局的日志级别。这包括 primary log level 以及所有的 log handlers。详情请参见 <a href="/zh/backend/emqx/getting-started/log.html#log-level-and-log-handlers">日志级别和 log handlers</a>。</p> <br> <h3 id="log-dir"><a href="#log-dir" class="header-anchor">#</a> log.dir</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>dir</td> <td><code>./log</code></td></tr></tbody></table> <h4 id="说明-59"><a href="#说明-59" class="header-anchor">#</a> 说明</h4> <p>日志文件目录。</p> <br> <h3 id="log-file"><a href="#log-file" class="header-anchor">#</a> log.file</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>emqx.log</code></td></tr></tbody></table> <h4 id="说明-60"><a href="#说明-60" class="header-anchor">#</a> 说明</h4> <p>日志文件的前缀。例如，若使用默认值 (<code>log.file = emqx.log</code>)，日志文件名将为 <code>emqx.log.1</code>，<code>emqx.log.2</code>，...。</p> <br> <h3 id="log-chars-limit"><a href="#log-chars-limit" class="header-anchor">#</a> log.chars_limit</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>-1</td></tr></tbody></table> <h4 id="说明-61"><a href="#说明-61" class="header-anchor">#</a> 说明</h4> <p>设置单个日志消息的最大长度。如超过此长度，日志消息将被截断。<code>-1</code> 表示无限制。</p> <br> <h3 id="log-rotation-size"><a href="#log-rotation-size" class="header-anchor">#</a> log.rotation.size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>10MB</code></td></tr></tbody></table> <h4 id="说明-62"><a href="#说明-62" class="header-anchor">#</a> 说明</h4> <p>设置单个日志文件大小。如超过此大小，则进行日志文件滚动，创建新的日志文件。</p> <br> <h3 id="log-rotation-count"><a href="#log-rotation-count" class="header-anchor">#</a> log.rotation.count</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>5</td></tr></tbody></table> <h4 id="说明-63"><a href="#说明-63" class="header-anchor">#</a> 说明</h4> <p>设置日志文件总个数。如超过此文件个数，则下一次日志文件滚动将会覆盖第一个文件。</p> <br> <h3 id="log-file-2"><a href="#log-file-2" class="header-anchor">#</a> log.<level>.file</level></h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-64"><a href="#说明-64" class="header-anchor">#</a> 说明</h4> <p>针对某日志级别设置单独的日志文件。</p> <h4 id="示例-4"><a href="#示例-4" class="header-anchor">#</a> 示例</h4> <p>将 info 及 info 以上的日志单独输出到 <code>info.log.N</code> 文件中：</p> <div class="language- extra-class"><pre class="language-text"><code>log.info.file = info.log
</code></pre></div><p>将 error 及 error 以上的日志单独输出到 <code>error.log.N</code> 文件中</p> <div class="language- extra-class"><pre class="language-text"><code>log.error.file = error.log
</code></pre></div><br> <h2 id="authacl"><a href="#authacl" class="header-anchor">#</a> authacl</h2> <h3 id="allow-anonymous"><a href="#allow-anonymous" class="header-anchor">#</a> allow_anonymous</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-65"><a href="#说明-65" class="header-anchor">#</a> 说明</h4> <p>是否允许匿名用户登录系统。</p> <p>注：生产环境建议关闭此选项。</p> <br> <h3 id="acl-nomatch"><a href="#acl-nomatch" class="header-anchor">#</a> acl_nomatch</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>allow</code>, <code>deny</code></td> <td><code>allow</code></td></tr></tbody></table> <h4 id="说明-66"><a href="#说明-66" class="header-anchor">#</a> 说明</h4> <p>ACL 未命中时，允许或者拒绝 发布/订阅 操作。</p> <br> <h3 id="acl-file"><a href="#acl-file" class="header-anchor">#</a> acl_file</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/acl.conf</code></td></tr></tbody></table> <h4 id="说明-67"><a href="#说明-67" class="header-anchor">#</a> 说明</h4> <p>默认 ACL 文件的路径。</p> <br> <h3 id="enable-acl-cache"><a href="#enable-acl-cache" class="header-anchor">#</a> enable_acl_cache</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-68"><a href="#说明-68" class="header-anchor">#</a> 说明</h4> <p>是否启用 ACL 缓存。</p> <br> <h3 id="acl-cache-max-size"><a href="#acl-cache-max-size" class="header-anchor">#</a> acl_cache_max_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>32</td></tr></tbody></table> <h4 id="说明-69"><a href="#说明-69" class="header-anchor">#</a> 说明</h4> <p>ACL 规则最大缓存条数。</p> <br> <h3 id="acl-cache-ttl"><a href="#acl-cache-ttl" class="header-anchor">#</a> acl_cache_ttl</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>1m</code></td></tr></tbody></table> <h4 id="说明-70"><a href="#说明-70" class="header-anchor">#</a> 说明</h4> <p>ACL 规则最大缓存时间。</p> <br> <h3 id="acl-deny-action"><a href="#acl-deny-action" class="header-anchor">#</a> acl_deny_action</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ignore</code>, <code>disconnect</code></td> <td><code>ignore</code></td></tr></tbody></table> <h4 id="说明-71"><a href="#说明-71" class="header-anchor">#</a> 说明</h4> <p>ACL 检查失败后，执行的操作。</p> <ul><li><code>ignore</code>：不做任何操作。</li> <li><code>disconnect</code>：断开连接。</li></ul> <br> <h2 id="mqtt"><a href="#mqtt" class="header-anchor">#</a> mqtt</h2> <h3 id="flapping-detect-policy"><a href="#flapping-detect-policy" class="header-anchor">#</a> flapping_detect_policy</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>30, 1m, 5m</code></td></tr></tbody></table> <h4 id="说明-72"><a href="#说明-72" class="header-anchor">#</a> 说明</h4> <p>指定 <code>Flapping</code> 检查策略。</p> <p>格式：<code>&lt;threshold&gt;,&lt;duration&gt;,&lt;banned&gt;</code>。</p> <p>例如，<code>30, 1m, 5m</code>，它表示如果客户端在 1 分钟内断开连接 30 次，那么在后续 5 分钟内禁止登录。</p> <br> <h3 id="mqtt-max-packet-size"><a href="#mqtt-max-packet-size" class="header-anchor">#</a> mqtt.max_packet_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1MB</code></td></tr></tbody></table> <h4 id="说明-73"><a href="#说明-73" class="header-anchor">#</a> 说明</h4> <p>允许的 MQTT 报文最大长度。</p> <br> <h3 id="mqtt-max-clientid-len"><a href="#mqtt-max-clientid-len" class="header-anchor">#</a> mqtt.max_clientid_len</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>65535</td></tr></tbody></table> <h4 id="说明-74"><a href="#说明-74" class="header-anchor">#</a> 说明</h4> <p>允许的 Client ID 串的最大长度。</p> <br> <h3 id="mqtt-max-topic-levels"><a href="#mqtt-max-topic-levels" class="header-anchor">#</a> mqtt.max_topic_levels</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0</td></tr></tbody></table> <h4 id="说明-75"><a href="#说明-75" class="header-anchor">#</a> 说明</h4> <p>允许客户端订阅主题的最大层级。0 表示不限制。</p> <br> <h3 id="mqtt-max-qos-allowed"><a href="#mqtt-max-qos-allowed" class="header-anchor">#</a> mqtt.max_qos_allowed</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>0</code>, <code>1</code>, <code>2</code></td> <td><code>2</code></td></tr></tbody></table> <h4 id="说明-76"><a href="#说明-76" class="header-anchor">#</a> 说明</h4> <p>允许客户端发布的最大 QoS 等级。</p> <br> <h3 id="mqtt-max-topic-alias"><a href="#mqtt-max-topic-alias" class="header-anchor">#</a> mqtt.max_topic_alias</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>65535</td></tr></tbody></table> <h4 id="说明-77"><a href="#说明-77" class="header-anchor">#</a> 说明</h4> <p>允许最大的主题别名数。0 表示不支持主题别名。</p> <br> <h3 id="mqtt-retain-available"><a href="#mqtt-retain-available" class="header-anchor">#</a> mqtt.retain_available</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-78"><a href="#说明-78" class="header-anchor">#</a> 说明</h4> <p>是否支持 Retain 消息。</p> <br> <h3 id="mqtt-wildcard-subscription"><a href="#mqtt-wildcard-subscription" class="header-anchor">#</a> mqtt.wildcard_subscription</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-79"><a href="#说明-79" class="header-anchor">#</a> 说明</h4> <p>是否支持订阅通配主题。</p> <br> <h3 id="mqtt-shared-subscription"><a href="#mqtt-shared-subscription" class="header-anchor">#</a> mqtt.shared_subscription</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-80"><a href="#说明-80" class="header-anchor">#</a> 说明</h4> <p>是否支持共享订阅。</p> <br> <h3 id="mqtt-ignore-loop-deliver"><a href="#mqtt-ignore-loop-deliver" class="header-anchor">#</a> mqtt.ignore_loop_deliver</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-81"><a href="#说明-81" class="header-anchor">#</a> 说明</h4> <p>是否忽略自己发送的消息。如果忽略，则表明 EMQ X 不会向消息的发送端投递此消息。</p> <br> <h3 id="mqtt-strict-mode"><a href="#mqtt-strict-mode" class="header-anchor">#</a> mqtt.strict_mode</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-82"><a href="#说明-82" class="header-anchor">#</a> 说明</h4> <p>是否开启严格检查模式。严格检查模式会更细致的检查 MQTT 报文的正确性。</p> <br> <h2 id="zoneexternal"><a href="#zoneexternal" class="header-anchor">#</a> zoneexternal</h2> <h3 id="zone-external-idle-timeout"><a href="#zone-external-idle-timeout" class="header-anchor">#</a> zone.external.idle_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-83"><a href="#说明-83" class="header-anchor">#</a> 说明</h4> <p>TCP 连接建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。</p> <br> <h3 id="zone-external-enable-acl"><a href="#zone-external-enable-acl" class="header-anchor">#</a> zone.external.enable_acl</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-84"><a href="#说明-84" class="header-anchor">#</a> 说明</h4> <p>是否开启 ACL 检查。</p> <br> <h3 id="zone-external-enable-ban"><a href="#zone-external-enable-ban" class="header-anchor">#</a> zone.external.enable_ban</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-85"><a href="#说明-85" class="header-anchor">#</a> 说明</h4> <p>是否开启黑名单。</p> <br> <h3 id="zone-external-enable-stats"><a href="#zone-external-enable-stats" class="header-anchor">#</a> zone.external.enable_stats</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-86"><a href="#说明-86" class="header-anchor">#</a> 说明</h4> <p>是否开启客户端状态统计。</p> <br> <h3 id="zone-external-acl-deny-action"><a href="#zone-external-acl-deny-action" class="header-anchor">#</a> zone.external.acl_deny_action</h3> <p>| Type | Optional Value         | Default  |
| ---- | -------------------- - | -------- |
| enum | <code>ignore</code>, <code>disconnect</code> | <code>ignore</code> |</p> <h4 id="说明-87"><a href="#说明-87" class="header-anchor">#</a> 说明</h4> <p>ACL 检查失败后，执行的操作。</p> <ul><li><code>ignore</code>：不做任何操作。</li> <li><code>disconnect</code>：断开连接。</li></ul> <br> <h3 id="zone-external-force-gc-policy"><a href="#zone-external-force-gc-policy" class="header-anchor">#</a> zone.external.force_gc_policy</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>16000|16MB</code></td></tr></tbody></table> <h4 id="说明-88"><a href="#说明-88" class="header-anchor">#</a> 说明</h4> <p>当收到一定数量的消息，或字节，就强制执行一次垃圾回收。</p> <p>格式：<code>&lt;Number&gt;|&lt;Bytes&gt;</code>。</p> <p>例如，<code>16000|16MB</code> 表示当收到 <code>16000</code> 条消息，或 <code>16MB</code> 的字节流入就强制执行一次垃圾回收。</p> <br> <h3 id="zone-external-force-shutdown-policy"><a href="#zone-external-force-shutdown-policy" class="header-anchor">#</a> zone.external.force_shutdown_policy</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-89"><a href="#说明-89" class="header-anchor">#</a> 说明</h4> <p>当进程消息队列长度，或占用的内存字节到达某值，就强制关闭该进程。</p> <p>这里的 <code>消息队列</code> 指的是 Erlang 进程的 <code>消息邮箱</code>，并非 QoS 1 和 QoS 2 的 <code>mqueue</code>。</p> <p>格式：<code>&lt;Number&gt;|&lt;Bytes&gt;</code>。</p> <p>例如，<code>32000|32MB</code> 表示当进程堆积了 <code>32000</code> 条消息，或进程占用内存达到 <code>32MB</code> 则关闭该进程。</p> <br> <h3 id="zone-external-max-packet-size"><a href="#zone-external-max-packet-size" class="header-anchor">#</a> zone.external.max_packet_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-90"><a href="#说明-90" class="header-anchor">#</a> 说明</h4> <p>允许的 MQTT 报文最大长度。</p> <br> <h3 id="zone-external-max-clientid-len"><a href="#zone-external-max-clientid-len" class="header-anchor">#</a> zone.external.max_clientid_len</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>-</td></tr></tbody></table> <h4 id="说明-91"><a href="#说明-91" class="header-anchor">#</a> 说明</h4> <p>允许的 Client ID 串的最大长度。</p> <br> <h3 id="zone-external-max-topic-levels"><a href="#zone-external-max-topic-levels" class="header-anchor">#</a> zone.external.max_topic_levels</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>-</td></tr></tbody></table> <h4 id="说明-92"><a href="#说明-92" class="header-anchor">#</a> 说明</h4> <p>允许客户端订阅主题的最大层级。0 表示不限制。</p> <br> <h3 id="zone-external-max-qos-allowed"><a href="#zone-external-max-qos-allowed" class="header-anchor">#</a> zone.external.max_qos_allowed</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>0</code>, <code>1</code>, <code>2</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-93"><a href="#说明-93" class="header-anchor">#</a> 说明</h4> <p>允许客户端发布的最大 QoS 等级。</p> <br> <h3 id="zone-external-max-topic-alias"><a href="#zone-external-max-topic-alias" class="header-anchor">#</a> zone.external.max_topic_alias</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>-</td></tr></tbody></table> <h4 id="说明-94"><a href="#说明-94" class="header-anchor">#</a> 说明</h4> <p>允许最大的主题别名数。0 表示不支持主题别名。</p> <br> <h3 id="zone-external-retain-available"><a href="#zone-external-retain-available" class="header-anchor">#</a> zone.external.retain_available</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-95"><a href="#说明-95" class="header-anchor">#</a> 说明</h4> <p>是否支持 Retain 消息。</p> <br> <h3 id="zone-external-wildcard-subscription"><a href="#zone-external-wildcard-subscription" class="header-anchor">#</a> zone.external.wildcard_subscription</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-96"><a href="#说明-96" class="header-anchor">#</a> 说明</h4> <p>是否支持订阅通配主题。</p> <br> <h3 id="zone-external-shared-subscription"><a href="#zone-external-shared-subscription" class="header-anchor">#</a> zone.external.shared_subscription</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-97"><a href="#说明-97" class="header-anchor">#</a> 说明</h4> <p>是否支持共享订阅。</p> <br> <h3 id="zone-external-server-keepalive"><a href="#zone-external-server-keepalive" class="header-anchor">#</a> zone.external.server_keepalive</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>-</td></tr></tbody></table> <h4 id="说明-98"><a href="#说明-98" class="header-anchor">#</a> 说明</h4> <p>服务端指定的 Keepalive 时间。用于 MQTT v5.0 协议的 CONNACK 报文。</p> <br> <h3 id="zone-external-keepalive-backoff"><a href="#zone-external-keepalive-backoff" class="header-anchor">#</a> zone.external.keepalive_backoff</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>float</td> <td>&gt; 0.5</td> <td>0.75</td></tr></tbody></table> <h4 id="说明-99"><a href="#说明-99" class="header-anchor">#</a> 说明</h4> <p>Keepalive 退避指数。EMQ X 如果在 <code>Keepalive * backoff * 2</code> 的时间内未收到客户端的任何数据报文，则认为客户端已心跳超时。</p> <br> <h3 id="zone-external-max-subscriptions"><a href="#zone-external-max-subscriptions" class="header-anchor">#</a> zone.external.max_subscriptions</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0</td></tr></tbody></table> <h4 id="说明-100"><a href="#说明-100" class="header-anchor">#</a> 说明</h4> <p>单个客户端允许订阅的最大主题数。<code>0</code> 表示不限制。</p> <br> <h3 id="zone-external-upgrade-qos"><a href="#zone-external-upgrade-qos" class="header-anchor">#</a> zone.external.upgrade_qos</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-101"><a href="#说明-101" class="header-anchor">#</a> 说明</h4> <p>允许 EMQ X 在投递消息时，强制升级消息的 QoS 等级为订阅的 QoS 等级。</p> <br> <h3 id="zone-external-max-inflight"><a href="#zone-external-max-inflight" class="header-anchor">#</a> zone.external.max_inflight</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>32</td></tr></tbody></table> <h4 id="说明-102"><a href="#说明-102" class="header-anchor">#</a> 说明</h4> <p>飞行窗口大小。飞行窗口用于存储未被应答的 QoS 1 和 QoS 2 消息。</p> <br> <h3 id="zone-external-retry-interval"><a href="#zone-external-retry-interval" class="header-anchor">#</a> zone.external.retry_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>30s</code></td></tr></tbody></table> <h4 id="说明-103"><a href="#说明-103" class="header-anchor">#</a> 说明</h4> <p>消息重发间隔。EMQ X 在每个间隔检查是否需要进行消息重发。</p> <br> <h3 id="zone-external-max-awaiting-rel"><a href="#zone-external-max-awaiting-rel" class="header-anchor">#</a> zone.external.max_awaiting_rel</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>100</td></tr></tbody></table> <h4 id="说明-104"><a href="#说明-104" class="header-anchor">#</a> 说明</h4> <p>QoS 2 消息的最大接收窗口，配置 EMQ X 能够同时处理多少从客户端发来的 QoS 2 消息。<code>0</code> 表示不限制。</p> <br> <h3 id="zone-external-await-rel-timeout"><a href="#zone-external-await-rel-timeout" class="header-anchor">#</a> zone.external.await_rel_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>300s</code></td></tr></tbody></table> <h4 id="说明-105"><a href="#说明-105" class="header-anchor">#</a> 说明</h4> <p>QoS 2 消息处理超时时间，在超时后若还未收到 QoS 的 PUBREL 报文，则将消息从接收窗口中丢弃。</p> <br> <h3 id="zone-external-session-expiry-interval"><a href="#zone-external-session-expiry-interval" class="header-anchor">#</a> zone.external.session_expiry_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>2h</code></td></tr></tbody></table> <h4 id="说明-106"><a href="#说明-106" class="header-anchor">#</a> 说明</h4> <p>会话默认超时时间，主要用于 MQTT v3.1 和 v3.1.1 协议。在 MQTT v5.0 中，该值通常会携带在客户端的连接报文中。</p> <br> <h3 id="zone-external-max-mqueue-len"><a href="#zone-external-max-mqueue-len" class="header-anchor">#</a> zone.external.max_mqueue_len</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-107"><a href="#说明-107" class="header-anchor">#</a> 说明</h4> <p>消息队列最大长度。当飞行窗口满，或客户端离线后，消息会被存储至该队列中。0 表示不限制。</p> <br> <h3 id="zone-external-mqueue-priorities"><a href="#zone-external-mqueue-priorities" class="header-anchor">#</a> zone.external.mqueue_priorities</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>none</code>, <code>&lt;Spec&gt;</code></td> <td><code>none</code></td></tr></tbody></table> <h4 id="说明-108"><a href="#说明-108" class="header-anchor">#</a> 说明</h4> <p>队列消息优先级配置：</p> <ul><li><code>none</code>：表示无优先级区分。</li> <li><code>&lt;Spec&gt;</code>：表示为一个消息优先表，它配置了某主题下消息的优先级。例如：
<ul><li><code>topic/1=10</code>：表示主题 <code>topic/1</code> 的消息优先级为 <code>10</code>。</li> <li><code>topic/1=10,topic/2=8</code>：表示配置了两个主题的优先级，其分别为 <code>10</code> 和 <code>8</code>。</li> <li>其中，优先级数值越高，优先等级越高。</li></ul></li></ul> <p>当消息队列长度有限时，会优先丢弃低优先级的消息。</p> <br> <h3 id="zone-external-mqueue-default-priority"><a href="#zone-external-mqueue-default-priority" class="header-anchor">#</a> zone.external.mqueue_default_priority</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>highest</code>, <code>lowest</code></td> <td><code>highest</code></td></tr></tbody></table> <h4 id="说明-109"><a href="#说明-109" class="header-anchor">#</a> 说明</h4> <p>消息默认的优先等级。</p> <br> <h3 id="zone-external-mqueue-store-qos0"><a href="#zone-external-mqueue-store-qos0" class="header-anchor">#</a> zone.external.mqueue_store_qos0</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-110"><a href="#说明-110" class="header-anchor">#</a> 说明</h4> <p>消息队列是否存储 QoS 0 消息。</p> <br> <h3 id="zone-external-enable-flapping-detect"><a href="#zone-external-enable-flapping-detect" class="header-anchor">#</a> zone.external.enable_flapping_detect</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-111"><a href="#说明-111" class="header-anchor">#</a> 说明</h4> <p>是否开启 <code>Flapping</code> 检查。</p> <br> <h3 id="zone-external-mountpoint"><a href="#zone-external-mountpoint" class="header-anchor">#</a> zone.external.mountpoint</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-112"><a href="#说明-112" class="header-anchor">#</a> 说明</h4> <p>主题挂载点。配置后，所有订阅和发布的主题在 EMQ X 都会为其增加一个前缀。</p> <p>其中可用的占位符有：</p> <ul><li><code>%c</code>：表示客户端的 Client ID。</li> <li><code>%u</code>：表示客户端的 Username。</li></ul> <p>例如，配置挂载点为 <code>user/%c/</code>。那么 Client ID 为 <code>tom</code> 的客户端在发布主题 <code>open</code> 消息时，实际在 EMQ X 中路由的主题是 <code>user/tom/open</code>。</p> <br> <h3 id="zone-external-use-username-as-clientid"><a href="#zone-external-use-username-as-clientid" class="header-anchor">#</a> zone.external.use_username_as_clientid</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-113"><a href="#说明-113" class="header-anchor">#</a> 说明</h4> <p>是否用客户端的 Username 作为其 Client ID。</p> <br> <h3 id="zone-external-ignore-loop-deliver"><a href="#zone-external-ignore-loop-deliver" class="header-anchor">#</a> zone.external.ignore_loop_deliver</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-114"><a href="#说明-114" class="header-anchor">#</a> 说明</h4> <p>是否忽略自己发送的消息。如果忽略，则表明 EMQ X 不会向消息的发送端投递此消息。</p> <br> <h3 id="zone-external-strict-mode"><a href="#zone-external-strict-mode" class="header-anchor">#</a> zone.external.strict_mode</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-115"><a href="#说明-115" class="header-anchor">#</a> 说明</h4> <p>是否开启严格检查模式。严格检查模式会更细致的检查 MQTT 报文的正确性。</p> <br> <h2 id="zoneinternal"><a href="#zoneinternal" class="header-anchor">#</a> zoneinternal</h2> <h3 id="zone-internal-allow-anonymous"><a href="#zone-internal-allow-anonymous" class="header-anchor">#</a> zone.internal.allow_anonymous</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-116"><a href="#说明-116" class="header-anchor">#</a> 说明</h4> <p>是否允许匿名用户登录系统。</p> <br> <h3 id="zone-internal-enable-stats"><a href="#zone-internal-enable-stats" class="header-anchor">#</a> zone.internal.enable_stats</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-117"><a href="#说明-117" class="header-anchor">#</a> 说明</h4> <p>是否开启客户端状态统计。</p> <br> <h3 id="zone-internal-enable-acl"><a href="#zone-internal-enable-acl" class="header-anchor">#</a> zone.internal.enable_acl</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-118"><a href="#说明-118" class="header-anchor">#</a> 说明</h4> <p>是否开启 ACL 检查。</p> <br> <h3 id="zone-internal-acl-deny-action"><a href="#zone-internal-acl-deny-action" class="header-anchor">#</a> zone.internal.acl_deny_action</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ignore</code>, <code>disconnect</code></td> <td><code>ignore</code></td></tr></tbody></table> <h4 id="说明-119"><a href="#说明-119" class="header-anchor">#</a> 说明</h4> <p>ACL 检查失败后，执行的操作。</p> <ul><li><code>ignore</code>：不做任何操作。</li> <li><code>disconnect</code>：断开连接。</li></ul> <br> <h3 id="zone-internal-force-gc-policy"><a href="#zone-internal-force-gc-policy" class="header-anchor">#</a> zone.internal.force_gc_policy</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-120"><a href="#说明-120" class="header-anchor">#</a> 说明</h4> <p>当收到一定数量的消息，或字节，就强制执行一次垃圾回收。</p> <p>格式：<code>&lt;Number&gt;|&lt;Bytes&gt;</code>。</p> <p>例如，<code>16000|16MB</code> 表示当收到 <code>16000</code> 条消息，或 <code>16MB</code> 的字节流入就强制执行一次垃圾回收。</p> <br> <h3 id="zone-internal-wildcard-subscription"><a href="#zone-internal-wildcard-subscription" class="header-anchor">#</a> zone.internal.wildcard_subscription</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-121"><a href="#说明-121" class="header-anchor">#</a> 说明</h4> <p>是否支持订阅通配主题。</p> <br> <h3 id="zone-internal-shared-subscription"><a href="#zone-internal-shared-subscription" class="header-anchor">#</a> zone.internal.shared_subscription</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-122"><a href="#说明-122" class="header-anchor">#</a> 说明</h4> <p>是否支持共享订阅。</p> <br> <h3 id="zone-internal-max-subscriptions"><a href="#zone-internal-max-subscriptions" class="header-anchor">#</a> zone.internal.max_subscriptions</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0</td></tr></tbody></table> <h4 id="说明-123"><a href="#说明-123" class="header-anchor">#</a> 说明</h4> <p>单个客户端允许订阅的最大主题数。<code>0</code> 表示不限制。</p> <br> <h3 id="zone-internal-max-inflight"><a href="#zone-internal-max-inflight" class="header-anchor">#</a> zone.internal.max_inflight</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>128</td></tr></tbody></table> <h4 id="说明-124"><a href="#说明-124" class="header-anchor">#</a> 说明</h4> <p>飞行窗口大小。飞行窗口用于存储未被应答的 QoS 1 和 QoS 2 消息。</p> <br> <h3 id="zone-internal-max-awaiting-rel"><a href="#zone-internal-max-awaiting-rel" class="header-anchor">#</a> zone.internal.max_awaiting_rel</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-125"><a href="#说明-125" class="header-anchor">#</a> 说明</h4> <p>QoS 2 消息的最大接收窗口，配置 EMQ X 能够同时处理多少从客户端发来的 QoS 2 消息。<code>0</code> 表示不限制。</p> <br> <h3 id="zone-internal-max-mqueue-len"><a href="#zone-internal-max-mqueue-len" class="header-anchor">#</a> zone.internal.max_mqueue_len</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>10000</td></tr></tbody></table> <h4 id="说明-126"><a href="#说明-126" class="header-anchor">#</a> 说明</h4> <p>消息队列最大长度。当飞行窗口满，或客户端离线后，消息会被存储至该队列中。<code>0</code> 表示不限制。</p> <br> <h3 id="zone-internal-mqueue-store-qos0"><a href="#zone-internal-mqueue-store-qos0" class="header-anchor">#</a> zone.internal.mqueue_store_qos0</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-127"><a href="#说明-127" class="header-anchor">#</a> 说明</h4> <p>消息队列是否存储 QoS 0 消息。</p> <br> <h3 id="zone-internal-enable-flapping-detect"><a href="#zone-internal-enable-flapping-detect" class="header-anchor">#</a> zone.internal.enable_flapping_detect</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-128"><a href="#说明-128" class="header-anchor">#</a> 说明</h4> <p>是否开启 <code>Flapping</code> 检查。</p> <br> <h3 id="zone-internal-force-shutdown-policy"><a href="#zone-internal-force-shutdown-policy" class="header-anchor">#</a> zone.internal.force_shutdown_policy</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-129"><a href="#说明-129" class="header-anchor">#</a> 说明</h4> <p>当进程消息队列长度，或占用的内存字节到达某值，就强制关闭该进程。</p> <p>这里的 <code>消息队列</code> 指的是 Erlang 进程的 <code>消息邮箱</code>，并非 QoS 1 和 QoS 2 的 <code>mqueue</code>。</p> <p>格式：<code>&lt;Number&gt;|&lt;Bytes&gt;</code>。</p> <p>例如，<code>32000|32MB</code> 表示当进程堆积了 <code>32000</code> 条消息，或进程占用内存达到 <code>32MB</code> 则关闭该进程。</p> <br> <h3 id="zone-internal-mountpoint"><a href="#zone-internal-mountpoint" class="header-anchor">#</a> zone.internal.mountpoint</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-130"><a href="#说明-130" class="header-anchor">#</a> 说明</h4> <p>主题挂载点。配置后，所有订阅和发布的主题在 EMQ X 都会为其增加一个前缀。</p> <p>其中可用的占位符有：</p> <ul><li><code>%c</code>：表示客户端的 Client ID。</li> <li><code>%u</code>：表示客户端的 Username。</li></ul> <p>例如，配置挂载点为 <code>user/%c/</code>。那么 Client ID 为 <code>tom</code> 的客户端在发布主题 <code>open</code> 消息时，实际在 EMQ X 中路由的主题是 <code>user/tom/open</code>。</p> <br> <h3 id="zone-internal-ignore-loop-deliver"><a href="#zone-internal-ignore-loop-deliver" class="header-anchor">#</a> zone.internal.ignore_loop_deliver</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-131"><a href="#说明-131" class="header-anchor">#</a> 说明</h4> <p>是否忽略自己发送的消息。如果忽略，则表明 EMQ X 不会向消息的发送端投递此消息。</p> <br> <h3 id="zone-internal-strict-mode"><a href="#zone-internal-strict-mode" class="header-anchor">#</a> zone.internal.strict_mode</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-132"><a href="#说明-132" class="header-anchor">#</a> 说明</h4> <p>是否开启严格检查模式。严格检查模式会更细致的检查 MQTT 报文的正确性。</p> <br> <h3 id="zone-internal-bypass-auth-plugins"><a href="#zone-internal-bypass-auth-plugins" class="header-anchor">#</a> zone.internal.bypass_auth_plugins</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-133"><a href="#说明-133" class="header-anchor">#</a> 说明</h4> <p>是否允许该 Zone 下的客户端绕过认证插件的认证步骤。</p> <br> <h2 id="tcpexternal"><a href="#tcpexternal" class="header-anchor">#</a> tcpexternal</h2> <h3 id="listener-tcp-external"><a href="#listener-tcp-external" class="header-anchor">#</a> listener.tcp.external</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>0.0.0.0:1883</code></td></tr></tbody></table> <h4 id="说明-134"><a href="#说明-134" class="header-anchor">#</a> 说明</h4> <p>配置名称为 <code>external</code> 的 MQTT/TCP 监听器的监听地址。</p> <h4 id="示例-5"><a href="#示例-5" class="header-anchor">#</a> 示例</h4> <p><code>1883</code>：表监听 IPv4 的 <code>0.0.0.0:1883</code>。
<code>127.0.0.1:1883</code>：表监听地址为 <code>127.0.0.1</code> 网卡上的 <code>1883</code> 端口。
<code>::1:1883</code>：表监听 IPv6 地址为 <code>::1</code> 网卡上的 <code>1883</code> 端口。</p> <br> <h3 id="listener-tcp-external-acceptors"><a href="#listener-tcp-external-acceptors" class="header-anchor">#</a> listener.tcp.external.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8</td></tr></tbody></table> <h4 id="说明-135"><a href="#说明-135" class="header-anchor">#</a> 说明</h4> <p>监听器的接收池大小。</p> <br> <h3 id="listener-tcp-external-max-connections"><a href="#listener-tcp-external-max-connections" class="header-anchor">#</a> listener.tcp.external.max_connections</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024000</td></tr></tbody></table> <h4 id="说明-136"><a href="#说明-136" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大并发连接数量。</p> <br> <h3 id="listener-tcp-external-max-conn-rate"><a href="#listener-tcp-external-max-conn-rate" class="header-anchor">#</a> listener.tcp.external.max_conn_rate</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-137"><a href="#说明-137" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大接入速率。单位：个/秒</p> <br> <h3 id="listener-tcp-external-active-n"><a href="#listener-tcp-external-active-n" class="header-anchor">#</a> listener.tcp.external.active_n</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>100</td></tr></tbody></table> <h4 id="说明-138"><a href="#说明-138" class="header-anchor">#</a> 说明</h4> <p>监听器持续接收 TCP 报文的次数。</p> <br> <h3 id="listener-tcp-external-zone"><a href="#listener-tcp-external-zone" class="header-anchor">#</a> listener.tcp.external.zone</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>external</code></td></tr></tbody></table> <h4 id="说明-139"><a href="#说明-139" class="header-anchor">#</a> 说明</h4> <p>监听器所属的配置域 (Zone)。</p> <br> <h3 id="listener-tcp-external-rate-limit"><a href="#listener-tcp-external-rate-limit" class="header-anchor">#</a> listener.tcp.external.rate_limit</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-140"><a href="#说明-140" class="header-anchor">#</a> 说明</h4> <p>监听器的速率限制。格式为 <code>&lt;limit&gt;,&lt;duration&gt;</code>。</p> <h4 id="示例-6"><a href="#示例-6" class="header-anchor">#</a> 示例</h4> <p><code>100KB,10s</code>：表 <em>限制 10 秒内的流入字节数不超过 100 KB</em>。</p> <br> <h3 id="listener-tcp-external-access-1"><a href="#listener-tcp-external-access-1" class="header-anchor">#</a> listener.tcp.external.access.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>allow all</code></td></tr></tbody></table> <h4 id="说明-141"><a href="#说明-141" class="header-anchor">#</a> 说明</h4> <p>监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。</p> <h4 id="示例-7"><a href="#示例-7" class="header-anchor">#</a> 示例</h4> <p><code>allow all</code>：表允许所有的 TCP 连接接入。
<code>allow 192.168.0.0/24</code>：表允许网络地址为 <code>192.168.0.0/24</code> 的 TCP 连接接入。</p> <p>同时，该配置可配置多条规则：</p> <div class="language- extra-class"><pre class="language-text"><code>listener.tcp.external.access.1 = deny 192.168.0.1
listener.tcp.external.access.2 = allow all
</code></pre></div><p>它表示，除 <code>192.168.0.1</code> 外的 TCP 连接都允许接入。</p> <br> <h3 id="listener-tcp-external-proxy-protocol"><a href="#listener-tcp-external-proxy-protocol" class="header-anchor">#</a> listener.tcp.external.proxy_protocol</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-142"><a href="#说明-142" class="header-anchor">#</a> 说明</h4> <p>监听器是否开启 <code>Proxy Protocol</code> 的支持。</p> <p>如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。</p> <p><code>Proxy Protcol</code> 参考: <a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-tcp-external-proxy-protocol-timeout"><a href="#listener-tcp-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.tcp.external.proxy_protocol_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td>-</td></tr></tbody></table> <h4 id="说明-143"><a href="#说明-143" class="header-anchor">#</a> 说明</h4> <p>设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。</p> <br> <h3 id="listener-tcp-external-peer-cert-as-username"><a href="#listener-tcp-external-peer-cert-as-username" class="header-anchor">#</a> listener.tcp.external.peer_cert_as_username</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td> <td><code>cn</code></td></tr></tbody></table> <h4 id="说明-144"><a href="#说明-144" class="header-anchor">#</a> 说明</h4> <p>使用客户端证书来覆盖 Username 字段的值。其可选值为：</p> <ul><li>cn：客户端证书的 Common Name 字段值</li> <li>dn：客户端证书的 Subject Name 字段值</li> <li>crt：DER 格式编码的客户端证书二进制</li> <li>pem：基于 DER 格式上的 base64 编码后的字符串</li> <li>md5：DER 格式证书的 MD5 哈希值</li></ul> <p>注意：在 TCP 的监听器下，该配置仅在负载均衡服务器终结 SSL 的部署情况下可以用；且负载均衡服务器需要配置
Proxy Protocol 将证书域的内容给发送至 EMQ X。例如 HAProxy 的配置可参考
<a href="http://cbonte.github.io/haproxy-dconv/1.7/configuration.html#5.2-send-proxy-v2-ssl" target="_blank" rel="noopener noreferrer">send-proxy-v2-ssl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <br> <h3 id="listener-tcp-external-peer-cert-as-clientid"><a href="#listener-tcp-external-peer-cert-as-clientid" class="header-anchor">#</a> listener.tcp.external.peer_cert_as_clientid</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td> <td><code>cn</code></td></tr></tbody></table> <h4 id="说明-145"><a href="#说明-145" class="header-anchor">#</a> 说明</h4> <p>使用客户端证书来覆盖 ClientID 字段的值。其可选值的含义同上。</p> <br> <h3 id="listener-tcp-external-backlog"><a href="#listener-tcp-external-backlog" class="header-anchor">#</a> listener.tcp.external.backlog</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024</td></tr></tbody></table> <h4 id="说明-146"><a href="#说明-146" class="header-anchor">#</a> 说明</h4> <p>TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。</p> <br> <h3 id="listener-tcp-external-send-timeout"><a href="#listener-tcp-external-send-timeout" class="header-anchor">#</a> listener.tcp.external.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-147"><a href="#说明-147" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时时间。</p> <br> <h3 id="listener-tcp-external-send-timeout-close"><a href="#listener-tcp-external-send-timeout-close" class="header-anchor">#</a> listener.tcp.external.send_timeout_close</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-148"><a href="#说明-148" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时后，是否关闭该连接。</p> <br> <h3 id="listener-tcp-external-recbuf"><a href="#listener-tcp-external-recbuf" class="header-anchor">#</a> listener.tcp.external.recbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-149"><a href="#说明-149" class="header-anchor">#</a> 说明</h4> <p>TCP 接收缓存区大小（操作系统内核级参数）</p> <p>参见：http://erlang.org/doc/man/inet.html</p> <br> <h3 id="listener-tcp-external-sndbuf"><a href="#listener-tcp-external-sndbuf" class="header-anchor">#</a> listener.tcp.external.sndbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-150"><a href="#说明-150" class="header-anchor">#</a> 说明</h4> <p>TCP 发送缓存区大小（操作系统内核级参数）。</p> <p>参见：<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-tcp-external-buffer"><a href="#listener-tcp-external-buffer" class="header-anchor">#</a> listener.tcp.external.buffer</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-151"><a href="#说明-151" class="header-anchor">#</a> 说明</h4> <p>TCP 缓冲区大小 (用户级)。</p> <p>该值建议大于等于 <code>sndbuff</code> 和 <code>recbuff</code> 的最大值，以避免一些性能问题。在不配置的情况下，它默认等于 sndbuff 和 recbuff 的最大值。</p> <p>参见：<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-tcp-external-tune-buffer"><a href="#listener-tcp-external-tune-buffer" class="header-anchor">#</a> listener.tcp.external.tune_buffer</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-152"><a href="#说明-152" class="header-anchor">#</a> 说明</h4> <p>如果打开此配置，请设置该值等于 <code>sndbuff</code> 与 <code>recbuff</code> 的最大值。</p> <br> <h3 id="listener-tcp-external-nodelay"><a href="#listener-tcp-external-nodelay" class="header-anchor">#</a> listener.tcp.external.nodelay</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-153"><a href="#说明-153" class="header-anchor">#</a> 说明</h4> <p>即 <code>TCP_NODELAY</code> 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。</p> <br> <h3 id="listener-tcp-external-reuseaddr"><a href="#listener-tcp-external-reuseaddr" class="header-anchor">#</a> listener.tcp.external.reuseaddr</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-154"><a href="#说明-154" class="header-anchor">#</a> 说明</h4> <p>即 <code>SO_REUSEADDR</code> 参数。开启该选项即允许本地重用端口，无需等待 <code>TIME_WAIT</code> 状态结束。</p> <br> <h2 id="tcpinternal"><a href="#tcpinternal" class="header-anchor">#</a> tcpinternal</h2> <h3 id="listener-tcp-internal"><a href="#listener-tcp-internal" class="header-anchor">#</a> listener.tcp.internal</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>127.0.0.1:11883</code></td></tr></tbody></table> <h4 id="说明-155"><a href="#说明-155" class="header-anchor">#</a> 说明</h4> <p>配置名称为 <code>internal</code> 的 MQTT/TCP 监听器的监听地址。</p> <h4 id="示例-8"><a href="#示例-8" class="header-anchor">#</a> 示例</h4> <p><code>11883</code>：表监听 IPv4 的 <code>0.0.0.0:11883</code>。
<code>127.0.0.1:11883</code>：表监听地址为 <code>127.0.0.1</code> 网卡上的 <code>11883</code> 端口。
<code>::1:11883</code>：表监听 IPv6 地址为 <code>::1</code> 网卡上的 <code>11883</code> 端口。</p> <br> <h3 id="listener-tcp-internal-acceptors"><a href="#listener-tcp-internal-acceptors" class="header-anchor">#</a> listener.tcp.internal.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>4</td></tr></tbody></table> <h4 id="说明-156"><a href="#说明-156" class="header-anchor">#</a> 说明</h4> <p>监听器的接收池大小。</p> <br> <h3 id="listener-tcp-internal-max-connections"><a href="#listener-tcp-internal-max-connections" class="header-anchor">#</a> listener.tcp.internal.max_connections</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024000</td></tr></tbody></table> <h4 id="说明-157"><a href="#说明-157" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大并发连接数量。</p> <br> <h3 id="listener-tcp-internal-max-conn-rate"><a href="#listener-tcp-internal-max-conn-rate" class="header-anchor">#</a> listener.tcp.internal.max_conn_rate</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-158"><a href="#说明-158" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大接入速率。单位：个/秒</p> <br> <h3 id="listener-tcp-internal-active-n"><a href="#listener-tcp-internal-active-n" class="header-anchor">#</a> listener.tcp.internal.active_n</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-159"><a href="#说明-159" class="header-anchor">#</a> 说明</h4> <p>监听器持续接收 TCP 报文的次数。</p> <br> <h3 id="listener-tcp-internal-zone"><a href="#listener-tcp-internal-zone" class="header-anchor">#</a> listener.tcp.internal.zone</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>internal</code></td></tr></tbody></table> <h4 id="说明-160"><a href="#说明-160" class="header-anchor">#</a> 说明</h4> <p>监听器所属的配置域 (Zone)。</p> <br> <h3 id="listener-tcp-internal-rate-limit"><a href="#listener-tcp-internal-rate-limit" class="header-anchor">#</a> listener.tcp.internal.rate_limit</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-161"><a href="#说明-161" class="header-anchor">#</a> 说明</h4> <p>监听器的速率限制。格式为 <code>&lt;limit&gt;,&lt;duration&gt;</code>。</p> <h4 id="示例-9"><a href="#示例-9" class="header-anchor">#</a> 示例</h4> <p><code>100KB,10s</code>：表 <em>限制 10 秒内的流入字节数不超过 100 KB</em>。</p> <h3 id="listener-tcp-internal-backlog"><a href="#listener-tcp-internal-backlog" class="header-anchor">#</a> listener.tcp.internal.backlog</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-162"><a href="#说明-162" class="header-anchor">#</a> 说明</h4> <p>TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。</p> <br> <h3 id="listener-tcp-internal-send-timeout"><a href="#listener-tcp-internal-send-timeout" class="header-anchor">#</a> listener.tcp.internal.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5s</code></td></tr></tbody></table> <h4 id="说明-163"><a href="#说明-163" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时时间。</p> <br> <h3 id="listener-tcp-internal-send-timeout-close"><a href="#listener-tcp-internal-send-timeout-close" class="header-anchor">#</a> listener.tcp.internal.send_timeout_close</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-164"><a href="#说明-164" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时后，是否关闭该连接。</p> <br> <h3 id="listener-tcp-internal-recbuf"><a href="#listener-tcp-internal-recbuf" class="header-anchor">#</a> listener.tcp.internal.recbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>64KB</code></td></tr></tbody></table> <h4 id="说明-165"><a href="#说明-165" class="header-anchor">#</a> 说明</h4> <p>TCP 接收缓存区大小（操作系统内核级参数）</p> <br> <h3 id="listener-tcp-internal-sndbuf"><a href="#listener-tcp-internal-sndbuf" class="header-anchor">#</a> listener.tcp.internal.sndbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>64KB</code></td></tr></tbody></table> <h4 id="说明-166"><a href="#说明-166" class="header-anchor">#</a> 说明</h4> <p>TCP 发送缓存区大小（操作系统内核级参数）</p> <br> <h3 id="listener-tcp-internal-buffer"><a href="#listener-tcp-internal-buffer" class="header-anchor">#</a> listener.tcp.internal.buffer</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-167"><a href="#说明-167" class="header-anchor">#</a> 说明</h4> <p>TCP 缓冲区大小 (用户级)。</p> <br> <h3 id="listener-tcp-internal-tune-buffer"><a href="#listener-tcp-internal-tune-buffer" class="header-anchor">#</a> listener.tcp.internal.tune_buffer</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-168"><a href="#说明-168" class="header-anchor">#</a> 说明</h4> <p>如果打开此配置，请设置该值等于 <code>sndbuff</code> 与 <code>recbuff</code> 的最大值。</p> <br> <h3 id="listener-tcp-internal-nodelay"><a href="#listener-tcp-internal-nodelay" class="header-anchor">#</a> listener.tcp.internal.nodelay</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-169"><a href="#说明-169" class="header-anchor">#</a> 说明</h4> <p>即 <code>TCP_NODELAY</code> 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。</p> <br> <h3 id="listener-tcp-internal-reuseaddr"><a href="#listener-tcp-internal-reuseaddr" class="header-anchor">#</a> listener.tcp.internal.reuseaddr</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-170"><a href="#说明-170" class="header-anchor">#</a> 说明</h4> <p>即 <code>SO_REUSEADDR</code> 参数。开启该选项即允许本地重用端口，无需等待 <code>TIME_WAIT</code> 状态结束。</p> <br> <h2 id="tlsexternal"><a href="#tlsexternal" class="header-anchor">#</a> tlsexternal</h2> <h3 id="listener-ssl-external"><a href="#listener-ssl-external" class="header-anchor">#</a> listener.ssl.external</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>0.0.0.0:8883</code></td></tr></tbody></table> <h4 id="说明-171"><a href="#说明-171" class="header-anchor">#</a> 说明</h4> <p>配置名称为 <code>external</code> 的 SSL 监听器。</p> <br> <h3 id="listener-ssl-external-acceptors"><a href="#listener-ssl-external-acceptors" class="header-anchor">#</a> listener.ssl.external.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>16</td></tr></tbody></table> <h4 id="说明-172"><a href="#说明-172" class="header-anchor">#</a> 说明</h4> <p>监听器的接收池大小。</p> <br> <h3 id="listener-ssl-external-max-connections"><a href="#listener-ssl-external-max-connections" class="header-anchor">#</a> listener.ssl.external.max_connections</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>102400</td></tr></tbody></table> <h4 id="说明-173"><a href="#说明-173" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大并发连接数量。</p> <br> <h3 id="listener-ssl-external-max-conn-rate"><a href="#listener-ssl-external-max-conn-rate" class="header-anchor">#</a> listener.ssl.external.max_conn_rate</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>500</td></tr></tbody></table> <h4 id="说明-174"><a href="#说明-174" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大接入速率。单位：个/秒。</p> <br> <h3 id="listener-ssl-external-active-n"><a href="#listener-ssl-external-active-n" class="header-anchor">#</a> listener.ssl.external.active_n</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>100</td></tr></tbody></table> <h4 id="说明-175"><a href="#说明-175" class="header-anchor">#</a> 说明</h4> <p>监听器持续接收 TCP 报文的次数。</p> <br> <h3 id="listener-ssl-external-zone"><a href="#listener-ssl-external-zone" class="header-anchor">#</a> listener.ssl.external.zone</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>external</code></td></tr></tbody></table> <h4 id="说明-176"><a href="#说明-176" class="header-anchor">#</a> 说明</h4> <p>监听器所属的配置组 (Zone)。</p> <br> <h3 id="listener-ssl-external-access-1"><a href="#listener-ssl-external-access-1" class="header-anchor">#</a> listener.ssl.external.access.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>allow all</code></td></tr></tbody></table> <h4 id="说明-177"><a href="#说明-177" class="header-anchor">#</a> 说明</h4> <p>监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。</p> <p>例如:</p> <p><code>allow all</code>：表允许所有的 TCP 连接接入。
<code>allow 192.168.0.0/24</code>：表允许网络地址为 <code>192.168.0.0/24</code> 的 TCP 连接接入。</p> <p>同时，该配置可配置多条规则:</p> <div class="language- extra-class"><pre class="language-text"><code>listener.ssl.external.access.1 = deny 192.168.0.1
listener.ssl.external.access.2 = allow all
</code></pre></div><br> <h3 id="listener-ssl-external-rate-limit"><a href="#listener-ssl-external-rate-limit" class="header-anchor">#</a> listener.ssl.external.rate_limit</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-178"><a href="#说明-178" class="header-anchor">#</a> 说明</h4> <p>监听器的速率限制。格式为 <code>&lt;limit&gt;,&lt;duration&gt;</code>。</p> <br> <h3 id="listener-ssl-external-proxy-protocol"><a href="#listener-ssl-external-proxy-protocol" class="header-anchor">#</a> listener.ssl.external.proxy_protocol</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-179"><a href="#说明-179" class="header-anchor">#</a> 说明</h4> <p>监听器是否开启 <code>Proxy Protocol</code> 的支持。</p> <p>如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。</p> <p><code>Proxy Protcol</code> 参考: <a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-ssl-external-proxy-protocol-timeout"><a href="#listener-ssl-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.ssl.external.proxy_protocol_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td>-</td></tr></tbody></table> <h4 id="说明-180"><a href="#说明-180" class="header-anchor">#</a> 说明</h4> <p>设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。</p> <br> <h3 id="listener-ssl-external-tls-versions"><a href="#listener-ssl-external-tls-versions" class="header-anchor">#</a> listener.ssl.external.tls_versions</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table> <h4 id="说明-181"><a href="#说明-181" class="header-anchor">#</a> 说明</h4> <p>指定服务端支持的 SSL 的版本列表。详情请参见 <a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-ssl-external-handshake-timeout"><a href="#listener-ssl-external-handshake-timeout" class="header-anchor">#</a> listener.ssl.external.handshake_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-182"><a href="#说明-182" class="header-anchor">#</a> 说明</h4> <p>指定 SSL 握手过程的超时时间。</p> <br> <h3 id="listener-ssl-external-keyfile"><a href="#listener-ssl-external-keyfile" class="header-anchor">#</a> listener.ssl.external.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/key.pem</code></td></tr></tbody></table> <h4 id="说明-183"><a href="#说明-183" class="header-anchor">#</a> 说明</h4> <p>指定 SSL 的私钥文件 (PEM)。</p> <br> <h3 id="listener-ssl-external-certfile"><a href="#listener-ssl-external-certfile" class="header-anchor">#</a> listener.ssl.external.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cert.pem</code></td></tr></tbody></table> <h4 id="说明-184"><a href="#说明-184" class="header-anchor">#</a> 说明</h4> <p>指定 SSL 的证书文件 (PEM)。</p> <br> <h3 id="listener-ssl-external-cacertfile"><a href="#listener-ssl-external-cacertfile" class="header-anchor">#</a> listener.ssl.external.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cacert.pem</code></td></tr></tbody></table> <h4 id="说明-185"><a href="#说明-185" class="header-anchor">#</a> 说明</h4> <p>指定 SSL 的 CA 证书文件 (PEM)。</p> <br> <h3 id="listener-ssl-external-dhfile"><a href="#listener-ssl-external-dhfile" class="header-anchor">#</a> listener.ssl.external.dhfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table> <h4 id="说明-186"><a href="#说明-186" class="header-anchor">#</a> 说明</h4> <p>若使用 Ephemeral Diffie-Helman 算法，指定算法使用的 key 文件。</p> <br> <h3 id="listener-ssl-external-verify"><a href="#listener-ssl-external-verify" class="header-anchor">#</a> listener.ssl.external.verify</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>verify_peer</code>, <code>verify_none</code></td> <td><code>verify_peer</code></td></tr></tbody></table> <h4 id="说明-187"><a href="#说明-187" class="header-anchor">#</a> 说明</h4> <p>指定握手过程中是否校验客户端。</p> <br> <h3 id="listener-ssl-external-fail-if-no-peer-cert"><a href="#listener-ssl-external-fail-if-no-peer-cert" class="header-anchor">#</a> listener.ssl.external.fail_if_no_peer_cert</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-188"><a href="#说明-188" class="header-anchor">#</a> 说明</h4> <p>SSL 握手过程中若客户端没有证书，是否让握手失败。</p> <br> <h3 id="listener-ssl-external-ciphers"><a href="#listener-ssl-external-ciphers" class="header-anchor">#</a> listener.ssl.external.ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table> <h4 id="说明-189"><a href="#说明-189" class="header-anchor">#</a> 说明</h4> <p>指定服务端支持的密码套件。</p> <br> <h3 id="listener-ssl-external-psk-ciphers"><a href="#listener-ssl-external-psk-ciphers" class="header-anchor">#</a> listener.ssl.external.psk_ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA</code></td></tr></tbody></table> <h4 id="说明-190"><a href="#说明-190" class="header-anchor">#</a> 说明</h4> <p>若使用 PSK 算法，指定服务端支持的 PSK Cipher 列表。注意 'listener.ssl.external.ciphers' 和 'listener.ssl.external.psk_ciphers' 只能配置一个。</p> <br> <h3 id="listener-ssl-external-secure-renegotiate"><a href="#listener-ssl-external-secure-renegotiate" class="header-anchor">#</a> listener.ssl.external.secure_renegotiate</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-191"><a href="#说明-191" class="header-anchor">#</a> 说明</h4> <p>指定在客户端不遵循 RFC 5746 的情况下，是否拒绝 renegotiation 请求。</p> <br> <h3 id="listener-ssl-external-reuse-sessions"><a href="#listener-ssl-external-reuse-sessions" class="header-anchor">#</a> listener.ssl.external.reuse_sessions</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-192"><a href="#说明-192" class="header-anchor">#</a> 说明</h4> <p>指定是否支持 SSL session 重用。详情见 <a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-ssl-external-honor-cipher-order"><a href="#listener-ssl-external-honor-cipher-order" class="header-anchor">#</a> listener.ssl.external.honor_cipher_order</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-193"><a href="#说明-193" class="header-anchor">#</a> 说明</h4> <p>指定是否使用服务端的偏好设置选择 Ciphers。</p> <br> <h3 id="listener-ssl-external-peer-cert-as-username"><a href="#listener-ssl-external-peer-cert-as-username" class="header-anchor">#</a> listener.ssl.external.peer_cert_as_username</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td> <td><code>cn</code></td></tr></tbody></table> <h4 id="说明-194"><a href="#说明-194" class="header-anchor">#</a> 说明</h4> <p>使用客户端证书来覆盖 Username 字段的值。其可选值为：</p> <ul><li>cn：客户端证书的 Common Name 字段值</li> <li>dn：客户端证书的 Subject Name 字段值</li> <li>crt：DER 格式编码的客户端证书二进制</li> <li>pem：基于 DER 格式上的 base64 编码后的字符串</li> <li>md5：DER 格式证书的 MD5 哈希值</li></ul> <p>注意 <code>listener.ssl.external.verify</code> 应当设置为 <code>verify_peer</code>。</p> <br> <h3 id="listener-ssl-external-peer-cert-as-clientid"><a href="#listener-ssl-external-peer-cert-as-clientid" class="header-anchor">#</a> listener.ssl.external.peer_cert_as_clientid</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td> <td><code>cn</code></td></tr></tbody></table> <h4 id="说明-195"><a href="#说明-195" class="header-anchor">#</a> 说明</h4> <p>使用客户端证书来覆盖 ClientID 字段的值。其可选值的含义同上。</p> <p>注意 <code>listener.ssl.external.verify</code> 应当设置为 <code>verify_peer</code>。</p> <br> <h3 id="listener-ssl-external-backlog"><a href="#listener-ssl-external-backlog" class="header-anchor">#</a> listener.ssl.external.backlog</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024</td></tr></tbody></table> <h4 id="说明-196"><a href="#说明-196" class="header-anchor">#</a> 说明</h4> <p>TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。</p> <br> <h3 id="listener-ssl-external-send-timeout"><a href="#listener-ssl-external-send-timeout" class="header-anchor">#</a> listener.ssl.external.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-197"><a href="#说明-197" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时时间。</p> <br> <h3 id="listener-ssl-external-send-timeout-close"><a href="#listener-ssl-external-send-timeout-close" class="header-anchor">#</a> listener.ssl.external.send_timeout_close</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-198"><a href="#说明-198" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时后，是否关闭该连接。</p> <br> <h3 id="listener-ssl-external-recbuf"><a href="#listener-ssl-external-recbuf" class="header-anchor">#</a> listener.ssl.external.recbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-199"><a href="#说明-199" class="header-anchor">#</a> 说明</h4> <p>TCP 接收缓存区大小（操作系统内核级参数）。</p> <p>参见：<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-ssl-external-sndbuf"><a href="#listener-ssl-external-sndbuf" class="header-anchor">#</a> listener.ssl.external.sndbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-200"><a href="#说明-200" class="header-anchor">#</a> 说明</h4> <p>TCP 发送缓存区大小（操作系统内核级参数）。</p> <p>参见：<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-ssl-external-buffer"><a href="#listener-ssl-external-buffer" class="header-anchor">#</a> listener.ssl.external.buffer</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-201"><a href="#说明-201" class="header-anchor">#</a> 说明</h4> <p>TCP 缓冲区大小 (用户级)。</p> <p>该值建议大于等于 <code>sndbuff</code> 和 <code>recbuff</code> 的最大值，以避免一些性能问题。在不配置的情况下，它默认等于 sndbuff 和 recbuff 的最大值。</p> <p>参见：<a href="http://erlang.org/doc/man/inet.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/inet.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-ssl-external-tune-buffer"><a href="#listener-ssl-external-tune-buffer" class="header-anchor">#</a> listener.ssl.external.tune_buffer</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-202"><a href="#说明-202" class="header-anchor">#</a> 说明</h4> <p>如果打开此配置，请设置该值等于 <code>sndbuff</code> 与 <code>recbuff</code> 的最大值。</p> <br> <h3 id="listener-ssl-external-nodelay"><a href="#listener-ssl-external-nodelay" class="header-anchor">#</a> listener.ssl.external.nodelay</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-203"><a href="#说明-203" class="header-anchor">#</a> 说明</h4> <p>即 <code>TCP_NODELAY</code> 参数。开启该选项即表示禁用 Nagle 算法，小包将被立即发送。</p> <br> <h3 id="listener-ssl-external-reuseaddr"><a href="#listener-ssl-external-reuseaddr" class="header-anchor">#</a> listener.ssl.external.reuseaddr</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-204"><a href="#说明-204" class="header-anchor">#</a> 说明</h4> <p>即 <code>SO_REUSEADDR</code> 参数。开启该选项即允许本地重用端口，无需等待 <code>TIME_WAIT</code> 状态结束。</p> <br> <h2 id="wsexternal"><a href="#wsexternal" class="header-anchor">#</a> wsexternal</h2> <h3 id="listener-ws-external"><a href="#listener-ws-external" class="header-anchor">#</a> listener.ws.external</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>8083</code></td></tr></tbody></table> <h4 id="说明-205"><a href="#说明-205" class="header-anchor">#</a> 说明</h4> <p>配置名称为 <code>external</code> 的 MQTT/WS 监听器的监听地址。</p> <h4 id="示例-10"><a href="#示例-10" class="header-anchor">#</a> 示例</h4> <p><code>8083</code>：表监听 IPv4 的 <code>0.0.0.0:8083</code>。
<code>127.0.0.1:8083</code>：表监听地址为 <code>127.0.0.1</code> 网卡上的 <code>8083</code> 端口。
<code>::1:8083</code>：表监听 IPv6 地址为 <code>::1</code> 网卡上的 <code>8083</code> 端口。</p> <br> <h3 id="listener-ws-external-mqtt-path"><a href="#listener-ws-external-mqtt-path" class="header-anchor">#</a> listener.ws.external.mqtt_path</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>/mqtt</code></td></tr></tbody></table> <h4 id="说明-206"><a href="#说明-206" class="header-anchor">#</a> 说明</h4> <p>WebSocket 的 MQTT 协议路径。因此 EMQ X 的 WebSocket 的地址是： <code>ws://&lt;ip&gt;:&lt;port&gt;/mqtt</code>。</p> <br> <h3 id="listener-ws-external-acceptors"><a href="#listener-ws-external-acceptors" class="header-anchor">#</a> listener.ws.external.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>4</td></tr></tbody></table> <h4 id="说明-207"><a href="#说明-207" class="header-anchor">#</a> 说明</h4> <p>监听器的接收池大小。</p> <br> <h3 id="listener-ws-external-max-connections"><a href="#listener-ws-external-max-connections" class="header-anchor">#</a> listener.ws.external.max_connections</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>102400</td></tr></tbody></table> <h4 id="说明-208"><a href="#说明-208" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大并发连接数量。</p> <br> <h3 id="listener-ws-external-max-conn-rate"><a href="#listener-ws-external-max-conn-rate" class="header-anchor">#</a> listener.ws.external.max_conn_rate</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-209"><a href="#说明-209" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大接入速率。单位：个/秒</p> <br> <h3 id="listener-ws-external-active-n"><a href="#listener-ws-external-active-n" class="header-anchor">#</a> listener.ws.external.active_n</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>100</td></tr></tbody></table> <h4 id="说明-210"><a href="#说明-210" class="header-anchor">#</a> 说明</h4> <p>监听器持续接收 TCP 报文的次数。</p> <br> <h3 id="listener-ws-external-rate-limit"><a href="#listener-ws-external-rate-limit" class="header-anchor">#</a> listener.ws.external.rate_limit</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>100KB,10s</code></td></tr></tbody></table> <h4 id="说明-211"><a href="#说明-211" class="header-anchor">#</a> 说明</h4> <p>监听器的速率限制。格式为 <code>&lt;limit&gt;,&lt;duration&gt;</code>。</p> <h4 id="示例-11"><a href="#示例-11" class="header-anchor">#</a> 示例</h4> <p><code>100KB,10s</code>：表 <em>限制 10 秒内的流入字节数不超过 100 KB</em>。</p> <br> <h3 id="listener-ws-external-zone"><a href="#listener-ws-external-zone" class="header-anchor">#</a> listener.ws.external.zone</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>external</code></td></tr></tbody></table> <h4 id="说明-212"><a href="#说明-212" class="header-anchor">#</a> 说明</h4> <p>监听器所属的配置域 (Zone)。</p> <br> <h3 id="listener-ws-external-access-1"><a href="#listener-ws-external-access-1" class="header-anchor">#</a> listener.ws.external.access.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>allow all</code></td></tr></tbody></table> <h4 id="说明-213"><a href="#说明-213" class="header-anchor">#</a> 说明</h4> <p>监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。</p> <br> <h3 id="listener-ws-external-verify-protocol-header"><a href="#listener-ws-external-verify-protocol-header" class="header-anchor">#</a> listener.ws.external.verify_protocol_header</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-214"><a href="#说明-214" class="header-anchor">#</a> 说明</h4> <p>是否验证 WebSocket 携带的 HTTP 头部是否正确。<strong>微信小程序需关闭该验证</strong>。</p> <br> <h3 id="listener-ws-external-proxy-address-header"><a href="#listener-ws-external-proxy-address-header" class="header-anchor">#</a> listener.ws.external.proxy_address_header</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>X-Forwarded-For</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-215"><a href="#说明-215" class="header-anchor">#</a> 说明</h4> <p>如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，则可打开该配置获取客户端真实的 IP 地址。</p> <br> <h3 id="listener-ws-external-proxy-port-header"><a href="#listener-ws-external-proxy-port-header" class="header-anchor">#</a> listener.ws.external.proxy_port_header</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>X-Forwarded-Port</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-216"><a href="#说明-216" class="header-anchor">#</a> 说明</h4> <p>如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，则可打开该配置获取客户端真实的端口。</p> <br> <h3 id="listener-ws-external-proxy-protocol"><a href="#listener-ws-external-proxy-protocol" class="header-anchor">#</a> listener.ws.external.proxy_protocol</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-217"><a href="#说明-217" class="header-anchor">#</a> 说明</h4> <p>监听器是否开启 <code>Proxy Protocol</code> 的支持。</p> <p>如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。</p> <p><code>Proxy Protcol</code> 参考: <a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-ws-external-proxy-protocol-timeout"><a href="#listener-ws-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.ws.external.proxy_protocol_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td>-</td></tr></tbody></table> <h4 id="说明-218"><a href="#说明-218" class="header-anchor">#</a> 说明</h4> <p>设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。</p> <br> <h3 id="listener-ws-external-backlog"><a href="#listener-ws-external-backlog" class="header-anchor">#</a> listener.ws.external.backlog</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024</td></tr></tbody></table> <h4 id="说明-219"><a href="#说明-219" class="header-anchor">#</a> 说明</h4> <p>TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。</p> <br> <h3 id="listener-ws-external-send-timeout"><a href="#listener-ws-external-send-timeout" class="header-anchor">#</a> listener.ws.external.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-220"><a href="#说明-220" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时时间。</p> <br> <h3 id="listener-ws-external-send-timeout-close"><a href="#listener-ws-external-send-timeout-close" class="header-anchor">#</a> listener.ws.external.send_timeout_close</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-221"><a href="#说明-221" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时后，是否关闭该连接。</p> <br> <h3 id="listener-ws-external-recbuf"><a href="#listener-ws-external-recbuf" class="header-anchor">#</a> listener.ws.external.recbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-222"><a href="#说明-222" class="header-anchor">#</a> 说明</h4> <p>TCP 接收缓存区大小（操作系统内核级参数）</p> <br> <h3 id="listener-ws-external-sndbuf"><a href="#listener-ws-external-sndbuf" class="header-anchor">#</a> listener.ws.external.sndbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-223"><a href="#说明-223" class="header-anchor">#</a> 说明</h4> <p>TCP 发送缓存区大小（操作系统内核级参数）</p> <br> <h3 id="listener-ws-external-buffer"><a href="#listener-ws-external-buffer" class="header-anchor">#</a> listener.ws.external.buffer</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-224"><a href="#说明-224" class="header-anchor">#</a> 说明</h4> <p>TCP 缓冲区大小 (用户级)。</p> <br> <h3 id="listener-ws-external-tune-buffer"><a href="#listener-ws-external-tune-buffer" class="header-anchor">#</a> listener.ws.external.tune_buffer</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-225"><a href="#说明-225" class="header-anchor">#</a> 说明</h4> <p>如果打开此配置，请设置该值等于 <code>sndbuff</code> 与 <code>recbuff</code> 的最大值。</p> <br> <h3 id="listener-ws-external-nodelay"><a href="#listener-ws-external-nodelay" class="header-anchor">#</a> listener.ws.external.nodelay</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-226"><a href="#说明-226" class="header-anchor">#</a> 说明</h4> <p>即 <code>TCP_NODELAY</code> 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。</p> <br> <h3 id="listener-ws-external-compress"><a href="#listener-ws-external-compress" class="header-anchor">#</a> listener.ws.external.compress</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-227"><a href="#说明-227" class="header-anchor">#</a> 说明</h4> <p>是否压缩 WebSocket 消息。压缩的实现依赖 <a href="http://www.zlib.net" target="_blank" rel="noopener noreferrer">zlib<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p><code>defalte_opts</code> 下的配置项，都属于压缩相关的参数配置，如无必要请不需要修改它。</p> <br> <h3 id="listener-ws-external-deflate-opts-level"><a href="#listener-ws-external-deflate-opts-level" class="header-anchor">#</a> listener.ws.external.deflate_opts.level</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>none</code>, <code>default</code>, <code>best_compression</code>, <code>best_speed</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-228"><a href="#说明-228" class="header-anchor">#</a> 说明</h4> <p>压缩等级。</p> <br> <h3 id="listener-ws-external-deflate-opts-mem-level"><a href="#listener-ws-external-deflate-opts-mem-level" class="header-anchor">#</a> listener.ws.external.deflate_opts.mem_level</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1 - 9</td> <td>-</td></tr></tbody></table> <h4 id="说明-229"><a href="#说明-229" class="header-anchor">#</a> 说明</h4> <p>压缩参数。内存使用限制等级，配置可开辟多少内存来参与压缩过程。</p> <p><code>1</code>：最少的内存，但会降低压缩率。
<code>9</code>：最多的内存，会提高计算速度和压缩率。</p> <p>不配置，则默认为 <code>8</code>。</p> <br> <h3 id="listener-ws-external-deflate-opts-strategy"><a href="#listener-ws-external-deflate-opts-strategy" class="header-anchor">#</a> listener.ws.external.deflate_opts.strategy</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>default</code>, <code>filtered</code>, <code>huffman_only</code>, <code>rle</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-230"><a href="#说明-230" class="header-anchor">#</a> 说明</h4> <p>压缩策略，用于调优压缩率：</p> <ul><li><code>default</code>：针对普通数据。</li> <li><code>filtered</code>：由过滤器或预测器产生的数据，适用于分布随机性强的内容。</li> <li><code>huffman_only</code>：强制使用 Huffman 算法。优于 <code>filtered</code>。</li> <li><code>rle</code>：将匹配距离限制为 1 (Run-Lenght Encoding)，比 <code>huffman_only</code> 要快，但主要用于 PNG 图片。</li></ul> <p>这些策略仅影响压缩率，不会对正确性带来任何影响。</p> <br> <h3 id="listener-ws-external-deflate-opts-server-context-takeover"><a href="#listener-ws-external-deflate-opts-server-context-takeover" class="header-anchor">#</a> listener.ws.external.deflate_opts.server_context_takeover</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>takeover</code>, <code>no_takeover</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-231"><a href="#说明-231" class="header-anchor">#</a> 说明</h4> <p>是否允许服务端的压缩上下文在帧之间传递。</p> <br> <h3 id="listener-ws-external-deflate-opts-client-context-takeover"><a href="#listener-ws-external-deflate-opts-client-context-takeover" class="header-anchor">#</a> listener.ws.external.deflate_opts.client_context_takeover</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>takeover</code>, <code>no_takeover</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-232"><a href="#说明-232" class="header-anchor">#</a> 说明</h4> <p>是否允许客户端的压缩上下文在帧之间传递。</p> <br> <h3 id="listener-ws-external-deflate-opts-server-max-window-bits"><a href="#listener-ws-external-deflate-opts-server-max-window-bits" class="header-anchor">#</a> listener.ws.external.deflate_opts.server_max_window_bits</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8 - 15</td> <td>-</td></tr></tbody></table> <h4 id="说明-233"><a href="#说明-233" class="header-anchor">#</a> 说明</h4> <p>服务端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。</p> <br> <h3 id="listener-ws-external-deflate-opts-client-max-window-bits"><a href="#listener-ws-external-deflate-opts-client-max-window-bits" class="header-anchor">#</a> listener.ws.external.deflate_opts.client_max_window_bits</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8 - 15</td> <td>-</td></tr></tbody></table> <h4 id="说明-234"><a href="#说明-234" class="header-anchor">#</a> 说明</h4> <p>客户端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。</p> <br> <h3 id="listener-ws-external-idle-timeout"><a href="#listener-ws-external-idle-timeout" class="header-anchor">#</a> listener.ws.external.idle_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td>-</td></tr></tbody></table> <h4 id="说明-235"><a href="#说明-235" class="header-anchor">#</a> 说明</h4> <p>TCP 连接建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。</p> <br> <h3 id="listener-ws-external-max-frame-size"><a href="#listener-ws-external-max-frame-size" class="header-anchor">#</a> listener.ws.external.max_frame_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>-</td></tr></tbody></table> <h4 id="说明-236"><a href="#说明-236" class="header-anchor">#</a> 说明</h4> <p>允许的单个 MQTT 报文长度的最大值。</p> <br> <h2 id="wssexternal"><a href="#wssexternal" class="header-anchor">#</a> wssexternal</h2> <h3 id="listener-wss-external"><a href="#listener-wss-external" class="header-anchor">#</a> listener.wss.external</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>0.0.0.0:8084</code></td></tr></tbody></table> <h4 id="说明-237"><a href="#说明-237" class="header-anchor">#</a> 说明</h4> <p>配置名称为 <code>external</code> 的 WSS (MQTT/WebSocket/SSL) 监听器。</p> <br> <h3 id="listener-wss-external-mqtt-path"><a href="#listener-wss-external-mqtt-path" class="header-anchor">#</a> listener.wss.external.mqtt_path</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>/mqtt</code></td></tr></tbody></table> <h4 id="说明-238"><a href="#说明-238" class="header-anchor">#</a> 说明</h4> <p>WebSocket 的 URL Path。</p> <br> <h3 id="listener-wss-external-acceptors"><a href="#listener-wss-external-acceptors" class="header-anchor">#</a> listener.wss.external.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>4</td></tr></tbody></table> <h4 id="说明-239"><a href="#说明-239" class="header-anchor">#</a> 说明</h4> <p>监听器的接收池大小。</p> <br> <h3 id="listener-wss-external-max-connections"><a href="#listener-wss-external-max-connections" class="header-anchor">#</a> listener.wss.external.max_connections</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>16</td></tr></tbody></table> <h4 id="说明-240"><a href="#说明-240" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大并发连接数量。</p> <br> <h3 id="listener-wss-external-max-conn-rate"><a href="#listener-wss-external-max-conn-rate" class="header-anchor">#</a> listener.wss.external.max_conn_rate</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-241"><a href="#说明-241" class="header-anchor">#</a> 说明</h4> <p>监听器允许的最大接入速率。单位：个/秒。</p> <br> <h3 id="listener-wss-external-active-n"><a href="#listener-wss-external-active-n" class="header-anchor">#</a> listener.wss.external.active_n</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>100</td></tr></tbody></table> <h4 id="说明-242"><a href="#说明-242" class="header-anchor">#</a> 说明</h4> <p>监听器持续接收 TCP 报文的次数。</p> <br> <h3 id="listener-wss-external-rate-limit"><a href="#listener-wss-external-rate-limit" class="header-anchor">#</a> listener.wss.external.rate_limit</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-243"><a href="#说明-243" class="header-anchor">#</a> 说明</h4> <p>监听器的速率限制。格式为 <code>&lt;limit&gt;,&lt;duration&gt;</code>。</p> <br> <h3 id="listener-wss-external-zone"><a href="#listener-wss-external-zone" class="header-anchor">#</a> listener.wss.external.zone</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>external</code></td></tr></tbody></table> <h4 id="说明-244"><a href="#说明-244" class="header-anchor">#</a> 说明</h4> <p>监听器所属的配置组 (Zone)。</p> <br> <h3 id="listener-wss-external-access-1"><a href="#listener-wss-external-access-1" class="header-anchor">#</a> listener.wss.external.access.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>allow all</code></td></tr></tbody></table> <h4 id="说明-245"><a href="#说明-245" class="header-anchor">#</a> 说明</h4> <p>监听器的 ACL 规则列表。它用于设置连接层的白/黑名单。</p> <p>例如:</p> <p><code>allow all</code>：表允许所有的 TCP 连接接入。
<code>allow 192.168.0.0/24</code>：表允许网络地址为 <code>192.168.0.0/24</code> 的 TCP 连接接入。</p> <p>同时，该配置可配置多条规则:</p> <div class="language- extra-class"><pre class="language-text"><code>listener.wss.external.access.1 = deny 192.168.0.1
listener.wss.external.access.2 = allow all
</code></pre></div><br> <h3 id="listener-wss-external-verify-protocol-header"><a href="#listener-wss-external-verify-protocol-header" class="header-anchor">#</a> listener.wss.external.verify_protocol_header</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-246"><a href="#说明-246" class="header-anchor">#</a> 说明</h4> <p>是否验证 WebSocket 携带的 HTTP 头部是否正确。<strong>微信小程序需关闭该验证</strong>。</p> <br> <h3 id="listener-wss-external-proxy-address-header"><a href="#listener-wss-external-proxy-address-header" class="header-anchor">#</a> listener.wss.external.proxy_address_header</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>X-Forwarded-For</code></td></tr></tbody></table> <h4 id="说明-247"><a href="#说明-247" class="header-anchor">#</a> 说明</h4> <p>如果 EMQ X 集群部署在 HAProxy 或 Nginx，则可打开该配置获取客户端真实的 IP 地址。</p> <br> <h3 id="listener-wss-external-proxy-protocol"><a href="#listener-wss-external-proxy-protocol" class="header-anchor">#</a> listener.wss.external.proxy_protocol</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-248"><a href="#说明-248" class="header-anchor">#</a> 说明</h4> <p>监听器是否开启 <code>Proxy Protocol</code> 的支持。</p> <p>如果 EMQ X 集群部署在 HAProxy 或 Nginx 后，且需要拿到客户端真实的源 IP 地址与端口，则需打开此配置。</p> <p><code>Proxy Protcol</code> 参考：<a href="https://www.haproxy.com/blog/haproxy/proxy-protocol" target="_blank" rel="noopener noreferrer">https://www.haproxy.com/blog/haproxy/proxy-protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-wss-external-proxy-protocol-timeout"><a href="#listener-wss-external-proxy-protocol-timeout" class="header-anchor">#</a> listener.wss.external.proxy_protocol_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td>-</td></tr></tbody></table> <h4 id="说明-249"><a href="#说明-249" class="header-anchor">#</a> 说明</h4> <p>设置 Proxy Protocol 解析的超时时间。如果该时间内没收到 Proxy Protocol 的报文，EMQ X 会关闭其连接。</p> <br> <h3 id="listener-wss-external-tls-versions"><a href="#listener-wss-external-tls-versions" class="header-anchor">#</a> listener.wss.external.tls_versions</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table> <h4 id="说明-250"><a href="#说明-250" class="header-anchor">#</a> 说明</h4> <p>指定服务端支持的 SSL 的版本列表。详情请参见 <a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-wss-external-keyfile"><a href="#listener-wss-external-keyfile" class="header-anchor">#</a> listener.wss.external.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/key.pem</code></td></tr></tbody></table> <h4 id="说明-251"><a href="#说明-251" class="header-anchor">#</a> 说明</h4> <p>指定 SSL 的私钥文件 (PEM)。</p> <br> <h3 id="listener-wss-external-certfile"><a href="#listener-wss-external-certfile" class="header-anchor">#</a> listener.wss.external.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cert.pem</code></td></tr></tbody></table> <h4 id="说明-252"><a href="#说明-252" class="header-anchor">#</a> 说明</h4> <p>指定 SSL 的证书文件 (PEM)。</p> <br> <h3 id="listener-wss-external-cacertfile"><a href="#listener-wss-external-cacertfile" class="header-anchor">#</a> listener.wss.external.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cacert.pem</code></td></tr></tbody></table> <h4 id="说明-253"><a href="#说明-253" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定 SSL 的 CA 证书文件 (PEM)。</p> <br> <h3 id="listener-wss-external-dhfile"><a href="#listener-wss-external-dhfile" class="header-anchor">#</a> listener.wss.external.dhfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table> <h4 id="说明-254"><a href="#说明-254" class="header-anchor">#</a> 说明</h4> <p>若使用 Ephemeral Diffie-Helman 算法，指定算法使用的 key 文件。</p> <br> <h3 id="listener-wss-external-verify"><a href="#listener-wss-external-verify" class="header-anchor">#</a> listener.wss.external.verify</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>verify_peer</code>, <code>verify_none</code></td> <td><code>verify_peer</code></td></tr></tbody></table> <h4 id="说明-255"><a href="#说明-255" class="header-anchor">#</a> 说明</h4> <p>指定握手过程中是否校验客户端。</p> <br> <h3 id="listener-wss-external-fail-if-no-peer-cert"><a href="#listener-wss-external-fail-if-no-peer-cert" class="header-anchor">#</a> listener.wss.external.fail_if_no_peer_cert</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-256"><a href="#说明-256" class="header-anchor">#</a> 说明</h4> <p>SSL 握手过程中若客户端没有证书，是否让握手失败。</p> <br> <h3 id="listener-wss-external-ciphers"><a href="#listener-wss-external-ciphers" class="header-anchor">#</a> listener.wss.external.ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table> <h4 id="说明-257"><a href="#说明-257" class="header-anchor">#</a> 说明</h4> <p>指定服务器支持的密码套件。</p> <br> <h3 id="listener-wss-external-psk-ciphers"><a href="#listener-wss-external-psk-ciphers" class="header-anchor">#</a> listener.wss.external.psk_ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA</code></td></tr></tbody></table> <h4 id="说明-258"><a href="#说明-258" class="header-anchor">#</a> 说明</h4> <p>若使用 PSK 算法，指定服务端支持的 PSK Cipher 列表。注意 'listener.wss.external.ciphers' 和 'listener.wss.external.psk_ciphers' 只能配置一个。</p> <br> <h3 id="listener-wss-external-secure-renegotiate"><a href="#listener-wss-external-secure-renegotiate" class="header-anchor">#</a> listener.wss.external.secure_renegotiate</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-259"><a href="#说明-259" class="header-anchor">#</a> 说明</h4> <p>指定在客户端不遵循 RFC 5746 的情况下，是否拒绝 renegotiation 请求。</p> <br> <h3 id="listener-wss-external-reuse-sessions"><a href="#listener-wss-external-reuse-sessions" class="header-anchor">#</a> listener.wss.external.reuse_sessions</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-260"><a href="#说明-260" class="header-anchor">#</a> 说明</h4> <p>指定是否支持 SSL session 重用。详情见 <a href="http://erlang.org/doc/man/ssl.html" target="_blank" rel="noopener noreferrer">http://erlang.org/doc/man/ssl.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <br> <h3 id="listener-wss-external-honor-cipher-order"><a href="#listener-wss-external-honor-cipher-order" class="header-anchor">#</a> listener.wss.external.honor_cipher_order</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-261"><a href="#说明-261" class="header-anchor">#</a> 说明</h4> <p>指定是否使用服务端的偏好设置选择 Ciphers。</p> <br> <h3 id="listener-wss-external-peer-cert-as-username"><a href="#listener-wss-external-peer-cert-as-username" class="header-anchor">#</a> listener.wss.external.peer_cert_as_username</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td> <td><code>cn</code></td></tr></tbody></table> <h4 id="说明-262"><a href="#说明-262" class="header-anchor">#</a> 说明</h4> <p>使用客户端证书来覆盖 Username 字段的值。其可选值为：</p> <ul><li>cn：客户端证书的 Common Name 字段值</li> <li>dn：客户端证书的 Subject Name 字段值</li> <li>crt：DER 格式编码的客户端证书二进制</li> <li>pem：基于 DER 格式上的 base64 编码后的字符串</li> <li>md5：DER 格式证书的 MD5 哈希值</li></ul> <p>注意 <code>listener.wss.external.verify</code> 应当设置为 <code>verify_peer</code>。</p> <br> <h3 id="listener-wss-external-peer-cert-as-clientid"><a href="#listener-wss-external-peer-cert-as-clientid" class="header-anchor">#</a> listener.wss.external.peer_cert_as_clientid</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>cn</code>, <code>dn</code>, <code>crt</code>, <code>pem</code>, <code>md5</code></td> <td><code>cn</code></td></tr></tbody></table> <h4 id="说明-263"><a href="#说明-263" class="header-anchor">#</a> 说明</h4> <p>使用客户端证书来覆盖 ClientID 字段的值。其可选值的含义同上。</p> <p>注意 <code>listener.wss.external.verify</code> 应当设置为 <code>verify_peer</code>。</p> <br> <h3 id="listener-wss-external-backlog"><a href="#listener-wss-external-backlog" class="header-anchor">#</a> listener.wss.external.backlog</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024</td></tr></tbody></table> <h4 id="说明-264"><a href="#说明-264" class="header-anchor">#</a> 说明</h4> <p>TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。</p> <br> <h3 id="listener-wss-external-send-timeout"><a href="#listener-wss-external-send-timeout" class="header-anchor">#</a> listener.wss.external.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-265"><a href="#说明-265" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时时间。</p> <br> <h3 id="listener-wss-external-send-timeout-close"><a href="#listener-wss-external-send-timeout-close" class="header-anchor">#</a> listener.wss.external.send_timeout_close</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-266"><a href="#说明-266" class="header-anchor">#</a> 说明</h4> <p>TCP 报文发送超时后，是否关闭该连接。</p> <br> <h3 id="listener-wss-external-recbuf"><a href="#listener-wss-external-recbuf" class="header-anchor">#</a> listener.wss.external.recbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-267"><a href="#说明-267" class="header-anchor">#</a> 说明</h4> <p>TCP 接收缓存区大小（操作系统内核级参数）</p> <p>参见：http://erlang.org/doc/man/inet.html</p> <br> <h3 id="listener-wss-external-sndbuf"><a href="#listener-wss-external-sndbuf" class="header-anchor">#</a> listener.wss.external.sndbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-268"><a href="#说明-268" class="header-anchor">#</a> 说明</h4> <p>TCP 发送缓存区大小（操作系统内核级参数）</p> <p>参见：http://erlang.org/doc/man/inet.html</p> <br> <h3 id="listener-wss-external-buffer"><a href="#listener-wss-external-buffer" class="header-anchor">#</a> listener.wss.external.buffer</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td>-</td></tr></tbody></table> <h4 id="说明-269"><a href="#说明-269" class="header-anchor">#</a> 说明</h4> <p>TCP 缓冲区大小 (用户级)。</p> <p>该值建议大于等于 <code>sndbuff</code> 和 <code>recbuff</code> 的最大值，以避免一些性能问题。在不配置的情况下，它默认等于 sndbuff 和 recbuff 的最大值</p> <p>参见：http://erlang.org/doc/man/inet.html</p> <br> <h3 id="listener-wss-external-tune-buffer"><a href="#listener-wss-external-tune-buffer" class="header-anchor">#</a> listener.wss.external.tune_buffer</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-270"><a href="#说明-270" class="header-anchor">#</a> 说明</h4> <p>如果打开此配置，请设置该值等于 <code>sndbuff</code> 与 <code>recbuff</code> 的最大值。</p> <br> <h3 id="listener-wss-external-nodelay"><a href="#listener-wss-external-nodelay" class="header-anchor">#</a> listener.wss.external.nodelay</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-271"><a href="#说明-271" class="header-anchor">#</a> 说明</h4> <p>即 <code>TCP_NODELAY</code> 参数。开启该选项即允许小的 TCP 数据报文将会立即发送。</p> <br> <h3 id="listener-wss-external-compress"><a href="#listener-wss-external-compress" class="header-anchor">#</a> listener.wss.external.compress</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-272"><a href="#说明-272" class="header-anchor">#</a> 说明</h4> <p>该选项若设置为 true，Websocket 消息将会被压缩。</p> <br> <h3 id="listener-wss-external-deflate-opts-level"><a href="#listener-wss-external-deflate-opts-level" class="header-anchor">#</a> listener.wss.external.deflate_opts.level</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>none</code>, <code>default</code>, <code>best_compression</code>, <code>best_speed</code></td> <td><code>default</code></td></tr></tbody></table> <h4 id="说明-273"><a href="#说明-273" class="header-anchor">#</a> 说明</h4> <p>压缩等级。</p> <br> <h3 id="listener-wss-external-deflate-opts-mem-level"><a href="#listener-wss-external-deflate-opts-mem-level" class="header-anchor">#</a> listener.wss.external.deflate_opts.mem_level</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1 - 9</td> <td>-</td></tr></tbody></table> <h4 id="说明-274"><a href="#说明-274" class="header-anchor">#</a> 说明</h4> <p>压缩参数。内存使用限制等级，配置可开辟多少内存来参与压缩过程。</p> <p><code>1</code>：最少的内存，但会降低压缩率。
<code>9</code>：最多的内存，会提高计算速度和压缩率。</p> <p>不配置，则默认为 <code>8</code>。</p> <br> <h3 id="listener-wss-external-deflate-opts-strategy"><a href="#listener-wss-external-deflate-opts-strategy" class="header-anchor">#</a> listener.wss.external.deflate_opts.strategy</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>default</code>, <code>filtered</code>, <code>huffman_only</code>, <code>rle</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-275"><a href="#说明-275" class="header-anchor">#</a> 说明</h4> <p>压缩策略，用于调优压缩率：</p> <ul><li><code>default</code>：针对普通数据。</li> <li><code>filtered</code>：由过滤器或预测器产生的数据，适用于分布随机性强的内容。</li> <li><code>huffman_only</code>：强制使用 Huffman 算法。优于 <code>filtered</code>。</li> <li><code>rle</code>：将匹配距离限制为 1 (Run-Lenght Encoding)，比 <code>huffman_only</code> 要快，但主要用于 PNG 图片。</li></ul> <p>这些策略仅影响压缩率，不会对正确性带来任何影响。</p> <br> <h3 id="listener-wss-external-deflate-opts-server-context-takeover"><a href="#listener-wss-external-deflate-opts-server-context-takeover" class="header-anchor">#</a> listener.wss.external.deflate_opts.server_context_takeover</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>takeover</code>, <code>no_takeover</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-276"><a href="#说明-276" class="header-anchor">#</a> 说明</h4> <p>是否允许服务端的压缩上下文在帧之间传递。</p> <br> <h3 id="listener-wss-external-deflate-opts-client-context-takeover"><a href="#listener-wss-external-deflate-opts-client-context-takeover" class="header-anchor">#</a> listener.wss.external.deflate_opts.client_context_takeover</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>takeover</code>, <code>no_takeover</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-277"><a href="#说明-277" class="header-anchor">#</a> 说明</h4> <p>是否允许客户端的压缩上下文在帧之间传递。</p> <br> <h3 id="listener-wss-external-deflate-opts-server-max-window-bits"><a href="#listener-wss-external-deflate-opts-server-max-window-bits" class="header-anchor">#</a> listener.wss.external.deflate_opts.server_max_window_bits</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8 - 15</td> <td>-</td></tr></tbody></table> <h4 id="说明-278"><a href="#说明-278" class="header-anchor">#</a> 说明</h4> <p>服务端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。</p> <br> <h3 id="listener-wss-external-deflate-opts-client-max-window-bits"><a href="#listener-wss-external-deflate-opts-client-max-window-bits" class="header-anchor">#</a> listener.wss.external.deflate_opts.client_max_window_bits</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8 - 15</td> <td>-</td></tr></tbody></table> <h4 id="说明-279"><a href="#说明-279" class="header-anchor">#</a> 说明</h4> <p>客户端最大窗口值。设置一个较大的值会有更好的压缩率，但会额外的消耗内存。</p> <br> <h3 id="listener-wss-external-idle-timeout"><a href="#listener-wss-external-idle-timeout" class="header-anchor">#</a> listener.wss.external.idle_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td>-</td></tr></tbody></table> <h4 id="说明-280"><a href="#说明-280" class="header-anchor">#</a> 说明</h4> <p>TCP 连接建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。</p> <br> <h3 id="listener-wss-external-max-frame-size"><a href="#listener-wss-external-max-frame-size" class="header-anchor">#</a> listener.wss.external.max_frame_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>-</td></tr></tbody></table> <h4 id="说明-281"><a href="#说明-281" class="header-anchor">#</a> 说明</h4> <p>允许的单个 MQTT 报文长度的最大值。</p> <br> <h2 id="plugins"><a href="#plugins" class="header-anchor">#</a> plugins</h2> <h3 id="plugins-etc-dir"><a href="#plugins-etc-dir" class="header-anchor">#</a> plugins.etc_dir</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/plugins</code></td></tr></tbody></table> <h4 id="说明-282"><a href="#说明-282" class="header-anchor">#</a> 说明</h4> <p>插件的配置目录。</p> <br> <h3 id="plugins-loaded-file"><a href="#plugins-loaded-file" class="header-anchor">#</a> plugins.loaded_file</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/loaded_plugins</code></td></tr></tbody></table> <h4 id="说明-283"><a href="#说明-283" class="header-anchor">#</a> 说明</h4> <p>插件启动列表的配置文件路径。</p> <br> <h3 id="plugins-expand-plugins-dir"><a href="#plugins-expand-plugins-dir" class="header-anchor">#</a> plugins.expand_plugins_dir</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>plugins/</code></td></tr></tbody></table> <h4 id="说明-284"><a href="#说明-284" class="header-anchor">#</a> 说明</h4> <p>外部插件存放目录。</p> <br> <h2 id="broker"><a href="#broker" class="header-anchor">#</a> broker</h2> <h3 id="broker-sys-interval"><a href="#broker-sys-interval" class="header-anchor">#</a> broker.sys_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>1m</code></td></tr></tbody></table> <h4 id="说明-285"><a href="#说明-285" class="header-anchor">#</a> 说明</h4> <p>设置系统主题 (<code>$SYS</code>) 消息的发布间隔。</p> <br> <h3 id="broker-sys-heartbeat"><a href="#broker-sys-heartbeat" class="header-anchor">#</a> broker.sys_heartbeat</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>30s</code></td></tr></tbody></table> <h4 id="说明-286"><a href="#说明-286" class="header-anchor">#</a> 说明</h4> <p>设置系统心跳消息的发布间隔。系统心跳消息包括下面两个主题：</p> <ul><li>&quot;$SYS/brokers/<node>/uptime&quot;</node></li> <li>&quot;$SYS/brokers/<node>/datetime&quot;</node></li></ul> <br> <h3 id="broker-enable-session-registry"><a href="#broker-enable-session-registry" class="header-anchor">#</a> broker.enable_session_registry</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-287"><a href="#说明-287" class="header-anchor">#</a> 说明</h4> <p>启用或关闭全局会话注册。</p> <br> <h3 id="broker-session-locking-strategy"><a href="#broker-session-locking-strategy" class="header-anchor">#</a> broker.session_locking_strategy</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>local</code>, <code>one</code>, <code>quorum</code>, <code>all</code></td> <td><code>quorum</code></td></tr></tbody></table> <h4 id="说明-288"><a href="#说明-288" class="header-anchor">#</a> 说明</h4> <p>设置会话集群锁的类型。会话的集群锁用来防止同一个客户端在多个不同节点上创建多个会话，常见于客户端频繁切换节点登录的情况。</p> <br> <h3 id="broker-shared-subscription-strategy"><a href="#broker-shared-subscription-strategy" class="header-anchor">#</a> broker.shared_subscription_strategy</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>random</code>, <code>round_robin</code>, <code>sticky</code>, <code>hash_clientid</code>, <code>hash_topic</code></td> <td><code>random</code></td></tr></tbody></table> <h4 id="说明-289"><a href="#说明-289" class="header-anchor">#</a> 说明</h4> <p>设置共享订阅的分发策略。可选值为:</p> <ul><li><strong>random</strong>: 在所有订阅者中随机选择</li> <li><strong>round_robin</strong>: 按照一个固定的顺序选择下一个订阅者</li> <li><strong>sticky</strong>: 首次分发时随机选择一个订阅者，后续消息一直发往这一个订阅者</li> <li><strong>hash_clientid</strong>: 按照发布者 ClientID 的哈希值</li> <li><strong>hash_topic</strong>: 按照源消息主题的哈希值</li></ul> <br> <h3 id="broker-shared-dispatch-ack-enabled"><a href="#broker-shared-dispatch-ack-enabled" class="header-anchor">#</a> broker.shared_dispatch_ack_enabled</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-290"><a href="#说明-290" class="header-anchor">#</a> 说明</h4> <p>开启或关闭共享订阅对于 qos1/qos2 消息的 ACK 检查功能。开启后，如果投递到某个订阅者但收不到ACK，将尝试投递给订阅组里的下一个订阅者。</p> <br> <h3 id="broker-route-batch-clean"><a href="#broker-route-batch-clean" class="header-anchor">#</a> broker.route_batch_clean</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-291"><a href="#说明-291" class="header-anchor">#</a> 说明</h4> <p>开启或关闭批量清理路由信息。批量清理路由可用在短时间内大量客户端掉线的情况，以提高清理效率。</p> <br> <h2 id="monitor"><a href="#monitor" class="header-anchor">#</a> monitor</h2> <h3 id="sysmon-long-gc"><a href="#sysmon-long-gc" class="header-anchor">#</a> sysmon.long_gc</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>0ms</code></td></tr></tbody></table> <h4 id="说明-292"><a href="#说明-292" class="header-anchor">#</a> 说明</h4> <p>启用垃圾回收时间监控并在回收时间超过设定值时触发告警，0 表示禁用此监控。</p> <br> <h3 id="sysmon-long-schedule"><a href="#sysmon-long-schedule" class="header-anchor">#</a> sysmon.long_schedule</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>240ms</code></td></tr></tbody></table> <h4 id="说明-293"><a href="#说明-293" class="header-anchor">#</a> 说明</h4> <p>启用进程调度时间监控并在调度时间超过设定值时触发告警，0 表示禁用此监控。</p> <br> <h3 id="sysmon-large-heap"><a href="#sysmon-large-heap" class="header-anchor">#</a> sysmon.large_heap</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>8MB</code></td></tr></tbody></table> <h4 id="说明-294"><a href="#说明-294" class="header-anchor">#</a> 说明</h4> <p>启用堆栈大小监控并在进程执行垃圾回收后堆栈大小仍大于设定值时触发告警，0 表示禁用此监控。</p> <br> <h3 id="sysmon-busy-port"><a href="#sysmon-busy-port" class="header-anchor">#</a> sysmon.busy_port</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-295"><a href="#说明-295" class="header-anchor">#</a> 说明</h4> <p>指定是否启用进程间消息通道拥塞监控。</p> <br> <h3 id="sysmon-busy-dist-port"><a href="#sysmon-busy-dist-port" class="header-anchor">#</a> sysmon.busy_dist_port</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-296"><a href="#说明-296" class="header-anchor">#</a> 说明</h4> <p>指定是否启用集群 RPC 通道拥塞监控。</p> <br> <h3 id="os-mon-cpu-check-interval"><a href="#os-mon-cpu-check-interval" class="header-anchor">#</a> os_mon.cpu_check_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>60s</code></td></tr></tbody></table> <h4 id="说明-297"><a href="#说明-297" class="header-anchor">#</a> 说明</h4> <p>CPU 占用率检查周期。</p> <br> <h3 id="os-mon-cpu-high-watermark"><a href="#os-mon-cpu-high-watermark" class="header-anchor">#</a> os_mon.cpu_high_watermark</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>percent</td> <td><code>80%</code></td></tr></tbody></table> <h4 id="说明-298"><a href="#说明-298" class="header-anchor">#</a> 说明</h4> <p>CPU 占用率超过 <code>os_mon.cpu_high_watermark</code> 时将触发告警。</p> <br> <h3 id="os-mon-cpu-low-watermark"><a href="#os-mon-cpu-low-watermark" class="header-anchor">#</a> os_mon.cpu_low_watermark</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>percent</td> <td><code>60%</code></td></tr></tbody></table> <h4 id="说明-299"><a href="#说明-299" class="header-anchor">#</a> 说明</h4> <p>CPU 占用率回落到 <code>os_mon.cpu_low_watermark</code> 以下时将清除告警。</p> <br> <h3 id="os-mon-mem-check-interval"><a href="#os-mon-mem-check-interval" class="header-anchor">#</a> os_mon.mem_check_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>60s</code></td></tr></tbody></table> <h4 id="说明-300"><a href="#说明-300" class="header-anchor">#</a> 说明</h4> <p>内存占用率检查周期。</p> <br> <h3 id="os-mon-sysmem-high-watermark"><a href="#os-mon-sysmem-high-watermark" class="header-anchor">#</a> os_mon.sysmem_high_watermark</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>percent</td> <td><code>70%</code></td></tr></tbody></table> <h4 id="说明-301"><a href="#说明-301" class="header-anchor">#</a> 说明</h4> <p>EMQ X 为所有进程分配的内存占系统内存的百分比超过 <code>os_mon.sysmem_high_watermark</code> 时将触发告警。</p> <br> <h3 id="os-mon-procmem-high-watermark"><a href="#os-mon-procmem-high-watermark" class="header-anchor">#</a> os_mon.procmem_high_watermark</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>percent</td> <td><code>5%</code></td></tr></tbody></table> <h4 id="说明-302"><a href="#说明-302" class="header-anchor">#</a> 说明</h4> <p>EMQ X 为单个进程分配的内存占系统内存的百分比超过 <code>os_mon.procmem_high_watermark</code> 时将触发告警。</p> <br> <h3 id="vm-mon-check-interval"><a href="#vm-mon-check-interval" class="header-anchor">#</a> vm_mon.check_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>30s</code></td></tr></tbody></table> <h4 id="说明-303"><a href="#说明-303" class="header-anchor">#</a> 说明</h4> <p>进程数量检查周期。</p> <br> <h3 id="vm-mon-process-high-watermark"><a href="#vm-mon-process-high-watermark" class="header-anchor">#</a> vm_mon.process_high_watermark</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>percent</td> <td><code>80%</code></td></tr></tbody></table> <h4 id="说明-304"><a href="#说明-304" class="header-anchor">#</a> 说明</h4> <p>当前进程数量占进程最大数量的百分比超过 <code>vm_mon.process_high_watermark</code> 时将触发告警。进程最大数量由 <code>node.process_limit</code> 配置项决定。</p> <br> <h3 id="vm-mon-process-low-watermark"><a href="#vm-mon-process-low-watermark" class="header-anchor">#</a> vm_mon.process_low_watermark</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>percent</td> <td><code>60%</code></td></tr></tbody></table> <h4 id="说明-305"><a href="#说明-305" class="header-anchor">#</a> 说明</h4> <p>当前进程数量占进程最大数量的百分比回落到 <code>vm_mon.process_low_watermark</code> 以下时将触发告警。进程最大数量由 <code>node.process_limit</code> 配置项决定。</p> <br> <h2 id="emqx-auth-clientid"><a href="#emqx-auth-clientid" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-clientid" target="_blank" rel="noopener noreferrer">emqx-auth-clientid<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-client-clientid-auth-client-password"><a href="#auth-client-clientid-auth-client-password" class="header-anchor">#</a> auth.client.<Number>.clientid<code>&amp;</code>auth.client.<Number>.password</Number></Number></h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-306"><a href="#说明-306" class="header-anchor">#</a> 说明</h4> <p>客户端的认证数据，其中 <code>auth.client.&lt;Number&gt;.password</code> 为明文密码。<code>&lt;Number&gt;</code> 相同的 <code>auth.client.&lt;Number&gt;.clientid</code> 与 <code>auth.client.&lt;Number&gt;.password</code> 必须成对出现。<code>&lt;Number&gt;</code> 是一个整型数字，用于区分多个客户端的认证数据。</p> <br> <h3 id="auth-client-password-hash"><a href="#auth-client-password-hash" class="header-anchor">#</a> auth.client.password_hash</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>plain</code>, <code>md5</code>, <code>sha</code>, <code>sha256</code></td> <td><code>sha256</code></td></tr></tbody></table> <h4 id="说明-307"><a href="#说明-307" class="header-anchor">#</a> 说明</h4> <p>密码存储至数据库时使用的 Hash 算法。以下选项可用：</p> <p><code>plain</code></p> <p>密码以明文形式存储。</p> <p><code>md5</code></p> <p>密码使用 MD5 算法加密后存储。</p> <p><code>sha</code></p> <p>密码使用 SHA-1 算法加密后存储。</p> <p><code>sha256</code></p> <p>密码使用 SHA-256 算法加密后存储。</p> <br> <h2 id="emqx-auth-http"><a href="#emqx-auth-http" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-http" target="_blank" rel="noopener noreferrer">emqx-auth-http<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-http-auth-req"><a href="#auth-http-auth-req" class="header-anchor">#</a> auth.http.auth_req</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>http://127.0.0.1:8991/mqtt/auth</code></td></tr></tbody></table> <h4 id="说明-308"><a href="#说明-308" class="header-anchor">#</a> 说明</h4> <p>指定认证请求的目标 URL。</p> <br> <h3 id="auth-http-auth-req-method"><a href="#auth-http-auth-req-method" class="header-anchor">#</a> auth.http.auth_req.method</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>get</code>, <code>post</code></td> <td><code>post</code></td></tr></tbody></table> <h4 id="说明-309"><a href="#说明-309" class="header-anchor">#</a> 说明</h4> <p>指定认证请求的请求方法。</p> <br> <h3 id="auth-http-auth-req-params"><a href="#auth-http-auth-req-params" class="header-anchor">#</a> auth.http.auth_req.params</h3> <table><thead><tr><th>Type</th> <th>Format</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>以 <code>,</code> 分隔的 <code>k=v</code> 键值对，<code>v</code> 可以是固定内容，也可以是占位符</td> <td><code>clientid=%c,username=%u,password=%P</code></td></tr></tbody></table> <h4 id="说明-310"><a href="#说明-310" class="header-anchor">#</a> 说明</h4> <p>指定认证请求中携带的数据。使用 GET 方法时 <code>auth.http.auth_req.params</code> 的值将被转换为以 <code>&amp;</code> 分隔的 <code>k=v</code> 键值对以查询字符串参数的形式发送。使用 POST 方法时 <code>auth.http.auth_req.params</code> 的值将被转换为以 <code>&amp;</code> 分隔的 <code>k=v</code> 键值对以 Request Body 的形式发送。所有的占位符都会被运行时数据所替换，可用的占位符如下：</p> <table><thead><tr><th>占位符</th> <th>替换内容</th></tr></thead> <tbody><tr><td><code>%u</code></td> <td>用户名</td></tr> <tr><td><code>%c</code></td> <td>MQTT Client ID</td></tr> <tr><td><code>%a</code></td> <td>客户端的网络 IP 地址</td></tr> <tr><td><code>%r</code></td> <td>客户端使用的协议，可以是：<code>mqtt</code>, <code>mqtt-sn</code>, <code>coap</code>, <code>lwm2m</code> 以及 <code>stomp</code></td></tr> <tr><td><code>%P</code></td> <td>密码</td></tr> <tr><td><code>%p</code></td> <td>客户端连接的服务端端口</td></tr> <tr><td><code>%c</code></td> <td>客户端证书中的 Common Name</td></tr> <tr><td><code>%d</code></td> <td>客户端证书中的 Subject</td></tr></tbody></table> <br> <h3 id="auth-http-super-req"><a href="#auth-http-super-req" class="header-anchor">#</a> auth.http.super_req</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>http://127.0.0.1:8991/mqtt/superuser</code></td></tr></tbody></table> <h4 id="说明-311"><a href="#说明-311" class="header-anchor">#</a> 说明</h4> <p>指定超级用户认证请求的目标 URL。</p> <h3 id="auth-http-super-req-method"><a href="#auth-http-super-req-method" class="header-anchor">#</a> auth.http.super_req.method</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>get</code>, <code>post</code></td> <td><code>post</code></td></tr></tbody></table> <h4 id="说明-312"><a href="#说明-312" class="header-anchor">#</a> 说明</h4> <p>指定超级用户认证请求的请求方法。</p> <h3 id="auth-http-super-req-params"><a href="#auth-http-super-req-params" class="header-anchor">#</a> auth.http.super_req.params</h3> <table><thead><tr><th>Type</th> <th>Format</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>以 <code>,</code> 分隔的 <code>k=v</code> 键值对，<code>v</code> 可以是固定内容，也可以是占位符</td> <td><code>clientid=%c,username=%u</code></td></tr></tbody></table> <h4 id="说明-313"><a href="#说明-313" class="header-anchor">#</a> 说明</h4> <p>指定超级用户认证请求中携带的数据。使用 GET 方法时 <code>auth.http.super_req.params</code> 的值将被转换为以 <code>&amp;</code> 分隔的 <code>k=v</code> 键值对以查询字符串参数的形式发送。使用 POST 方法时 <code>auth.http.super_req.params</code> 的值将被转换为以 <code>&amp;</code> 分隔的 <code>k=v</code> 键值对以 Request Body 的形式发送。所有的占位符都会被运行时数据所替换，可用的占位符同 <code>auth.http.auth_req.params</code>。</p> <br> <h3 id="auth-http-acl-req"><a href="#auth-http-acl-req" class="header-anchor">#</a> auth.http.acl_req</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>http://127.0.0.1:8991/mqtt/acl</code></td></tr></tbody></table> <h4 id="说明-314"><a href="#说明-314" class="header-anchor">#</a> 说明</h4> <p>指定 ACL 验证请求的目标 URL。</p> <br> <h3 id="auth-http-acl-req-method"><a href="#auth-http-acl-req-method" class="header-anchor">#</a> auth.http.acl_req.method</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>get</code>, <code>post</code></td> <td><code>post</code></td></tr></tbody></table> <h4 id="说明-315"><a href="#说明-315" class="header-anchor">#</a> 说明</h4> <p>指定 ACL 验证请求的请求方法。</p> <br> <h3 id="auth-http-acl-req-params"><a href="#auth-http-acl-req-params" class="header-anchor">#</a> auth.http.acl_req.params</h3> <table><thead><tr><th>Type</th> <th>Format</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>以 <code>,</code> 分隔的 <code>k=v</code> 键值对，<code>v</code> 可以是固定内容，也可以是占位符</td> <td><code>access=%A,username=%u,clientid=%c,ipaddr=%a,topic=%t,mountpoint=%m</code></td></tr></tbody></table> <h4 id="说明-316"><a href="#说明-316" class="header-anchor">#</a> 说明</h4> <p>指定 ACL 验证请求中携带的数据。使用 GET 方法时 <code>auth.http.acl_req.params</code> 的值将被转换为以 <code>&amp;</code> 分隔的 <code>k=v</code> 键值对以查询字符串参数的形式发送。使用 POST 方法时 <code>auth.http.acl_req.params</code> 的值将被转换为以 <code>&amp;</code> 分隔的 <code>k=v</code> 键值对以 Request Body 的形式发送。所有的占位符都会被运行时数据所替换，可用的占位符如下：</p> <table><thead><tr><th>占位符</th> <th>替换内容</th></tr></thead> <tbody><tr><td><code>%A</code></td> <td>需要验证的权限，1 表示订阅，2 表示发布</td></tr> <tr><td><code>%u</code></td> <td>MQTT Client ID</td></tr> <tr><td><code>%c</code></td> <td>客户端标识符</td></tr> <tr><td><code>%a</code></td> <td>客户端的网络 IP 地址</td></tr> <tr><td><code>%r</code></td> <td>客户端使用的协议，可以是：<code>mqtt</code>, <code>mqtt-sn</code>, <code>coap</code>, <code>lwm2m</code> 以及 <code>stomp</code></td></tr> <tr><td><code>%m</code></td> <td>挂载点</td></tr> <tr><td><code>%t</code></td> <td>主题</td></tr></tbody></table> <br> <h3 id="auth-http-request-timeout"><a href="#auth-http-request-timeout" class="header-anchor">#</a> auth.http.request.timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>0s</code></td></tr></tbody></table> <h4 id="说明-317"><a href="#说明-317" class="header-anchor">#</a> 说明</h4> <p>HTTP 请求超时时间。任何等价于 <code>0s</code> 的设定值都表示永不超时。</p> <br> <h3 id="auth-http-request-connect-timeout"><a href="#auth-http-request-connect-timeout" class="header-anchor">#</a> auth.http.request.connect_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>0s</code></td></tr></tbody></table> <h4 id="说明-318"><a href="#说明-318" class="header-anchor">#</a> 说明</h4> <p>HTTP 请求的连接超时时间。任何等价于 <code>0s</code> 的设定值都表示永不超时。</p> <br> <h3 id="auth-http-request-retry-times"><a href="#auth-http-request-retry-times" class="header-anchor">#</a> auth.http.request.retry_times</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>3</td></tr></tbody></table> <h4 id="说明-319"><a href="#说明-319" class="header-anchor">#</a> 说明</h4> <p>HTTP 请求失败时的重试次数。</p> <br> <h3 id="auth-http-request-retry-interval"><a href="#auth-http-request-retry-interval" class="header-anchor">#</a> auth.http.request.retry_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>1s</code></td></tr></tbody></table> <h4 id="说明-320"><a href="#说明-320" class="header-anchor">#</a> 说明</h4> <p>HTTP 请求失败时的重试间隔。</p> <br> <h3 id="auth-http-request-retry-backoff"><a href="#auth-http-request-retry-backoff" class="header-anchor">#</a> auth.http.request.retry_backoff</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>float</td> <td>2.0</td></tr></tbody></table> <h4 id="说明-321"><a href="#说明-321" class="header-anchor">#</a> 说明</h4> <p>HTTP 请求失败时的重试间隔使用了指数退避算法，此配置项用于指定指数退避算法的退避系数。</p> <br> <h3 id="auth-http-header"><a href="#auth-http-header" class="header-anchor">#</a> auth.http.header.<Key></Key></h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-322"><a href="#说明-322" class="header-anchor">#</a> 说明</h4> <p>指定 HTTP 请求头部中的数据。<code>&lt;Key&gt;</code> 指定 HTTP 请求头部中的字段名，此配置项的值为相应的字段值。<code>&lt;Key&gt;</code> 可以是标准的 HTTP 请求头部字段，也可以自定义的字段，可以配置多个不同的请求头部字段。</p> <h4 id="示例-12"><a href="#示例-12" class="header-anchor">#</a> 示例</h4> <div class="language- extra-class"><pre class="language-text"><code>auth.http.header.Accept = */*
auth.http.header.Accept-Encoding = *
</code></pre></div><br> <h3 id="auth-http-ssl-cacertfile"><a href="#auth-http-ssl-cacertfile" class="header-anchor">#</a> auth.http.ssl.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/ca.pem</code></td></tr></tbody></table> <h4 id="说明-323"><a href="#说明-323" class="header-anchor">#</a> 说明</h4> <p>CA 证书文件路径。</p> <br> <h3 id="auth-http-ssl-certfile"><a href="#auth-http-ssl-certfile" class="header-anchor">#</a> auth.http.ssl.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/client-cert.pem</code></td></tr></tbody></table> <h4 id="说明-324"><a href="#说明-324" class="header-anchor">#</a> 说明</h4> <p>客户端证书文件路径。</p> <br> <h3 id="auth-http-ssl-keyfile"><a href="#auth-http-ssl-keyfile" class="header-anchor">#</a> auth.http.ssl.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/client.key.pem</code></td></tr></tbody></table> <h4 id="说明-325"><a href="#说明-325" class="header-anchor">#</a> 说明</h4> <p>客户端私钥文件路径。</p> <br> <h2 id="emqx-auth-jwt"><a href="#emqx-auth-jwt" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-jwt" target="_blank" rel="noopener noreferrer">emqx-auth-jwt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-jwt-secret"><a href="#auth-jwt-secret" class="header-anchor">#</a> auth.jwt.secret</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>emqxsecret</code></td></tr></tbody></table> <h4 id="说明-326"><a href="#说明-326" class="header-anchor">#</a> 说明</h4> <p>设置 HMAC Secret。</p> <br> <h3 id="auth-jwt-from"><a href="#auth-jwt-from" class="header-anchor">#</a> auth.jwt.from</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>username</code>, <code>password</code></td> <td><code>password</code></td></tr></tbody></table> <h4 id="说明-327"><a href="#说明-327" class="header-anchor">#</a> 说明</h4> <p>从什么地方获取 JWT。可选值为:</p> <ul><li>username: MQTT CONNECT 报文的 username 字段作为 JWT。</li> <li>password: MQTT CONNECT 报文的 password 字段作为 JWT。</li></ul> <br> <h3 id="auth-jwt-pubkey"><a href="#auth-jwt-pubkey" class="header-anchor">#</a> auth.jwt.pubkey</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/jwt_public_key.pem</code></td></tr></tbody></table> <h4 id="说明-328"><a href="#说明-328" class="header-anchor">#</a> 说明</h4> <p>若使用 RSA 或者 ECDSA 加密算法，须指定私钥文件。</p> <br> <h3 id="auth-jwt-verify-claims"><a href="#auth-jwt-verify-claims" class="header-anchor">#</a> auth.jwt.verify_claims</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-329"><a href="#说明-329" class="header-anchor">#</a> 说明</h4> <p>启用或关闭 Claims 校验功能。</p> <br> <h3 id="auth-jwt-verify-claims-2"><a href="#auth-jwt-verify-claims-2" class="header-anchor">#</a> auth.jwt.verify_claims <claims></claims></h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-330"><a href="#说明-330" class="header-anchor">#</a> 说明</h4> <p>启用 Claims 校验功能时，可设置 JWT 中字段的可选值。</p> <p>例如，若期望 JWT 中的 Claim 字段 <code>sub</code> 的值为 &quot;abc&quot;，则可以配置如下规则:</p> <div class="language- extra-class"><pre class="language-text"><code>auth.jwt.verify_claims.sub = abc
</code></pre></div><p>期望值支持两个通配符:</p> <ul><li><code>%u</code>: username</li> <li><code>%c</code>: clientid</li></ul> <p>例如，若期望 JWT 中的 Claim 字段 <code>sub</code> 的值与 MQTT CONNECT 报文中 username 字段相同，则可以配置如下规则:</p> <div class="language- extra-class"><pre class="language-text"><code>auth.jwt.verify_claims.sub = %u
</code></pre></div><br> <h2 id="emqx-auth-ldap"><a href="#emqx-auth-ldap" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-ldap" target="_blank" rel="noopener noreferrer">emqx-auth-ldap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-ldap-servers"><a href="#auth-ldap-servers" class="header-anchor">#</a> auth.ldap.servers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>127.0.0.1</code></td></tr></tbody></table> <h4 id="说明-331"><a href="#说明-331" class="header-anchor">#</a> 说明</h4> <p>LDAP 服务地址。</p> <br> <h3 id="auth-ldap-port"><a href="#auth-ldap-port" class="header-anchor">#</a> auth.ldap.port</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>389</td></tr></tbody></table> <h4 id="说明-332"><a href="#说明-332" class="header-anchor">#</a> 说明</h4> <p>LDAP 服务端口。</p> <br> <h3 id="auth-ldap-pool"><a href="#auth-ldap-pool" class="header-anchor">#</a> auth.ldap.pool</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>&gt; 0</td> <td>8</td></tr></tbody></table> <h4 id="说明-333"><a href="#说明-333" class="header-anchor">#</a> 说明</h4> <p>连接池大小。</p> <br> <h3 id="auth-ldap-bind-dn"><a href="#auth-ldap-bind-dn" class="header-anchor">#</a> auth.ldap.bind_dn</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>cn=root,dc=emqx,dc=io</code></td></tr></tbody></table> <h4 id="说明-334"><a href="#说明-334" class="header-anchor">#</a> 说明</h4> <p>登入 LDAP 服务的 DN。</p> <br> <h3 id="auth-ldap-bind-password"><a href="#auth-ldap-bind-password" class="header-anchor">#</a> auth.ldap.bind_password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>public</code></td></tr></tbody></table> <h4 id="说明-335"><a href="#说明-335" class="header-anchor">#</a> 说明</h4> <p>登入 LDAP 服务的密码。</p> <br> <h3 id="auth-ldap-timeout"><a href="#auth-ldap-timeout" class="header-anchor">#</a> auth.ldap.timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>30s</code></td></tr></tbody></table> <h4 id="说明-336"><a href="#说明-336" class="header-anchor">#</a> 说明</h4> <p>查询操作的超时时间。</p> <br> <h3 id="auth-ldap-device-dn"><a href="#auth-ldap-device-dn" class="header-anchor">#</a> auth.ldap.device_dn</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>ou=device,dc=emqx,dc=io</code></td></tr></tbody></table> <h4 id="说明-337"><a href="#说明-337" class="header-anchor">#</a> 说明</h4> <p>客户端隶属的 DN。</p> <br> <h3 id="auth-ldap-match-objectclass"><a href="#auth-ldap-match-objectclass" class="header-anchor">#</a> auth.ldap.match_objectclass</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqttUser</code></td></tr></tbody></table> <h4 id="说明-338"><a href="#说明-338" class="header-anchor">#</a> 说明</h4> <p>客户端对象的名称。</p> <br> <h3 id="auth-ldap-username-attributetype"><a href="#auth-ldap-username-attributetype" class="header-anchor">#</a> auth.ldap.username.attributetype</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>uid</code></td></tr></tbody></table> <h4 id="说明-339"><a href="#说明-339" class="header-anchor">#</a> 说明</h4> <p>Username 属性的数据类型。</p> <br> <h3 id="auth-ldap-password-attributetype"><a href="#auth-ldap-password-attributetype" class="header-anchor">#</a> auth.ldap.password.attributetype</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>userPassword</code></td></tr></tbody></table> <h4 id="说明-340"><a href="#说明-340" class="header-anchor">#</a> 说明</h4> <p>Password 属性的数据类型。</p> <br> <h3 id="auth-ldap-ssl"><a href="#auth-ldap-ssl" class="header-anchor">#</a> auth.ldap.ssl</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-341"><a href="#说明-341" class="header-anchor">#</a> 说明</h4> <p>是否开启 SSL。</p> <br> <h3 id="auth-ldap-ssl-certfile"><a href="#auth-ldap-ssl-certfile" class="header-anchor">#</a> auth.ldap.ssl.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-342"><a href="#说明-342" class="header-anchor">#</a> 说明</h4> <p>SSL 服务端证书路径。</p> <br> <h3 id="auth-ldap-ssl-keyfile"><a href="#auth-ldap-ssl-keyfile" class="header-anchor">#</a> auth.ldap.ssl.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-343"><a href="#说明-343" class="header-anchor">#</a> 说明</h4> <p>SSL 服务端秘钥文件路径。</p> <br> <h3 id="auth-ldap-ssl-cacertfile"><a href="#auth-ldap-ssl-cacertfile" class="header-anchor">#</a> auth.ldap.ssl.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-344"><a href="#说明-344" class="header-anchor">#</a> 说明</h4> <p>CA 证书文件路径。</p> <br> <h3 id="auth-ldap-ssl-verify"><a href="#auth-ldap-ssl-verify" class="header-anchor">#</a> auth.ldap.ssl.verify</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>verify_peer</code>, <code>verify_none</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-345"><a href="#说明-345" class="header-anchor">#</a> 说明</h4> <p>SSL 认证方式：</p> <ul><li><code>verify_none</code>：单向认证。</li> <li><code>verify_peer</code>：双向认证。</li></ul> <br> <h3 id="auth-ldap-ssl-fail-if-no-peer-cert"><a href="#auth-ldap-ssl-fail-if-no-peer-cert" class="header-anchor">#</a> auth.ldap.ssl.fail_if_no_peer_cert</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-346"><a href="#说明-346" class="header-anchor">#</a> 说明</h4> <p>如果客户端未提供 SSL 证书，则断开连接。</p> <br> <h2 id="emqx-auth-mongo"><a href="#emqx-auth-mongo" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-mongo" target="_blank" rel="noopener noreferrer">emqx-auth-mongo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-mongo-type"><a href="#auth-mongo-type" class="header-anchor">#</a> auth.mongo.type</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>single</code>, <code>unknown</code>, <code>sharded</code>, <code>rs</code></td> <td><code>single</code></td></tr></tbody></table> <h4 id="说明-347"><a href="#说明-347" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 的拓扑类型:</p> <ul><li><p>single: 单节点</p></li> <li><p>unknown: 未知</p></li> <li><p>sharded: 分片模式</p></li> <li><p>rs: 副本模式 (replicated set)</p></li></ul> <br> <h3 id="auth-mongo-rs-set-name"><a href="#auth-mongo-rs-set-name" class="header-anchor">#</a> auth.mongo.rs_set_name</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>127.0.0.1:27017</code></td></tr></tbody></table> <h4 id="说明-348"><a href="#说明-348" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 服务的地址。如有多个使用逗号 <code>,</code> 分隔。</p> <br> <h3 id="auth-mongo-pool"><a href="#auth-mongo-pool" class="header-anchor">#</a> auth.mongo.pool</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8</td></tr></tbody></table> <h4 id="说明-349"><a href="#说明-349" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 连接池的进程数。</p> <br> <h3 id="auth-mongo-login"><a href="#auth-mongo-login" class="header-anchor">#</a> auth.mongo.login</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-350"><a href="#说明-350" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 的用户名。</p> <br> <h3 id="auth-mongo-password"><a href="#auth-mongo-password" class="header-anchor">#</a> auth.mongo.password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-351"><a href="#说明-351" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 的密码。</p> <br> <h3 id="auth-mongo-auth-source"><a href="#auth-mongo-auth-source" class="header-anchor">#</a> auth.mongo.auth_source</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt</code></td></tr></tbody></table> <h4 id="说明-352"><a href="#说明-352" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 的认证源数据库名。</p> <br> <h3 id="auth-mongo-database"><a href="#auth-mongo-database" class="header-anchor">#</a> auth.mongo.database</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt</code></td></tr></tbody></table> <h4 id="说明-353"><a href="#说明-353" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 的数据库名。</p> <br> <h3 id="auth-mongo-query-timeout"><a href="#auth-mongo-query-timeout" class="header-anchor">#</a> auth.mongo.query_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5s</code></td></tr></tbody></table> <h4 id="说明-354"><a href="#说明-354" class="header-anchor">#</a> 说明</h4> <p>设置访问 MongoDB 超时时间。</p> <br> <h3 id="auth-mongo-ssl"><a href="#auth-mongo-ssl" class="header-anchor">#</a> auth.mongo.ssl</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-355"><a href="#说明-355" class="header-anchor">#</a> 说明</h4> <p>设置是否使用 SSL 访问 MongoDB。</p> <br> <h3 id="auth-mongo-ssl-opts-keyfile"><a href="#auth-mongo-ssl-opts-keyfile" class="header-anchor">#</a> auth.mongo.ssl_opts.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-356"><a href="#说明-356" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL 访问 MongoDB，设置 SSL 客户端的私钥文件。</p> <br> <h3 id="auth-mongo-ssl-opts-certfile"><a href="#auth-mongo-ssl-opts-certfile" class="header-anchor">#</a> auth.mongo.ssl_opts.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-357"><a href="#说明-357" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL 访问 MongoDB，设置 SSL 客户端的证书文件。</p> <br> <h3 id="auth-mongo-ssl-opts-cacertfile"><a href="#auth-mongo-ssl-opts-cacertfile" class="header-anchor">#</a> auth.mongo.ssl_opts.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-358"><a href="#说明-358" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL 访问 MongoDB，设置 SSL 的 CA 证书文件。</p> <br> <h3 id="auth-mongo-w-mode"><a href="#auth-mongo-w-mode" class="header-anchor">#</a> auth.mongo.w_mode</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>unsafe</code>, <code>safe</code>, <code>undef</code></td> <td><code>undef</code></td></tr></tbody></table> <h4 id="说明-359"><a href="#说明-359" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 的写入模式。</p> <br> <h3 id="auth-mongo-r-mode"><a href="#auth-mongo-r-mode" class="header-anchor">#</a> auth.mongo.r_mode</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>master</code>, <code>slave_ok</code>, <code>undef</code></td> <td><code>undef</code></td></tr></tbody></table> <h4 id="说明-360"><a href="#说明-360" class="header-anchor">#</a> 说明</h4> <p>设置 MongoDB 的读取模式。</p> <br> <h3 id="auth-mongo-auth-query-collection"><a href="#auth-mongo-auth-query-collection" class="header-anchor">#</a> auth.mongo.auth_query.collection</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt_user</code></td></tr></tbody></table> <h4 id="说明-361"><a href="#说明-361" class="header-anchor">#</a> 说明</h4> <p>认证过程用的 Collection 名字。</p> <br> <h3 id="auth-mongo-auth-query-password-field"><a href="#auth-mongo-auth-query-password-field" class="header-anchor">#</a> auth.mongo.auth_query.password_field</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>password</code></td></tr></tbody></table> <h4 id="说明-362"><a href="#说明-362" class="header-anchor">#</a> 说明</h4> <p>认证过程用的主要字段。如需在密码之后加 salt，可以配置为:</p> <div class="language- extra-class"><pre class="language-text"><code>auth.mongo.auth_query.password_field = password,salt
</code></pre></div><br> <h3 id="auth-mongo-auth-query-password-hash"><a href="#auth-mongo-auth-query-password-hash" class="header-anchor">#</a> auth.mongo.auth_query.password_hash</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>plain</code>, <code>md5</code>, <code>sha</code>, <code>sha256</code>, <code>bcrypt</code></td> <td><code>sha256</code></td></tr></tbody></table> <h4 id="说明-363"><a href="#说明-363" class="header-anchor">#</a> 说明</h4> <p>设置密码字段用的哈希算法。如需在 sha256 密码之后加 salt，可以设置为:</p> <div class="language- extra-class"><pre class="language-text"><code>auth.mongo.auth_query.password_hash = sha256,salt
</code></pre></div><p>如需在 sha256 密码之前加 salt，可以设置为:</p> <div class="language- extra-class"><pre class="language-text"><code>auth.mongo.auth_query.password_hash = salt,sha256
</code></pre></div><p>如需在 bcrypt 密码之前加 salt，可以设置为:</p> <div class="language- extra-class"><pre class="language-text"><code>auth.mongo.auth_query.password_hash = salt,bcrypt
</code></pre></div><br> <h3 id="auth-mongo-auth-query-selector"><a href="#auth-mongo-auth-query-selector" class="header-anchor">#</a> auth.mongo.auth_query.selector</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>username=%u</code></td></tr></tbody></table> <h4 id="说明-364"><a href="#说明-364" class="header-anchor">#</a> 说明</h4> <p>认证过程执行的 MongoDB 语句。命令可支持通配符:</p> <ul><li>%u: username</li> <li>%c: clientid</li> <li>%C: 客户端 TLS 证书里的 Common Name</li> <li>%d: 客户端 TLS 证书里的 Subject</li></ul> <br> <h3 id="auth-mongo-auth-query-super-query"><a href="#auth-mongo-auth-query-super-query" class="header-anchor">#</a> auth.mongo.auth_query.super_query</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-365"><a href="#说明-365" class="header-anchor">#</a> 说明</h4> <p>认证中是否使用 SuperUser。</p> <br> <h3 id="auth-mongo-super-query-collection"><a href="#auth-mongo-super-query-collection" class="header-anchor">#</a> auth.mongo.super_query.collection</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt_user</code></td></tr></tbody></table> <h4 id="说明-366"><a href="#说明-366" class="header-anchor">#</a> 说明</h4> <p>若使用 SuperUser，指定 SuperUser 的 MongoDB Collection。</p> <br> <h3 id="auth-mongo-super-query-selector"><a href="#auth-mongo-super-query-selector" class="header-anchor">#</a> auth.mongo.super_query.selector</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>username=%u, clientid=%c</code></td></tr></tbody></table> <h4 id="说明-367"><a href="#说明-367" class="header-anchor">#</a> 说明</h4> <p>若使用 SuperUser，指定查询 SuperUser 使用的 MongoDB 语句。</p> <br> <h3 id="auth-mongo-acl-query"><a href="#auth-mongo-acl-query" class="header-anchor">#</a> auth.mongo.acl_query</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-368"><a href="#说明-368" class="header-anchor">#</a> 说明</h4> <p>是否开启 ACL 功能。</p> <br> <h3 id="auth-mongo-acl-query-collection"><a href="#auth-mongo-acl-query-collection" class="header-anchor">#</a> auth.mongo.acl_query.collection</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt_acl</code></td></tr></tbody></table> <h4 id="说明-369"><a href="#说明-369" class="header-anchor">#</a> 说明</h4> <p>若使用 ACL 功能，指定查询 ACL 规则的 MongoDB Collection。</p> <br> <h3 id="auth-mongo-acl-query-selector"><a href="#auth-mongo-acl-query-selector" class="header-anchor">#</a> auth.mongo.acl_query.selector</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>username=%u</code></td></tr></tbody></table> <h4 id="说明-370"><a href="#说明-370" class="header-anchor">#</a> 说明</h4> <p>若使用 ACL 功能，指定查询 ACL 规则使用的 MongoDB 语句。可支持多个 ACL 语句，多个语句之间使用 or 连接。</p> <p>例如，配置如下两条访问规则：</p> <div class="language- extra-class"><pre class="language-text"><code>auth.mongo.acl_query.selector.1 = username=%u
auth.mongo.acl_query.selector.2 = username=$all
</code></pre></div><p>并且客户端的 username='ilyas'，则在查询 acl 规则的时候，会执行如下 MongoDB 语句：</p> <div class="language- extra-class"><pre class="language-text"><code>db.mqtt_acl.find({$or: [{username: &quot;ilyas&quot;},  {username: &quot;$all&quot;}]});
</code></pre></div><br> <h3 id="auth-mongo-topology-pool-size"><a href="#auth-mongo-topology-pool-size" class="header-anchor">#</a> auth.mongo.topology.pool_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1</td></tr></tbody></table> <h4 id="说明-371"><a href="#说明-371" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，设置线程池大小。</p> <br> <h3 id="auth-mongo-topology-max-overflow"><a href="#auth-mongo-topology-max-overflow" class="header-anchor">#</a> auth.mongo.topology.max_overflow</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0</td></tr></tbody></table> <h4 id="说明-372"><a href="#说明-372" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，当线程池中所有 workers 都处于忙碌状态时，允许创建多少额外的 worker 线程。</p> <br> <h3 id="auth-mongo-topology-overflow-ttl"><a href="#auth-mongo-topology-overflow-ttl" class="header-anchor">#</a> auth.mongo.topology.overflow_ttl</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-373"><a href="#说明-373" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，当有 worker 空闲时。多久之后释放额外的 worker 线程。单位: 毫秒。</p> <br> <h3 id="auth-mongo-topology-overflow-check-period"><a href="#auth-mongo-topology-overflow-check-period" class="header-anchor">#</a> auth.mongo.topology.overflow_check_period</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-374"><a href="#说明-374" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，多长时间检查一次有无空闲线程，以释放额外的 worker。</p> <br> <h3 id="auth-mongo-topology-local-threshold-ms"><a href="#auth-mongo-topology-local-threshold-ms" class="header-anchor">#</a> auth.mongo.topology.local_threshold_ms</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-375"><a href="#说明-375" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，选择用来处理用户请求的 Secondary 节点的策略。记到所有节点的 RTT 中的最小值为 LowestRTT，那么只有那些 RTT &lt; LowestRTT + local_threshold_ms 的 Secondary 节点会被选择。</p> <br> <h3 id="auth-mongo-topology-connect-timeout-ms"><a href="#auth-mongo-topology-connect-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.connect_timeout_ms</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>20000</td></tr></tbody></table> <h4 id="说明-376"><a href="#说明-376" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，MongoDB 连接超时时间，单位: 毫秒。</p> <br> <h3 id="auth-mongo-topology-socket-timeout-ms"><a href="#auth-mongo-topology-socket-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.socket_timeout_ms</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>100</td></tr></tbody></table> <h4 id="说明-377"><a href="#说明-377" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，MongoDB 消息发送超时时间，单位: 毫秒。</p> <br> <h3 id="auth-mongo-topology-server-selection-timeout-ms"><a href="#auth-mongo-topology-server-selection-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.server_selection_timeout_ms</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>30000</td></tr></tbody></table> <h4 id="说明-378"><a href="#说明-378" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，选择 MongoDB Server 的超时时间，单位: 毫秒。</p> <br> <h3 id="auth-mongo-topology-wait-queue-timeout-ms"><a href="#auth-mongo-topology-wait-queue-timeout-ms" class="header-anchor">#</a> auth.mongo.topology.wait_queue_timeout_ms</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-379"><a href="#说明-379" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，从线程池中选取 worker 的等待超时时间，单位: 毫秒。</p> <br> <h3 id="auth-mongo-topology-heartbeat-frequency-ms"><a href="#auth-mongo-topology-heartbeat-frequency-ms" class="header-anchor">#</a> auth.mongo.topology.heartbeat_frequency_ms</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>10000</td></tr></tbody></table> <h4 id="说明-380"><a href="#说明-380" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，拓扑扫描之间的间隔时间，单位: 毫秒。</p> <br> <h3 id="auth-mongo-topology-min-heartbeat-frequency-ms"><a href="#auth-mongo-topology-min-heartbeat-frequency-ms" class="header-anchor">#</a> auth.mongo.topology.min_heartbeat_frequency_ms</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1000</td></tr></tbody></table> <h4 id="说明-381"><a href="#说明-381" class="header-anchor">#</a> 说明</h4> <p>MongoDB 拓扑参数，<code>heartbeat_frequency_ms</code> 允许的最小值，单位: 毫秒。</p> <br> <h2 id="emqx-auth-mysql"><a href="#emqx-auth-mysql" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-mysql" target="_blank" rel="noopener noreferrer">emqx-auth-mysql<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-mysql-server"><a href="#auth-mysql-server" class="header-anchor">#</a> auth.mysql.server</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>ip</td> <td><code>127.0.0.1:3306</code></td></tr></tbody></table> <h4 id="说明-382"><a href="#说明-382" class="header-anchor">#</a> 说明</h4> <p>MySQL 服务器地址。</p> <br> <h3 id="auth-mysql-pool"><a href="#auth-mysql-pool" class="header-anchor">#</a> auth.mysql.pool</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8</td></tr></tbody></table> <h4 id="说明-383"><a href="#说明-383" class="header-anchor">#</a> 说明</h4> <p>数据库连接线程池大小。</p> <br> <h3 id="auth-mysql-username"><a href="#auth-mysql-username" class="header-anchor">#</a> auth.mysql.username</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-384"><a href="#说明-384" class="header-anchor">#</a> 说明</h4> <p>MySQL 用户名。</p> <br> <h3 id="auth-mysql-password"><a href="#auth-mysql-password" class="header-anchor">#</a> auth.mysql.password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-385"><a href="#说明-385" class="header-anchor">#</a> 说明</h4> <p>MySQL 密码。</p> <br> <h3 id="auth-mysql-database"><a href="#auth-mysql-database" class="header-anchor">#</a> auth.mysql.database</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt</code></td></tr></tbody></table> <h4 id="说明-386"><a href="#说明-386" class="header-anchor">#</a> 说明</h4> <p>MySQL 数据库名称。</p> <br> <h3 id="auth-mysql-query-timeout"><a href="#auth-mysql-query-timeout" class="header-anchor">#</a> auth.mysql.query_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5s</code></td></tr></tbody></table> <h4 id="说明-387"><a href="#说明-387" class="header-anchor">#</a> 说明</h4> <p>MySQL 数据查询超时时间。查询超时将等同于未找到用户数据处理。</p> <br> <h3 id="auth-mysql-auth-query"><a href="#auth-mysql-auth-query" class="header-anchor">#</a> auth.mysql.auth_query</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>select password from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table> <h4 id="说明-388"><a href="#说明-388" class="header-anchor">#</a> 说明</h4> <p>认证时使用的 MySQL 选取语句，选取出来的数据将与经过由 <code>auth.mysql.password_hash</code> 指定的加密方式加密的密码进行比较，比较后内容一致的客户端将被允许登录。加盐后存储的密码需要同时选取盐对应的字段，例如 <code>select password, salt from mqtt_user where username = '%u' limit 1</code>。<code>password</code> 与 <code>salt</code> 字段名不可以修改，表名与 WHERE 子句中的字段名可以视情况变化。WHERE 子句支持以下占位符：</p> <table><thead><tr><th>占位符</th> <th>说明</th></tr></thead> <tbody><tr><td><code>%u</code></td> <td>将被替换为 MQTT 客户端在 CONNECT 报文中指定的用户名</td></tr> <tr><td><code>%c</code></td> <td>将被替换为 MQTT 客户端在 CONNECT 报文中指定的客户端标识符</td></tr> <tr><td><code>%C</code></td> <td>将被替换为 TLS 连接时客户端证书中的 Common Name</td></tr> <tr><td><code>%d</code></td> <td>将被替换为 TLS 连接时客户端证书中的 Subject</td></tr></tbody></table> <br> <h3 id="auth-mysql-password-hash"><a href="#auth-mysql-password-hash" class="header-anchor">#</a> auth.mysql.password_hash</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>sh256</code></td></tr></tbody></table> <h4 id="说明-389"><a href="#说明-389" class="header-anchor">#</a> 说明</h4> <p>存储在数据库的密码所使用的加密方式。支持以下加密方式：</p> <ul><li><code>plain</code>，支持前后加盐，例如 <code>salt,plain</code></li> <li><code>md5</code>，支持前后加盐</li> <li><code>sha</code>，支持前后加盐</li> <li><code>sha256</code>，支持前后加盐</li> <li><code>sha512</code>，支持前后加盐</li> <li><code>pbkdf2</code>，格式为 <code>pbkdf2,&lt;Hashfun&gt;,&lt;Iterations&gt;,&lt;Dklen&gt;</code>。其中，<code>&lt;Hashfun&gt;</code> 为使用的哈希函数，支持 <code>md4</code>，<code>md5</code>，<code>ripemd160</code>，<code>sha</code>，<code>sha224</code>，<code>sha256</code>，<code>sha384</code>，<code>sha512</code>，<code>&lt;Iterations&gt;</code> 为迭代次数，<code>&lt;Dklen&gt;</code> 为导出密钥长度。示例：<code>pbkdf2,sha256,1000,20</code></li> <li><code>bcrypt</code>，仅支持前向加盐，例如 <code>salt,bcrypt</code></li></ul> <br> <h3 id="auth-mysql-super-query"><a href="#auth-mysql-super-query" class="header-anchor">#</a> auth.mysql.super_query</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>select is_superuser from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table> <h4 id="说明-390"><a href="#说明-390" class="header-anchor">#</a> 说明</h4> <p>超级用户认证时使用的 SQL 选取语句，此语句中所有表名与字段名都可视情况修改，当且仅当选取得到字段的值为 <code>1</code> 时，该用户为超级用户。WHERE 子句中支持的占位符与 <code>auth.mysql.auth_query</code> 相同。</p> <br> <h3 id="auth-mysql-acl-query"><a href="#auth-mysql-acl-query" class="header-anchor">#</a> auth.mysql.acl_query</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>select allow, ipaddr, username, clientid, access, topic from mqtt_acl where ipaddr = '%a' or username = '%u' or username = '$all' or clientid = '%c'</code></td></tr></tbody></table> <h4 id="说明-391"><a href="#说明-391" class="header-anchor">#</a> 说明</h4> <p>ACL 校验时使用的 SQL 选取语句，此语句中所有表名与字段名都可视情况修改。WHERE 子句中支持的占位符如下：</p> <table><thead><tr><th>占位符</th> <th>说明</th></tr></thead> <tbody><tr><td><code>%a</code></td> <td>将被替换为客户端 IP 地址</td></tr> <tr><td><code>%u</code></td> <td>将被替换为 MQTT 客户端在 CONNECT 报文中指定的用户名</td></tr> <tr><td><code>%c</code></td> <td>将被替换为 MQTT 客户端在 CONNECT 报文中指定的客户端标识符</td></tr></tbody></table> <br> <h2 id="emqx-auth-pgsql"><a href="#emqx-auth-pgsql" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-pgsql" target="_blank" rel="noopener noreferrer">emqx-auth-pgsql<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-pgsql-server"><a href="#auth-pgsql-server" class="header-anchor">#</a> auth.pgsql.server</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>ip</td> <td><code>127.0.0.1:5432</code></td></tr></tbody></table> <h4 id="说明-392"><a href="#说明-392" class="header-anchor">#</a> 说明</h4> <p>PostgreSQL 服务器地址。</p> <br> <h3 id="auth-pgsql-pool"><a href="#auth-pgsql-pool" class="header-anchor">#</a> auth.pgsql.pool</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8</td></tr></tbody></table> <h4 id="说明-393"><a href="#说明-393" class="header-anchor">#</a> 说明</h4> <p>数据库连接线程池大小。</p> <br> <h3 id="auth-pgsql-username"><a href="#auth-pgsql-username" class="header-anchor">#</a> auth.pgsql.username</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>root</code></td></tr></tbody></table> <h4 id="说明-394"><a href="#说明-394" class="header-anchor">#</a> 说明</h4> <p>PostgreSQL 用户名。</p> <br> <h3 id="auth-pgsql-password"><a href="#auth-pgsql-password" class="header-anchor">#</a> auth.pgsql.password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-395"><a href="#说明-395" class="header-anchor">#</a> 说明</h4> <p>PostgreSQL 密码。</p> <br> <h3 id="auth-pgsql-database"><a href="#auth-pgsql-database" class="header-anchor">#</a> auth.pgsql.database</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt</code></td></tr></tbody></table> <h4 id="说明-396"><a href="#说明-396" class="header-anchor">#</a> 说明</h4> <p>PostgreSQL 数据库名称。</p> <br> <h3 id="auth-pgsql-encoding"><a href="#auth-pgsql-encoding" class="header-anchor">#</a> auth.pgsql.encoding</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>utf8</code></td></tr></tbody></table> <h4 id="说明-397"><a href="#说明-397" class="header-anchor">#</a> 说明</h4> <p>PostgreSQL 数据库字符编码格式。</p> <br> <h3 id="auth-pgsql-ssl"><a href="#auth-pgsql-ssl" class="header-anchor">#</a> auth.pgsql.ssl</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-398"><a href="#说明-398" class="header-anchor">#</a> 说明</h4> <p>是否启用 TLS 连接。</p> <br> <h3 id="auth-pgsql-ssl-opts-keyfile"><a href="#auth-pgsql-ssl-opts-keyfile" class="header-anchor">#</a> auth.pgsql.ssl_opts.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-399"><a href="#说明-399" class="header-anchor">#</a> 说明</h4> <p>客户端私钥文件路径。</p> <br> <h3 id="auth-pgsql-ssl-opts-certfile"><a href="#auth-pgsql-ssl-opts-certfile" class="header-anchor">#</a> auth.pgsql.ssl_opts.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-400"><a href="#说明-400" class="header-anchor">#</a> 说明</h4> <p>客户端证书文件路径。</p> <br> <h3 id="auth-pgsql-ssl-opts-cacertfile"><a href="#auth-pgsql-ssl-opts-cacertfile" class="header-anchor">#</a> auth.pgsql.ssl_opts.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-401"><a href="#说明-401" class="header-anchor">#</a> 说明</h4> <p>客户端 CA 证书文件路径。</p> <br> <h3 id="auth-pgsql-auth-query"><a href="#auth-pgsql-auth-query" class="header-anchor">#</a> auth.pgsql.auth_query</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>select password from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table> <h4 id="说明-402"><a href="#说明-402" class="header-anchor">#</a> 说明</h4> <p>认证时使用的 SQL 选取语句，同 <code>auth.mysql.auth_query</code>。</p> <br> <h3 id="auth-pgsql-password-hash"><a href="#auth-pgsql-password-hash" class="header-anchor">#</a> auth.pgsql.password_hash</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>sh256</code></td></tr></tbody></table> <h4 id="说明-403"><a href="#说明-403" class="header-anchor">#</a> 说明</h4> <p>存储在数据库的密码所使用的加密方式，同 <code>auth.mysql.password_hash</code>。</p> <br> <h3 id="auth-pgsql-super-query"><a href="#auth-pgsql-super-query" class="header-anchor">#</a> auth.pgsql.super_query</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>select is_superuser from mqtt_user where username = '%u' limit 1</code></td></tr></tbody></table> <h4 id="说明-404"><a href="#说明-404" class="header-anchor">#</a> 说明</h4> <p>超级用户认证时使用的 SQL 选取语句，同 <code>auth.mysql.super_query</code>。</p> <br> <h3 id="auth-pgsql-acl-query"><a href="#auth-pgsql-acl-query" class="header-anchor">#</a> auth.pgsql.acl_query</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>select allow, ipaddr, username, clientid, access, topic from mqtt_acl where ipaddr = '%a' or username = '%u' or username = '$all' or clientid = '%c'</code></td></tr></tbody></table> <h4 id="说明-405"><a href="#说明-405" class="header-anchor">#</a> 说明</h4> <p>ACL 校验时使用的 SQL 选取语句，同 <code>auth.mysql.acl_query</code>。</p> <br> <h2 id="emqx-auth-redis"><a href="#emqx-auth-redis" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-redis" target="_blank" rel="noopener noreferrer">emqx-auth-redis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-redis-type"><a href="#auth-redis-type" class="header-anchor">#</a> auth.redis.type</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>single</code>, <code>sentinel</code>, <code>cluster</code></td> <td><code>single</code></td></tr></tbody></table> <h4 id="说明-406"><a href="#说明-406" class="header-anchor">#</a> 说明</h4> <p>Redis 服务集群类型：</p> <ul><li><code>single</code>：单节点服务。</li> <li><code>sentinel</code>：哨兵模式。</li> <li><code>cluster</code>：集群模式。</li></ul> <br> <h3 id="auth-redis-server"><a href="#auth-redis-server" class="header-anchor">#</a> auth.redis.server</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>127.0.0.1:6379</code></td></tr></tbody></table> <h4 id="说明-407"><a href="#说明-407" class="header-anchor">#</a> 说明</h4> <p>Redis 服务地址，如果有多个则以逗号分隔。例如，<code>192.168.0.1:6379, 192.168.0.2:6379</code>。</p> <br> <h3 id="auth-redis-sentinel"><a href="#auth-redis-sentinel" class="header-anchor">#</a> auth.redis.sentinel</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-408"><a href="#说明-408" class="header-anchor">#</a> 说明</h4> <p>Redis sentinel 模式下的集区名称。如果非 <code>sentinel</code> 模式，则不需要配置。</p> <br> <h3 id="auth-redis-pool"><a href="#auth-redis-pool" class="header-anchor">#</a> auth.redis.pool</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>&gt; 0</td> <td>8</td></tr></tbody></table> <h4 id="说明-409"><a href="#说明-409" class="header-anchor">#</a> 说明</h4> <p>连接池大小。</p> <br> <h3 id="auth-redis-database"><a href="#auth-redis-database" class="header-anchor">#</a> auth.redis.database</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0</td></tr></tbody></table> <h4 id="说明-410"><a href="#说明-410" class="header-anchor">#</a> 说明</h4> <p>要连接的 Redis 数据库序号。</p> <br> <h3 id="auth-redis-password"><a href="#auth-redis-password" class="header-anchor">#</a> auth.redis.password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-411"><a href="#说明-411" class="header-anchor">#</a> 说明</h4> <p>Redis 用户密码。</p> <br> <h3 id="auth-redis-query-timeout"><a href="#auth-redis-query-timeout" class="header-anchor">#</a> auth.redis.query_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>5s</code></td></tr></tbody></table> <h4 id="说明-412"><a href="#说明-412" class="header-anchor">#</a> 说明</h4> <p>Redis 查询超时时间。</p> <br> <h3 id="auth-redis-auth-cmd"><a href="#auth-redis-auth-cmd" class="header-anchor">#</a> auth.redis.auth_cmd</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>HMGET mqtt_user:%u password</code></td></tr></tbody></table> <h4 id="说明-413"><a href="#说明-413" class="header-anchor">#</a> 说明</h4> <p>认证查询命令，可用站位符有：</p> <ul><li><code>%u</code>：客户端用户名。</li> <li><code>%c</code>：客户端标识。</li> <li><code>%C</code>：客户端 SSL 证书的 <code>cn</code>。</li> <li><code>%d</code>：客户端 SSL 证书的 <code>dn</code>。</li></ul> <br> <h3 id="auth-redis-password-hash"><a href="#auth-redis-password-hash" class="header-anchor">#</a> auth.redis.password_hash</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>plain</code>, <code>md5</code>, <code>sha</code>, <code>sha256</code>, <code>bcrypt</code></td> <td><code>plain</code></td></tr></tbody></table> <h4 id="说明-414"><a href="#说明-414" class="header-anchor">#</a> 说明</h4> <p>Redis 存储的 <code>password</code> 字段的编码格式。</p> <br> <h3 id="auth-redis-super-cmd"><a href="#auth-redis-super-cmd" class="header-anchor">#</a> auth.redis.super_cmd</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>HGET mqtt_user:%u is_superuser</code></td></tr></tbody></table> <h4 id="说明-415"><a href="#说明-415" class="header-anchor">#</a> 说明</h4> <p>超级用户查询命令，可用的占位符有：</p> <ul><li><code>%u</code>：客户端用户名。</li> <li><code>%c</code>：客户端标识。</li> <li><code>%C</code>：客户端 SSL 证书的 <code>cn</code>。</li> <li><code>%d</code>：客户端 SSL 证书的 <code>dn</code>。</li></ul> <br> <h3 id="auth-redis-acl-cmd"><a href="#auth-redis-acl-cmd" class="header-anchor">#</a> auth.redis.acl_cmd</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>HGETALL mqtt_acl:%u</code></td></tr></tbody></table> <h4 id="说明-416"><a href="#说明-416" class="header-anchor">#</a> 说明</h4> <p>ACL 查询命令。可用的占位符有：</p> <ul><li><code>%u</code>：客户端用户名。</li> <li><code>%c</code>：客户端标识。</li></ul> <br> <h2 id="emqx-auth-username"><a href="#emqx-auth-username" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-auth-username" target="_blank" rel="noopener noreferrer">emqx-auth-username<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="auth-user-username-auth-user-password"><a href="#auth-user-username-auth-user-password" class="header-anchor">#</a> auth.user.<Number>.username<code>&amp;</code>auth.user.<Number>.password</Number></Number></h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-417"><a href="#说明-417" class="header-anchor">#</a> 说明</h4> <p>客户端的认证数据，其中 <code>auth.user.&lt;Number&gt;.password</code> 为明文密码。<code>&lt;Number&gt;</code> 相同的 <code>auth.user.&lt;Number&gt;.username</code> 与 <code>auth.user.&lt;Number&gt;.password</code> 必须成对出现。<code>&lt;Number&gt;</code> 是一个整型数字，用于区分多个客户端的认证数据。</p> <br> <h3 id="auth-user-password-hash"><a href="#auth-user-password-hash" class="header-anchor">#</a> auth.user.password_hash</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>plain</code>, <code>md5</code>, <code>sha</code>, <code>sha256</code></td> <td><code>sha256</code></td></tr></tbody></table> <h4 id="说明-418"><a href="#说明-418" class="header-anchor">#</a> 说明</h4> <p>密码存储至数据库时使用的 Hash 算法。以下选项可用：</p> <p><code>plain</code></p> <p>密码以明文形式存储。</p> <p><code>md5</code></p> <p>密码使用 MD5 算法加密后存储。</p> <p><code>sha</code></p> <p>密码使用 SHA-1 算法加密后存储。</p> <p><code>sha256</code></p> <p>密码使用 SHA-256 算法加密后存储。</p> <br> <h2 id="emqx-bridge-mqtt"><a href="#emqx-bridge-mqtt" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-bridge-mqtt" target="_blank" rel="noopener noreferrer">emqx-bridge-mqtt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="bridge-mqtt-aws-address"><a href="#bridge-mqtt-aws-address" class="header-anchor">#</a> bridge.mqtt.aws.address</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>127.0.0.1:1883</code></td></tr></tbody></table> <h4 id="说明-419"><a href="#说明-419" class="header-anchor">#</a> 说明</h4> <p>桥接地址，支持两种格式，例如：</p> <ul><li><code>emqx@192.168.0.100</code>：EMQ X 节点名称，它表示将该节点的消息桥接到另外一个 EMQ X 节点。</li> <li><code>192.168.0.100:1883</code>：IP 地址和端口，它表示将该节点的消息通过一个 MQTT 连接桥接到另外一个 MQTT 服务器。</li></ul> <br> <h3 id="bridge-mqtt-aws-proto-ver"><a href="#bridge-mqtt-aws-proto-ver" class="header-anchor">#</a> bridge.mqtt.aws.proto_ver</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>mqttv3</code>, <code>mqttv4</code>, <code>mqttv5</code></td> <td><code>mqttv4</code></td></tr></tbody></table> <h4 id="说明-420"><a href="#说明-420" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接的客户端协议版本。</p> <br> <h3 id="bridge-mqtt-aws-start-type"><a href="#bridge-mqtt-aws-start-type" class="header-anchor">#</a> bridge.mqtt.aws.start_type</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>eunm</td> <td><code>manual</code>, <code>auto</code></td> <td><code>manual</code></td></tr></tbody></table> <h4 id="说明-421"><a href="#说明-421" class="header-anchor">#</a> 说明</h4> <p>启动类型：</p> <ul><li><code>auto</code>：跟随插件自动启动。</li> <li><code>manual</code>：手动启动桥接。</li></ul> <br> <h3 id="bridge-mqtt-aws-bridge-mode"><a href="#bridge-mqtt-aws-bridge-mode" class="header-anchor">#</a> bridge.mqtt.aws.bridge_mode</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>boolean</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-422"><a href="#说明-422" class="header-anchor">#</a> 说明</h4> <p>是否开启桥接模式，仅 MQTT 桥接支持。开启后 <code>emqx_bridge_mqtt</code> 启动的 MQTT 客户端在发送连接报文时会携带一个标志位，标识这是一个桥接客户端。</p> <p>注：RabbitMQ 目前不支持该标志。</p> <br> <h3 id="bridge-mqtt-aws-clientid"><a href="#bridge-mqtt-aws-clientid" class="header-anchor">#</a> bridge.mqtt.aws.clientid</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>bridge_aws</code></td></tr></tbody></table> <h4 id="说明-423"><a href="#说明-423" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接的客户端标识。</p> <br> <h3 id="bridge-mqtt-aws-clean-start"><a href="#bridge-mqtt-aws-clean-start" class="header-anchor">#</a> bridge.mqtt.aws.clean_start</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>boolean</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-424"><a href="#说明-424" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接的 <code>clean_start</code> 标志。它表示客户端是否以 <code>清楚会话</code> 的方式连接到远程 MQTT Broker。</p> <br> <h3 id="bridge-mqtt-aws-username"><a href="#bridge-mqtt-aws-username" class="header-anchor">#</a> bridge.mqtt.aws.username</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>user</code></td></tr></tbody></table> <h4 id="说明-425"><a href="#说明-425" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端的用户名。</p> <br> <h3 id="bridge-mqtt-aws-password"><a href="#bridge-mqtt-aws-password" class="header-anchor">#</a> bridge.mqtt.aws.password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>passwd</code></td></tr></tbody></table> <h4 id="说明-426"><a href="#说明-426" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端的密码。</p> <br> <h3 id="bridge-mqtt-aws-forwards"><a href="#bridge-mqtt-aws-forwards" class="header-anchor">#</a> bridge.mqtt.aws.forwards</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>topic1/#,topic2/#</code></td></tr></tbody></table> <h4 id="说明-427"><a href="#说明-427" class="header-anchor">#</a> 说明</h4> <p>桥接转发规则。例如：</p> <ul><li><code>topic1/#, topic2/#</code>：<code>emqx_bridge_mqtt</code> 会将 EMQ X 中所以与 <code>topic1/#</code>，<code>topic2/#</code> 匹配的主题消息进行转发。</li></ul> <br> <h3 id="bridge-mqtt-aws-forward-mountpoint"><a href="#bridge-mqtt-aws-forward-mountpoint" class="header-anchor">#</a> bridge.mqtt.aws.forward_mountpoint</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>bridge/aws/${node}/</code></td></tr></tbody></table> <h4 id="说明-428"><a href="#说明-428" class="header-anchor">#</a> 说明</h4> <p>转发主题的前缀。将消息转发到目标系统时，支持给该主题添加一个统一的前缀。</p> <br> <h3 id="bridge-mqtt-aws-subscription-1-topic"><a href="#bridge-mqtt-aws-subscription-1-topic" class="header-anchor">#</a> bridge.mqtt.aws.subscription.1.topic</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-429"><a href="#说明-429" class="header-anchor">#</a> 说明</h4> <p>订阅对端系统的主题。</p> <br> <h3 id="bridge-mqtt-aws-subscription-1-qos"><a href="#bridge-mqtt-aws-subscription-1-qos" class="header-anchor">#</a> bridge.mqtt.aws.subscription.1.qos</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>0</code>, <code>1</code>, <code>2</code></td> <td><code>1</code></td></tr></tbody></table> <h4 id="说明-430"><a href="#说明-430" class="header-anchor">#</a> 说明</h4> <p>订阅对端系统主题的 QoS。</p> <br> <h3 id="bridge-mqtt-aws-receive-mountpoint"><a href="#bridge-mqtt-aws-receive-mountpoint" class="header-anchor">#</a> bridge.mqtt.aws.receive_mountpoint</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>receive/aws/</code></td></tr></tbody></table> <h4 id="说明-431"><a href="#说明-431" class="header-anchor">#</a> 说明</h4> <p>接收消息的主题前缀。<code>emqx_bridge_mqtt</code> 支持给来着对端的消息添加一个统一的主题前缀。</p> <br> <h3 id="bridge-mqtt-aws-ssl"><a href="#bridge-mqtt-aws-ssl" class="header-anchor">#</a> bridge.mqtt.aws.ssl</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>boolean</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-432"><a href="#说明-432" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端是否开启 SSL。</p> <br> <h3 id="bridge-mqtt-aws-cacertfile"><a href="#bridge-mqtt-aws-cacertfile" class="header-anchor">#</a> bridge.mqtt.aws.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cacert.pem</code></td></tr></tbody></table> <h4 id="说明-433"><a href="#说明-433" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端的 CA 证书文件路径。</p> <br> <h3 id="bridge-mqtt-aws-certfile"><a href="#bridge-mqtt-aws-certfile" class="header-anchor">#</a> bridge.mqtt.aws.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/client-cert.pem</code></td></tr></tbody></table> <h4 id="说明-434"><a href="#说明-434" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端的 SSL 证书文件路径。</p> <br> <h3 id="bridge-mqtt-aws-keyfile"><a href="#bridge-mqtt-aws-keyfile" class="header-anchor">#</a> bridge.mqtt.aws.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/client-key.pem</code></td></tr></tbody></table> <h4 id="说明-435"><a href="#说明-435" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端的 SSL 秘钥文件路径。</p> <br> <h3 id="bridge-mqtt-aws-ciphers"><a href="#bridge-mqtt-aws-ciphers" class="header-anchor">#</a> bridge.mqtt.aws.ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384</code></td></tr></tbody></table> <h4 id="说明-436"><a href="#说明-436" class="header-anchor">#</a> 说明</h4> <p>SSL 握手支持的加密套件。</p> <br> <h3 id="bridge-mqtt-aws-psk-ciphers"><a href="#bridge-mqtt-aws-psk-ciphers" class="header-anchor">#</a> bridge.mqtt.aws.psk_ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>PSK-AES128-CBC-SHA,PSK-AES256-CBC-SHA,PSK-3DES-EDE-CBC-SHA,PSK-RC4-SHA</code></td></tr></tbody></table> <h4 id="说明-437"><a href="#说明-437" class="header-anchor">#</a> 说明</h4> <p>SSL PSK 握手支持的加密套件。</p> <br> <h3 id="bridge-mqtt-aws-keepalive"><a href="#bridge-mqtt-aws-keepalive" class="header-anchor">#</a> bridge.mqtt.aws.keepalive</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>60s</code></td></tr></tbody></table> <h4 id="说明-438"><a href="#说明-438" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端的心跳间隔。</p> <br> <h3 id="bridge-mqtt-aws-tls-versions"><a href="#bridge-mqtt-aws-tls-versions" class="header-anchor">#</a> bridge.mqtt.aws.tls_versions</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table> <h4 id="说明-439"><a href="#说明-439" class="header-anchor">#</a> 说明</h4> <p>MQTT 桥接客户端的 SSL 版本。</p> <br> <h3 id="bridge-mqtt-aws-reconnect-interval"><a href="#bridge-mqtt-aws-reconnect-interval" class="header-anchor">#</a> bridge.mqtt.aws.reconnect_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>30s</code></td></tr></tbody></table> <h4 id="说明-440"><a href="#说明-440" class="header-anchor">#</a> 说明</h4> <p>重连间隔。</p> <br> <h3 id="bridge-mqtt-aws-retry-interval"><a href="#bridge-mqtt-aws-retry-interval" class="header-anchor">#</a> bridge.mqtt.aws.retry_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>20s</code></td></tr></tbody></table> <h4 id="说明-441"><a href="#说明-441" class="header-anchor">#</a> 说明</h4> <p>QoS 1/2 消息重发间隔。</p> <br> <h3 id="bridge-mqtt-aws-batch-size"><a href="#bridge-mqtt-aws-batch-size" class="header-anchor">#</a> bridge.mqtt.aws.batch_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>32</td></tr></tbody></table> <h4 id="说明-442"><a href="#说明-442" class="header-anchor">#</a> 说明</h4> <p>EMQ X 桥接的批处理大小。<code>emqx_bridge_mqtt</code> 的 EMQ X 桥接模式支持批量发送消息以提搞吞吐。</p> <br> <h3 id="bridge-mqtt-aws-max-inflight-size"><a href="#bridge-mqtt-aws-max-inflight-size" class="header-anchor">#</a> bridge.mqtt.aws.max_inflight_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>32</td></tr></tbody></table> <h4 id="说明-443"><a href="#说明-443" class="header-anchor">#</a> 说明</h4> <p>飞行窗口大小。</p> <br> <h3 id="bridge-mqtt-aws-queue-replayq-dir"><a href="#bridge-mqtt-aws-queue-replayq-dir" class="header-anchor">#</a> bridge.mqtt.aws.queue.replayq_dir</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/emqx_aws_bridge/</code></td></tr></tbody></table> <h4 id="说明-444"><a href="#说明-444" class="header-anchor">#</a> 说明</h4> <p>设置消息队列文件路径。不配置则仅使用内存存储。</p> <br> <h3 id="bridge-mqtt-aws-queue-replayq-seg-bytes"><a href="#bridge-mqtt-aws-queue-replayq-seg-bytes" class="header-anchor">#</a> bridge.mqtt.aws.queue.replayq_seg_bytes</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>10MB</code></td></tr></tbody></table> <h4 id="说明-445"><a href="#说明-445" class="header-anchor">#</a> 说明</h4> <p>消息队列存储在磁盘的单个文件大小。</p> <br> <h3 id="bridge-mqtt-aws-queue-max-total-size"><a href="#bridge-mqtt-aws-queue-max-total-size" class="header-anchor">#</a> bridge.mqtt.aws.queue.max_total_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>5GB</code></td></tr></tbody></table> <h4 id="说明-446"><a href="#说明-446" class="header-anchor">#</a> 说明</h4> <p>消息队列允许存储的最大值。</p> <br> <h2 id="emqx-coap"><a href="#emqx-coap" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-coap" target="_blank" rel="noopener noreferrer">emqx-coap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="coap-port"><a href="#coap-port" class="header-anchor">#</a> coap.port</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>5683</td></tr></tbody></table> <h4 id="说明-447"><a href="#说明-447" class="header-anchor">#</a> 说明</h4> <p>指定 CoAP 插件的 UDP 绑定端口。</p> <br> <h3 id="coap-enable-stats"><a href="#coap-enable-stats" class="header-anchor">#</a> coap.enable_stats</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-448"><a href="#说明-448" class="header-anchor">#</a> 说明</h4> <p>启用或关闭 CoAP 的统计功能。</p> <br> <h3 id="coap-dtls-port"><a href="#coap-dtls-port" class="header-anchor">#</a> coap.dtls.port</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>5684</td></tr></tbody></table> <h4 id="说明-449"><a href="#说明-449" class="header-anchor">#</a> 说明</h4> <p>指定 CoAP 插件的 DTLS 绑定端口。</p> <br> <h3 id="coap-dtls-verify"><a href="#coap-dtls-verify" class="header-anchor">#</a> coap.dtls.verify</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>verify_peer</code>, <code>verify_none</code></td> <td><code>verify_peer</code></td></tr></tbody></table> <h4 id="说明-450"><a href="#说明-450" class="header-anchor">#</a> 说明</h4> <p>使用 DTLS 时，指定 DTLS 握手过程中是否校验客户端。</p> <br> <h3 id="coap-dtls-keyfile"><a href="#coap-dtls-keyfile" class="header-anchor">#</a> coap.dtls.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/key.pem</code></td></tr></tbody></table> <h4 id="说明-451"><a href="#说明-451" class="header-anchor">#</a> 说明</h4> <p>使用 DTLS 时，指定 DTLS 的私钥文件。</p> <br> <h3 id="coap-dtls-certfile"><a href="#coap-dtls-certfile" class="header-anchor">#</a> coap.dtls.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cert.pem</code></td></tr></tbody></table> <h4 id="说明-452"><a href="#说明-452" class="header-anchor">#</a> 说明</h4> <p>使用 DTLS 时，指定 DTLS 的证书文件。</p> <br> <h3 id="coap-dtls-cacertfile"><a href="#coap-dtls-cacertfile" class="header-anchor">#</a> coap.dtls.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cacert.pem</code></td></tr></tbody></table> <h4 id="说明-453"><a href="#说明-453" class="header-anchor">#</a> 说明</h4> <p>使用 DTLS 时，指定 DTLS 的 CA 证书文件。</p> <br> <h3 id="coap-dtls-fail-if-no-peer-cert"><a href="#coap-dtls-fail-if-no-peer-cert" class="header-anchor">#</a> coap.dtls.fail_if_no_peer_cert</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-454"><a href="#说明-454" class="header-anchor">#</a> 说明</h4> <p>使用 DTLS 时，DTLS 握手过程中若客户端没有证书，是否让握手失败。</p> <br> <h3 id="coap-dtls-ciphers"><a href="#coap-dtls-ciphers" class="header-anchor">#</a> coap.dtls.ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table> <h4 id="说明-455"><a href="#说明-455" class="header-anchor">#</a> 说明</h4> <p>使用 DTLS 时，指定 DTLS 服务端支持的 Cipher 列表。</p> <br> <h2 id="emqx-dashboard"><a href="#emqx-dashboard" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-dashboard" target="_blank" rel="noopener noreferrer">emqx-dashboard<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="dashboard-default-user-login-dashboard-default-user-password"><a href="#dashboard-default-user-login-dashboard-default-user-password" class="header-anchor">#</a> dashboard.default_user.login<code>&amp;</code>dashboard.default_user.password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-456"><a href="#说明-456" class="header-anchor">#</a> 说明</h4> <p>Dashboard 默认用户的认证数据。<code>dashboard.default_user.login</code> 与 <code>dashboard.default_user.password</code> 必须同时存在。</p> <br> <h3 id="dashboard-listener-http"><a href="#dashboard-listener-http" class="header-anchor">#</a> dashboard.listener.http</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>18083</td></tr></tbody></table> <h4 id="说明-457"><a href="#说明-457" class="header-anchor">#</a> 说明</h4> <p>HTTP 监听器的监听端口。</p> <br> <h3 id="dashboard-listener-http-acceptors"><a href="#dashboard-listener-http-acceptors" class="header-anchor">#</a> dashboard.listener.http.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>4</td></tr></tbody></table> <h4 id="说明-458"><a href="#说明-458" class="header-anchor">#</a> 说明</h4> <p>此监听器将创建的监听进程数量。</p> <br> <h3 id="dashboard-listener-http-max-clients"><a href="#dashboard-listener-http-max-clients" class="header-anchor">#</a> dashboard.listener.http.max_clients</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-459"><a href="#说明-459" class="header-anchor">#</a> 说明</h4> <p>此监听器允许同时建立的最大连接数量限制。</p> <br> <h3 id="dashboard-listener-http-inet6"><a href="#dashboard-listener-http-inet6" class="header-anchor">#</a> dashboard.listener.http.inet6</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ture</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-460"><a href="#说明-460" class="header-anchor">#</a> 说明</h4> <p>是否设置套接字允许 IPv6 连接。</p> <br> <h3 id="dashboard-listener-http-ipv6-v6only"><a href="#dashboard-listener-http-ipv6-v6only" class="header-anchor">#</a> dashboard.listener.http.ipv6_v6only</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ture</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-461"><a href="#说明-461" class="header-anchor">#</a> 说明</h4> <p>是否限制套接字仅使用 IPv6，禁止任何 IPv4 连接。仅适用于 IPv6 套接字，即仅在 <code>dashboard.listener.http.inet6</code> 被设置为 <code>true</code> 时此配置项的值有实际意义。需要注意的是，在某些操作系统上，例如 Windows，此配置项唯一允许的值为 <code>true</code>。</p> <br> <h3 id="dashboard-listener-https"><a href="#dashboard-listener-https" class="header-anchor">#</a> dashboard.listener.https</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>18084</td></tr></tbody></table> <h4 id="说明-462"><a href="#说明-462" class="header-anchor">#</a> 说明</h4> <p>HTTPS 监听器的监听端口，<strong>默认此监听器被禁用</strong>。</p> <br> <h3 id="dashboard-listener-https-acceptors"><a href="#dashboard-listener-https-acceptors" class="header-anchor">#</a> dashboard.listener.https.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>2</td></tr></tbody></table> <h4 id="说明-463"><a href="#说明-463" class="header-anchor">#</a> 说明</h4> <p>同 <code>dashboard.listener.http.acceptors</code>。</p> <br> <h3 id="dashboard-listener-https-max-clients"><a href="#dashboard-listener-https-max-clients" class="header-anchor">#</a> dashboard.listener.https.max_clients</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-464"><a href="#说明-464" class="header-anchor">#</a> 说明</h4> <p>同 <code>dashboard.listener.http.max_clients</code>。</p> <br> <h3 id="dashboard-listener-https-inet6"><a href="#dashboard-listener-https-inet6" class="header-anchor">#</a> dashboard.listener.https.inet6</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ture</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-465"><a href="#说明-465" class="header-anchor">#</a> 说明</h4> <p>同 <code>dashboard.listener.http.inet6</code>。</p> <br> <h3 id="dashboard-listener-https-ipv6-v6only"><a href="#dashboard-listener-https-ipv6-v6only" class="header-anchor">#</a> dashboard.listener.https.ipv6_v6only</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ture</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-466"><a href="#说明-466" class="header-anchor">#</a> 说明</h4> <p>同 <code>dashboard.listener.http.ipv6_v6only</code>。</p> <br> <h3 id="dashboard-listener-https-keyfile"><a href="#dashboard-listener-https-keyfile" class="header-anchor">#</a> dashboard.listener.https.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/key.pem</code></td></tr></tbody></table> <h4 id="说明-467"><a href="#说明-467" class="header-anchor">#</a> 说明</h4> <p>服务端私钥文件路径。</p> <br> <h3 id="dashboard-listener-https-certfile"><a href="#dashboard-listener-https-certfile" class="header-anchor">#</a> dashboard.listener.https.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cert.pem</code></td></tr></tbody></table> <h4 id="说明-468"><a href="#说明-468" class="header-anchor">#</a> 说明</h4> <p>服务端证书文件路径。</p> <br> <h3 id="dashboard-listener-https-cacertfile"><a href="#dashboard-listener-https-cacertfile" class="header-anchor">#</a> dashboard.listener.https.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cacert.pem</code></td></tr></tbody></table> <h4 id="说明-469"><a href="#说明-469" class="header-anchor">#</a> 说明</h4> <p>CA 证书文件路径。</p> <br> <h3 id="dashboard-listener-https-dhfile"><a href="#dashboard-listener-https-dhfile" class="header-anchor">#</a> dashboard.listener.https.dhfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table> <h4 id="说明-470"><a href="#说明-470" class="header-anchor">#</a> 说明</h4> <p>如果协商使用 Diffie Hellman 密钥交换的密码套件，则可以通过此配置项指定包含 PEM 编码的 Diffie Hellman 参数的文件路径。 如果未指定，则使用默认参数。</p> <br> <h3 id="dashboard-listener-https-verify"><a href="#dashboard-listener-https-verify" class="header-anchor">#</a> dashboard.listener.https.verify</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>verify_peer</code>, <code>verify_none</code></td> <td><code>verify_peer</code></td></tr></tbody></table> <h4 id="说明-471"><a href="#说明-471" class="header-anchor">#</a> 说明</h4> <p><code>verify_none</code> 表示关闭对端证书验证，服务端不会向客户端发出证书请求。<code>verify_peer</code> 表示开启对端证书验证，服务端会向客户端发出证书请求。当此配置项被设置为 <code>verify_peer</code> 时，通常需要配合 <code>dashboard.listener.https.fail_if_no_peer_cert</code> 一起使用，以指定是否强制客户端提供证书。</p> <br> <h3 id="dashboard-listener-https-fail-if-no-peer-cert"><a href="#dashboard-listener-https-fail-if-no-peer-cert" class="header-anchor">#</a> dashboard.listener.https.fail_if_no_peer_cert</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ture</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-472"><a href="#说明-472" class="header-anchor">#</a> 说明</h4> <p>必须配合 <code>dashboard.listener.https.verify</code> 一起使用。如果设置为 <code>true</code>，则服务端向客户端请求证书时如果客户端不提供证书将导致握手失败。如果设置为 <code>false</code>，则客户端即使不提供证书也能握手成功。</p> <br> <h3 id="dashboard-listener-https-tls-versions"><a href="#dashboard-listener-https-tls-versions" class="header-anchor">#</a> dashboard.listener.https.tls_versions</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table> <h4 id="说明-473"><a href="#说明-473" class="header-anchor">#</a> 说明</h4> <p>指定服务端支持的 TLS 协议版本，版本之间由 <code>,</code> 分隔，支持的 TLS 协议版本有： <code>tlsv1.3</code>, <code>tlsv1.2</code>, <code>tlsv1.1</code>, <code>tlsv1</code>, <code>sslv3</code>。</p> <br> <h3 id="dashboard-listener-https-ciphers"><a href="#dashboard-listener-https-ciphers" class="header-anchor">#</a> dashboard.listener.https.ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table> <h4 id="说明-474"><a href="#说明-474" class="header-anchor">#</a> 说明</h4> <p>指定服务端支持的加密套件。</p> <br> <h3 id="dashboard-listener-https-secure-renegotiate"><a href="#dashboard-listener-https-secure-renegotiate" class="header-anchor">#</a> dashboard.listener.https.secure_renegotiate</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-475"><a href="#说明-475" class="header-anchor">#</a> 说明</h4> <p>指定是否启动安全重协商机制。</p> <br> <h3 id="dashboard-listener-https-reuse-sessions"><a href="#dashboard-listener-https-reuse-sessions" class="header-anchor">#</a> dashboard.listener.https.reuse_sessions</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-476"><a href="#说明-476" class="header-anchor">#</a> 说明</h4> <p>指定是否启用会话复用机制。</p> <br> <h3 id="dashboard-listener-https-honor-cipher-order"><a href="#dashboard-listener-https-honor-cipher-order" class="header-anchor">#</a> dashboard.listener.https.honor_cipher_order</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-477"><a href="#说明-477" class="header-anchor">#</a> 说明</h4> <p>如果设置为 <code>on</code>，则使用服务器的首选项进行密码选择。 如果设置为 <code>off</code>，则使用客户端的首选项。</p> <br> <h2 id="emqx-lwm2m"><a href="#emqx-lwm2m" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-lwm2m" target="_blank" rel="noopener noreferrer">emqx-lwm2m<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="lwm2m-port"><a href="#lwm2m-port" class="header-anchor">#</a> lwm2m.port</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>5683</td></tr></tbody></table> <h4 id="说明-478"><a href="#说明-478" class="header-anchor">#</a> 说明</h4> <p>指定 LwM2M 使用的 UDP 端口。</p> <br> <h3 id="lwm2m-lifetime-min"><a href="#lwm2m-lifetime-min" class="header-anchor">#</a> lwm2m.lifetime_min</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>1s</code></td></tr></tbody></table> <h4 id="说明-479"><a href="#说明-479" class="header-anchor">#</a> 说明</h4> <p>指定允许的 LwM2M lifetime 最小值，单位: 秒。</p> <br> <h3 id="lwm2m-lifetime-max"><a href="#lwm2m-lifetime-max" class="header-anchor">#</a> lwm2m.lifetime_max</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>86400s</code></td></tr></tbody></table> <h4 id="说明-480"><a href="#说明-480" class="header-anchor">#</a> 说明</h4> <p>指定允许的 LwM2M lifetime 最大值，单位: 秒。</p> <br> <h3 id="lwm2m-qmode-time-window"><a href="#lwm2m-qmode-time-window" class="header-anchor">#</a> lwm2m.qmode_time_window</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>22</td></tr></tbody></table> <h4 id="说明-481"><a href="#说明-481" class="header-anchor">#</a> 说明</h4> <p>指定 LwM2M Q 模式使用的窗口大小，单位: 秒。</p> <br> <p>这个窗口期之内可以下发执行给 Q 模式的设备，过了窗口期则缓存下行数据。</p> <h3 id="lwm2m-lb"><a href="#lwm2m-lb" class="header-anchor">#</a> lwm2m.lb</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>coaproxy</code>, <code>undefined</code></td> <td><code>undefined</code></td></tr></tbody></table> <h4 id="说明-482"><a href="#说明-482" class="header-anchor">#</a> 说明</h4> <p>设置是否使用 coaproxy。设置为 <code>undefined</code> 则不使用 coaproxy。</p> <br> <h3 id="lwm2m-auto-observe"><a href="#lwm2m-auto-observe" class="header-anchor">#</a> lwm2m.auto_observe</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-483"><a href="#说明-483" class="header-anchor">#</a> 说明</h4> <p>在设备注册后是否自动下发 observe 命令。</p> <br> <h3 id="lwm2m-mountpoint"><a href="#lwm2m-mountpoint" class="header-anchor">#</a> lwm2m.mountpoint</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>lwm2m/%e/</code></td></tr></tbody></table> <h4 id="说明-484"><a href="#说明-484" class="header-anchor">#</a> 说明</h4> <p>设置 LwM2M 主题的挂载点。支持以下通配符:</p> <ul><li>'%e': Endpoint Name</li> <li>'%a': IP Address</li></ul> <br> <h3 id="lwm2m-topics-command"><a href="#lwm2m-topics-command" class="header-anchor">#</a> lwm2m.topics.command</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>dn/#</code></td></tr></tbody></table> <h4 id="说明-485"><a href="#说明-485" class="header-anchor">#</a> 说明</h4> <p>设备注册完成后，需要订阅的下行命令主题。</p> <br> <h3 id="lwm2m-topics-response"><a href="#lwm2m-topics-response" class="header-anchor">#</a> lwm2m.topics.response</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>up/resp</code></td></tr></tbody></table> <h4 id="说明-486"><a href="#说明-486" class="header-anchor">#</a> 说明</h4> <p>设备的上行回复需要发布到哪个主题。</p> <br> <h3 id="lwm2m-topics-notify"><a href="#lwm2m-topics-notify" class="header-anchor">#</a> lwm2m.topics.notify</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>up/notify</code></td></tr></tbody></table> <h4 id="说明-487"><a href="#说明-487" class="header-anchor">#</a> 说明</h4> <p>设备的上行报告消息 (notify) 需要发布到哪个主题。</p> <br> <h3 id="lwm2m-topics-register"><a href="#lwm2m-topics-register" class="header-anchor">#</a> lwm2m.topics.register</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>up/resp</code></td></tr></tbody></table> <h4 id="说明-488"><a href="#说明-488" class="header-anchor">#</a> 说明</h4> <p>设备的上行注册消息 (register) 需要发布到哪个主题。</p> <br> <h3 id="lwm2m-topics-update"><a href="#lwm2m-topics-update" class="header-anchor">#</a> lwm2m.topics.update</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>up/resp</code></td></tr></tbody></table> <h4 id="说明-489"><a href="#说明-489" class="header-anchor">#</a> 说明</h4> <p>设备的上行更新消息 (update) 需要发布到哪个主题。</p> <br> <h3 id="lwm2m-opts-buffer"><a href="#lwm2m-opts-buffer" class="header-anchor">#</a> lwm2m.opts.buffer</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1024KB</code></td></tr></tbody></table> <h4 id="说明-490"><a href="#说明-490" class="header-anchor">#</a> 说明</h4> <p>UDP 调优参数，指定 UDP 用户态缓存大小。</p> <br> <h3 id="lwm2m-opts-recbuf"><a href="#lwm2m-opts-recbuf" class="header-anchor">#</a> lwm2m.opts.recbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1024KB</code></td></tr></tbody></table> <h4 id="说明-491"><a href="#说明-491" class="header-anchor">#</a> 说明</h4> <p>UDP 调优参数，指定 UDP 接收缓存大小。</p> <br> <h3 id="lwm2m-opts-sndbuf"><a href="#lwm2m-opts-sndbuf" class="header-anchor">#</a> lwm2m.opts.sndbuf</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1024KB</code></td></tr></tbody></table> <h4 id="说明-492"><a href="#说明-492" class="header-anchor">#</a> 说明</h4> <p>UDP 调优参数，指定 UDP 发送缓存大小。</p> <br> <h3 id="lwm2m-opts-read-packets"><a href="#lwm2m-opts-read-packets" class="header-anchor">#</a> lwm2m.opts.read_packets</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>20</td></tr></tbody></table> <h4 id="说明-493"><a href="#说明-493" class="header-anchor">#</a> 说明</h4> <p>UDP 调优参数，指定每次从 UDP socket 读取多少个报文。</p> <br> <h3 id="lwm2m-certfile"><a href="#lwm2m-certfile" class="header-anchor">#</a> lwm2m.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cert.pem</code></td></tr></tbody></table> <h4 id="说明-494"><a href="#说明-494" class="header-anchor">#</a> 说明</h4> <p>指定 UDP DTLS 使用的证书文件。</p> <br> <h3 id="lwm2m-keyfile"><a href="#lwm2m-keyfile" class="header-anchor">#</a> lwm2m.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/key.pem</code></td></tr></tbody></table> <h4 id="说明-495"><a href="#说明-495" class="header-anchor">#</a> 说明</h4> <p>指定 UDP DTLS 使用的私钥文件。</p> <br> <h3 id="lwm2m-xml-dir"><a href="#lwm2m-xml-dir" class="header-anchor">#</a> lwm2m.xml_dir</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>dir</td> <td><code>etc/lwm2m_xml</code></td></tr></tbody></table> <h4 id="说明-496"><a href="#说明-496" class="header-anchor">#</a> 说明</h4> <p>指定 LwM2M Object 定义文件存放的目录。</p> <br> <h2 id="emqx-management"><a href="#emqx-management" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-management" target="_blank" rel="noopener noreferrer">emqx-management<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="management-max-row-limit"><a href="#management-max-row-limit" class="header-anchor">#</a> management.max_row_limit</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>10000</td></tr></tbody></table> <h4 id="说明-497"><a href="#说明-497" class="header-anchor">#</a> 说明</h4> <p>分页查询时返回的最大记录数量。</p> <br> <h3 id="management-default-application-id"><a href="#management-default-application-id" class="header-anchor">#</a> management.default_application.id</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>admin</code></td></tr></tbody></table> <h4 id="说明-498"><a href="#说明-498" class="header-anchor">#</a> 说明</h4> <p>默认应用的 AppId。</p> <br> <h3 id="management-default-application-secret"><a href="#management-default-application-secret" class="header-anchor">#</a> management.default_application.secret</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>public</code></td></tr></tbody></table> <h4 id="说明-499"><a href="#说明-499" class="header-anchor">#</a> 说明</h4> <p>默认应用的 AppSecret。</p> <br> <h3 id="management-listener-http"><a href="#management-listener-http" class="header-anchor">#</a> management.listener.http</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8081</td></tr></tbody></table> <h4 id="说明-500"><a href="#说明-500" class="header-anchor">#</a> 说明</h4> <p>HTTP 监听器的监听端口。</p> <br> <h3 id="management-listener-http-acceptors"><a href="#management-listener-http-acceptors" class="header-anchor">#</a> management.listener.http.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>2</td></tr></tbody></table> <h4 id="说明-501"><a href="#说明-501" class="header-anchor">#</a> 说明</h4> <p>此监听器将创建的监听进程数量。</p> <br> <h3 id="management-listener-http-max-clients"><a href="#management-listener-http-max-clients" class="header-anchor">#</a> management.listener.http.max_clients</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-502"><a href="#说明-502" class="header-anchor">#</a> 说明</h4> <p>此监听器允许同时建立的最大连接数量限制。</p> <br> <h3 id="management-listener-http-backlog"><a href="#management-listener-http-backlog" class="header-anchor">#</a> management.listener.http.backlog</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-503"><a href="#说明-503" class="header-anchor">#</a> 说明</h4> <p>TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。</p> <br> <h3 id="management-listener-http-send-timeout"><a href="#management-listener-http-send-timeout" class="header-anchor">#</a> management.listener.http.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-504"><a href="#说明-504" class="header-anchor">#</a> 说明</h4> <p>HTTP 报文发送超时时间。</p> <br> <h3 id="management-listener-http-send-timeout-close"><a href="#management-listener-http-send-timeout-close" class="header-anchor">#</a> management.listener.http.send_timeout_close</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-505"><a href="#说明-505" class="header-anchor">#</a> 说明</h4> <p>HTTP 报文发送超时后，是否关闭该连接。</p> <br> <h3 id="management-listener-http-inet6"><a href="#management-listener-http-inet6" class="header-anchor">#</a> management.listener.http.inet6</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-506"><a href="#说明-506" class="header-anchor">#</a> 说明</h4> <p>是否设置套接字允许 IPv6 连接。</p> <br> <h3 id="management-listener-http-ipv6-v6only"><a href="#management-listener-http-ipv6-v6only" class="header-anchor">#</a> management.listener.http.ipv6_v6only</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-507"><a href="#说明-507" class="header-anchor">#</a> 说明</h4> <p>是否限制套接字仅使用 IPv6，禁止任何 IPv4 连接。仅适用于 IPv6 套接字，即仅在 <code>management.listener.http.inet6</code> 被设置为 <code>true</code> 时此配置项的值有实际意义。需要注意的是，在某些操作系统上，例如 Windows，此配置项唯一允许的值为 <code>true</code>。</p> <br> <h3 id="management-listener-https"><a href="#management-listener-https" class="header-anchor">#</a> management.listener.https</h3> <table><thead><tr><th>Type</th> <th>Default</th> <th>Example</th></tr></thead> <tbody><tr><td>integer</td> <td>-</td> <td>8081</td></tr></tbody></table> <h4 id="说明-508"><a href="#说明-508" class="header-anchor">#</a> 说明</h4> <p>HTTPS 监听器的监听端口。</p> <h3 id="management-listener-https-acceptors"><a href="#management-listener-https-acceptors" class="header-anchor">#</a> management.listener.https.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>2</td></tr></tbody></table> <h4 id="说明-509"><a href="#说明-509" class="header-anchor">#</a> 说明</h4> <p>此监听器将创建的监听进程数量。</p> <br> <h3 id="management-listener-https-max-clients"><a href="#management-listener-https-max-clients" class="header-anchor">#</a> management.listener.https.max_clients</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-510"><a href="#说明-510" class="header-anchor">#</a> 说明</h4> <p>此监听器允许同时建立的最大连接数量限制。</p> <br> <h3 id="management-listener-https-backlog"><a href="#management-listener-https-backlog" class="header-anchor">#</a> management.listener.https.backlog</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-511"><a href="#说明-511" class="header-anchor">#</a> 说明</h4> <p>TCP 连接队列的最大长度。它表明了系统中允许的正在三次握手的 TCP 连接队列最大个数。</p> <br> <h3 id="management-listener-https-send-timeout"><a href="#management-listener-https-send-timeout" class="header-anchor">#</a> management.listener.https.send_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-512"><a href="#说明-512" class="header-anchor">#</a> 说明</h4> <p>HTTPS 报文发送超时时间。</p> <br> <h3 id="management-listener-https-send-timeout-close"><a href="#management-listener-https-send-timeout-close" class="header-anchor">#</a> management.listener.https.send_timeout_close</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-513"><a href="#说明-513" class="header-anchor">#</a> 说明</h4> <p>HTTPS 报文发送超时后，是否关闭该连接。</p> <br> <h3 id="management-listener-https-keyfile"><a href="#management-listener-https-keyfile" class="header-anchor">#</a> management.listener.https.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/key.pem</code></td></tr></tbody></table> <h4 id="说明-514"><a href="#说明-514" class="header-anchor">#</a> 说明</h4> <p>服务端私钥文件路径。</p> <br> <h3 id="management-listener-https-certfile"><a href="#management-listener-https-certfile" class="header-anchor">#</a> management.listener.https.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cert.pem</code></td></tr></tbody></table> <h4 id="说明-515"><a href="#说明-515" class="header-anchor">#</a> 说明</h4> <p>服务端证书文件路径。</p> <br> <h3 id="management-listener-https-cacertfile"><a href="#management-listener-https-cacertfile" class="header-anchor">#</a> management.listener.https.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cacert.pem</code></td></tr></tbody></table> <h4 id="说明-516"><a href="#说明-516" class="header-anchor">#</a> 说明</h4> <p>CA 证书文件路径。</p> <br> <h3 id="management-listener-https-verify"><a href="#management-listener-https-verify" class="header-anchor">#</a> management.listener.https.verify</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>verify_peer</code>, <code>verify_none</code></td> <td><code>verify_peer</code></td></tr></tbody></table> <h4 id="说明-517"><a href="#说明-517" class="header-anchor">#</a> 说明</h4> <p><code>verify_none</code> 表示关闭对端证书验证，服务端不会向客户端发出证书请求。<code>verify_peer</code> 表示开启对端证书验证，服务端会向客户端发出证书请求。当此配置项被设置为 <code>verify_peer</code> 时，通常需要配合 <code>management.listener.https.fail_if_no_peer_cert</code> 一起使用，以指定是否强制客户端提供证书。</p> <br> <h3 id="management-listener-https-fail-if-no-peer-cert"><a href="#management-listener-https-fail-if-no-peer-cert" class="header-anchor">#</a> management.listener.https.fail_if_no_peer_cert</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ture</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-518"><a href="#说明-518" class="header-anchor">#</a> 说明</h4> <p>必须配合 <code>management.listener.https.verify</code> 一起使用。如果设置为 <code>true</code>，则服务端向客户端请求证书时如果客户端不提供证书将导致握手失败。如果设置为 <code>false</code>，则客户端即使不提供证书也能握手成功。</p> <br> <h3 id="management-listener-https-inet6"><a href="#management-listener-https-inet6" class="header-anchor">#</a> management.listener.https.inet6</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-519"><a href="#说明-519" class="header-anchor">#</a> 说明</h4> <p>是否设置套接字允许 IPv6 连接。</p> <br> <h3 id="management-listener-https-ipv6-v6only"><a href="#management-listener-https-ipv6-v6only" class="header-anchor">#</a> management.listener.https.ipv6_v6only</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-520"><a href="#说明-520" class="header-anchor">#</a> 说明</h4> <p>是否限制套接字仅使用 IPv6，禁止任何 IPv4 连接。仅适用于 IPv6 套接字，即仅在 <code>management.listener.https.inet6</code> 被设置为 <code>true</code> 时此配置项的值有实际意义。需要注意的是，在某些操作系统上，例如 Windows，此配置项唯一允许的值为 <code>true</code>。</p> <br> <h2 id="emqx-reloader"><a href="#emqx-reloader" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-reloader" target="_blank" rel="noopener noreferrer">emqx-reloader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="reloader-interval"><a href="#reloader-interval" class="header-anchor">#</a> reloader.interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>60s</code></td></tr></tbody></table> <h4 id="说明-521"><a href="#说明-521" class="header-anchor">#</a> 说明</h4> <p>每隔多长时间将所有代码代码热更新一次。</p> <br> <h3 id="reloader-logfile"><a href="#reloader-logfile" class="header-anchor">#</a> reloader.logfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>reloader.log</code></td></tr></tbody></table> <h4 id="说明-522"><a href="#说明-522" class="header-anchor">#</a> 说明</h4> <p>代码热更新的日志文件</p> <br> <h2 id="emqx-retainer"><a href="#emqx-retainer" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-retainer" target="_blank" rel="noopener noreferrer">emqx-retainer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="retainer-storage-type"><a href="#retainer-storage-type" class="header-anchor">#</a> retainer.storage_type</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>ram</code>, <code>disc</code>, <code>disc_only</code></td> <td><code>ram</code></td></tr></tbody></table> <h4 id="说明-523"><a href="#说明-523" class="header-anchor">#</a> 说明</h4> <p>保留消息的存储类型，以下选项可用：</p> <p><code>ram</code></p> <p>保留消息仅存储在内存中。</p> <p><code>disc</code></p> <p>保留消息同时存储在内存和磁盘中。</p> <p><code>disc_only</code></p> <p>保留消息仅存储在磁盘中。</p> <br> <h3 id="retainer-max-retained-messages"><a href="#retainer-max-retained-messages" class="header-anchor">#</a> retainer.max_retained_messages</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>0</td></tr></tbody></table> <h4 id="说明-524"><a href="#说明-524" class="header-anchor">#</a> 说明</h4> <p>保留消息的存储数量限制。一旦存储数量达到限制，可以替换已存在的保留消息，但不能为新的主题存储保留消息。0 表示没有限制。</p> <br> <h3 id="retainer-max-payload-size"><a href="#retainer-max-payload-size" class="header-anchor">#</a> retainer.max_payload_size</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>bytesize</td> <td><code>1MB</code></td></tr></tbody></table> <h4 id="说明-525"><a href="#说明-525" class="header-anchor">#</a> 说明</h4> <p>允许存储的保留消息的 Payload 最大长度限制。如果 Payload 超出最大限制，该保留消息可以被正常处理，但不会存储在服务端。</p> <br> <h3 id="retainer-expiry-interval"><a href="#retainer-expiry-interval" class="header-anchor">#</a> retainer.expiry_interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>0</code></td></tr></tbody></table> <h4 id="说明-526"><a href="#说明-526" class="header-anchor">#</a> 说明</h4> <p>保留消息的过期间隔，仅对协议版本低于 MQTT v5.0 的客户端生效，MQTT v5.0 客户端的保留消息过期间隔将以 <code>Message Expiry Interval</code> 的值为准。0 表示永不过期。</p> <br> <h2 id="emqx-rule-engine"><a href="#emqx-rule-engine" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-rule-engine" target="_blank" rel="noopener noreferrer">emqx-rule-engine<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="rule-engine-ignore-sys-message"><a href="#rule-engine-ignore-sys-message" class="header-anchor">#</a> rule-engine.ignore_sys_message</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-527"><a href="#说明-527" class="header-anchor">#</a> 说明</h4> <p>忽略系统消息 ($SYS)。启用此选项规则引擎将不会处理系统消息。</p> <br> <h3 id="rule-engine-events"><a href="#rule-engine-events" class="header-anchor">#</a> rule-engine.events.<event-name></event-name></h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-528"><a href="#说明-528" class="header-anchor">#</a> 说明</h4> <p>设置是否发布事件消息。可指定事件消息的 QoS，例如:</p> <div class="language- extra-class"><pre class="language-text"><code>rule-engine.events.client_connected = on, qos1

</code></pre></div><p>若启用此选项，规则引擎会将系统消息使用 <code>$events/&lt;event-name&gt;</code> 主题发布出来。可支持的 <code>&lt;event-name&gt;</code> 有:</p> <ul><li>client_connected: 客户端登录完成</li> <li>client_disconnected: 客户端下线</li> <li>session_subscribed: 客户端订阅</li> <li>session_unsubscribed: 客户端取消订阅</li> <li>message_delivered: 消息已投递</li> <li>message_acked: 消息已确认</li> <li>message_dropped: 消息被丢弃</li></ul> <p>如果禁用此选项，事件消息将不会发布，但事件规则仍然可以使用。例如，即使 <code>rule_engine.events.client_connected = off</code>，以下规则仍然可以使用:</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT * FROM &quot;$events/client_connected&quot;
</code></pre></div><br> <h2 id="emqx-sn"><a href="#emqx-sn" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-sn" target="_blank" rel="noopener noreferrer">emqx-sn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="mqtt-sn-port"><a href="#mqtt-sn-port" class="header-anchor">#</a> mqtt.sn.port</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>1884</code></td></tr></tbody></table> <h4 id="说明-529"><a href="#说明-529" class="header-anchor">#</a> 说明</h4> <p><code>emqx_sn</code> 监听的 UDP 端口。</p> <br> <h3 id="mqtt-sn-advertise-duration"><a href="#mqtt-sn-advertise-duration" class="header-anchor">#</a> mqtt.sn.advertise_duration</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-530"><a href="#说明-530" class="header-anchor">#</a> 说明</h4> <p>ADVERTISE 消息广播间隔，单位：秒。</p> <br> <h3 id="mqtt-sn-gateway-id"><a href="#mqtt-sn-gateway-id" class="header-anchor">#</a> mqtt.sn.gateway_id</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1</td></tr></tbody></table> <h4 id="说明-531"><a href="#说明-531" class="header-anchor">#</a> 说明</h4> <p>ADVERTISE 中的 MQTT-SN 网关 ID。</p> <br> <h3 id="mqtt-sn-enable-stats"><a href="#mqtt-sn-enable-stats" class="header-anchor">#</a> mqtt.sn.enable_stats</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-532"><a href="#说明-532" class="header-anchor">#</a> 说明</h4> <p>是否开启客户端状态统计信息。</p> <br> <h3 id="mqtt-sn-enable-qos3"><a href="#mqtt-sn-enable-qos3" class="header-anchor">#</a> mqtt.sn.enable_qos3</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-533"><a href="#说明-533" class="header-anchor">#</a> 说明</h4> <p>是否处理 QoS 为 -1 的消息。</p> <br> <h3 id="mqtt-sn-idle-timeout"><a href="#mqtt-sn-idle-timeout" class="header-anchor">#</a> mqtt.sn.idle_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>30s</code></td></tr></tbody></table> <h4 id="说明-534"><a href="#说明-534" class="header-anchor">#</a> 说明</h4> <p>建立后的发呆时间，如果这段时间内未收到任何报文，则会关闭该连接。</p> <br> <h3 id="mqtt-sn-predefined-topic-0"><a href="#mqtt-sn-predefined-topic-0" class="header-anchor">#</a> mqtt.sn.predefined.topic.0</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>reserved</code></td></tr></tbody></table> <h4 id="说明-535"><a href="#说明-535" class="header-anchor">#</a> 说明</h4> <p>预定义的 Topic 与 TopicId 映射。Id 为 0 的主题是保留项，固定为 <code>reserved</code>。例如，预定义主题 <code>foo/bar</code> 的 Id 为 <code>1</code>：</p> <div class="language- extra-class"><pre class="language-text"><code>mqtt.sn.predefined.topic.1 = foo/bar
</code></pre></div><br> <h3 id="mqtt-sn-username"><a href="#mqtt-sn-username" class="header-anchor">#</a> mqtt.sn.username</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>mqtt_sn_user</code></td></tr></tbody></table> <h4 id="说明-536"><a href="#说明-536" class="header-anchor">#</a> 说明</h4> <p><code>emqx_sn</code> 连接至 EMQ X 的用户名。</p> <br> <h3 id="mqtt-sn-password"><a href="#mqtt-sn-password" class="header-anchor">#</a> mqtt.sn.password</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>abc</code></td></tr></tbody></table> <h4 id="说明-537"><a href="#说明-537" class="header-anchor">#</a> 说明</h4> <p><code>emqx_sn</code> 连接至 EMQ X 的密码。</p> <br> <h2 id="emqx-prometheus"><a href="#emqx-prometheus" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-prometheus" target="_blank" rel="noopener noreferrer">emqx-prometheus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="prometheus-push-gateway-server"><a href="#prometheus-push-gateway-server" class="header-anchor">#</a> prometheus.push.gateway.server</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>http://127.0.0.1:9091</code></td></tr></tbody></table> <h4 id="说明-538"><a href="#说明-538" class="header-anchor">#</a> 说明</h4> <p>指定 Prometheus gateway 的 URI。</p> <br> <h3 id="prometheus-interval"><a href="#prometheus-interval" class="header-anchor">#</a> prometheus.interval</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>15000</td></tr></tbody></table> <h4 id="说明-539"><a href="#说明-539" class="header-anchor">#</a> 说明</h4> <p>指定 Stats 数据的收集间隔，单位: 毫秒。</p> <br> <h3 id="prometheus-collector"><a href="#prometheus-collector" class="header-anchor">#</a> prometheus.collector.<N></N></h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>emqx_prometheus</code></td></tr></tbody></table> <h4 id="说明-540"><a href="#说明-540" class="header-anchor">#</a> 说明</h4> <p>指定 Prometheus 的 Collector。</p> <br> <h2 id="emqx-stomp"><a href="#emqx-stomp" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-stomp" target="_blank" rel="noopener noreferrer">emqx-stomp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="stomp-listener"><a href="#stomp-listener" class="header-anchor">#</a> stomp.listener</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>61613</td></tr></tbody></table> <h4 id="说明-541"><a href="#说明-541" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 插件监听的本地端口。</p> <br> <h3 id="stomp-listener-acceptors"><a href="#stomp-listener-acceptors" class="header-anchor">#</a> stomp.listener.acceptors</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>4</td></tr></tbody></table> <h4 id="说明-542"><a href="#说明-542" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 服务 Acceptor 线程池的大小。</p> <br> <h3 id="stomp-listener-max-connections"><a href="#stomp-listener-max-connections" class="header-anchor">#</a> stomp.listener.max_connections</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>512</td></tr></tbody></table> <h4 id="说明-543"><a href="#说明-543" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 服务支持的最大连接数。</p> <br> <h3 id="stomp-listener-ssl"><a href="#stomp-listener-ssl" class="header-anchor">#</a> stomp.listener.ssl</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-544"><a href="#说明-544" class="header-anchor">#</a> 说明</h4> <p>指定是否使用 SSL。</p> <br> <h3 id="stomp-listener-keyfile"><a href="#stomp-listener-keyfile" class="header-anchor">#</a> stomp.listener.keyfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/key.pem</code></td></tr></tbody></table> <h4 id="说明-545"><a href="#说明-545" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定 SSL 的私钥文件。</p> <br> <h3 id="stomp-listener-certfile"><a href="#stomp-listener-certfile" class="header-anchor">#</a> stomp.listener.certfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cert.pem</code></td></tr></tbody></table> <h4 id="说明-546"><a href="#说明-546" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定 SSL 的证书文件。</p> <br> <h3 id="stomp-listener-cacertfile"><a href="#stomp-listener-cacertfile" class="header-anchor">#</a> stomp.listener.cacertfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/cacert.pem</code></td></tr></tbody></table> <h4 id="说明-547"><a href="#说明-547" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定 SSL 的 CA 证书文件。</p> <br> <h3 id="stomp-listener-dhfile"><a href="#stomp-listener-dhfile" class="header-anchor">#</a> stomp.listener.dhfile</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>etc/certs/dh-params.pem</code></td></tr></tbody></table> <h4 id="说明-548"><a href="#说明-548" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定 Ephemeral Diffie-Helman 算法使用的 key 文件。</p> <br> <h3 id="stomp-listener-verify"><a href="#stomp-listener-verify" class="header-anchor">#</a> stomp.listener.verify</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>verify_peer</code>, <code>verify_none</code></td> <td><code>verify_peer</code></td></tr></tbody></table> <h4 id="说明-549"><a href="#说明-549" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定握手过程中是否校验客户端。</p> <br> <h3 id="stomp-listener-fail-if-no-peer-cert"><a href="#stomp-listener-fail-if-no-peer-cert" class="header-anchor">#</a> stomp.listener.fail_if_no_peer_cert</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>false</code></td></tr></tbody></table> <h4 id="说明-550"><a href="#说明-550" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，SSL 握手过程中若客户端没有证书，是否让握手失败。</p> <br> <h3 id="stomp-listener-tls-versions"><a href="#stomp-listener-tls-versions" class="header-anchor">#</a> stomp.listener.tls_versions</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>tlsv1.2,tlsv1.1,tlsv1</code></td></tr></tbody></table> <h4 id="说明-551"><a href="#说明-551" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定服务端支持的 SSL 的版本列表。</p> <br> <h3 id="stomp-listener-handshake-timeout"><a href="#stomp-listener-handshake-timeout" class="header-anchor">#</a> stomp.listener.handshake_timeout</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>duration</td> <td><code>15s</code></td></tr></tbody></table> <h4 id="说明-552"><a href="#说明-552" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定 SSL 握手过程的超时时间。</p> <br> <h3 id="stomp-listener-ciphers"><a href="#stomp-listener-ciphers" class="header-anchor">#</a> stomp.listener.ciphers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>ECDHE-ECDSA-AES256-GCM-SHA384,ECDHE-RSA-AES256-GCM-SHA384,ECDHE-ECDSA-AES256-SHA384,ECDHE-RSA-AES256-SHA384,ECDHE-ECDSA-DES-CBC3-SHA,ECDH-ECDSA-AES256-GCM-SHA384,ECDH-RSA-AES256-GCM-SHA384,ECDH-ECDSA-AES256-SHA384,ECDH-RSA-AES256-SHA384,DHE-DSS-AES256-GCM-SHA384,DHE-DSS-AES256-SHA256,AES256-GCM-SHA384,AES256-SHA256,ECDHE-ECDSA-AES128-GCM-SHA256,ECDHE-RSA-AES128-GCM-SHA256,ECDHE-ECDSA-AES128-SHA256,ECDHE-RSA-AES128-SHA256,ECDH-ECDSA-AES128-GCM-SHA256,ECDH-RSA-AES128-GCM-SHA256,ECDH-ECDSA-AES128-SHA256,ECDH-RSA-AES128-SHA256,DHE-DSS-AES128-GCM-SHA256,DHE-DSS-AES128-SHA256,AES128-GCM-SHA256,AES128-SHA256,ECDHE-ECDSA-AES256-SHA,ECDHE-RSA-AES256-SHA,DHE-DSS-AES256-SHA,ECDH-ECDSA-AES256-SHA,ECDH-RSA-AES256-SHA,AES256-SHA,ECDHE-ECDSA-AES128-SHA,ECDHE-RSA-AES128-SHA,DHE-DSS-AES128-SHA,ECDH-ECDSA-AES128-SHA,ECDH-RSA-AES128-SHA,AES128-SHA</code></td></tr></tbody></table> <h4 id="说明-553"><a href="#说明-553" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定服务端支持的 Cipher 列表。</p> <br> <h3 id="stomp-listener-secure-renegotiate"><a href="#stomp-listener-secure-renegotiate" class="header-anchor">#</a> stomp.listener.secure_renegotiate</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>off</code></td></tr></tbody></table> <h4 id="说明-554"><a href="#说明-554" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定在客户端不遵循 RFC 5746 的情况下，是否拒绝 renegotiation 请求。</p> <br> <h3 id="stomp-listener-reuse-sessions"><a href="#stomp-listener-reuse-sessions" class="header-anchor">#</a> stomp.listener.reuse_sessions</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-555"><a href="#说明-555" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定是否支持 SSL session 重用。</p> <br> <h3 id="stomp-listener-honor-cipher-order"><a href="#stomp-listener-honor-cipher-order" class="header-anchor">#</a> stomp.listener.honor_cipher_order</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>on</code>, <code>off</code></td> <td><code>on</code></td></tr></tbody></table> <h4 id="说明-556"><a href="#说明-556" class="header-anchor">#</a> 说明</h4> <p>若使用 SSL，指定是否使用服务端的偏好设置选择 Ciphers。</p> <br> <h3 id="stomp-default-user-login"><a href="#stomp-default-user-login" class="header-anchor">#</a> stomp.default_user.login</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>guest</code></td></tr></tbody></table> <h4 id="说明-557"><a href="#说明-557" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 插件登录使用的 Username。</p> <br> <h3 id="stomp-default-user-passcode"><a href="#stomp-default-user-passcode" class="header-anchor">#</a> stomp.default_user.passcode</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>guest</code></td></tr></tbody></table> <h4 id="说明-558"><a href="#说明-558" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 插件登录使用的 Password。</p> <br> <h3 id="stomp-allow-anonymous"><a href="#stomp-allow-anonymous" class="header-anchor">#</a> stomp.allow_anonymous</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>true</code>, <code>false</code></td> <td><code>true</code></td></tr></tbody></table> <h4 id="说明-559"><a href="#说明-559" class="header-anchor">#</a> 说明</h4> <p>是否允许匿名登录。</p> <br> <h3 id="stomp-frame-max-headers"><a href="#stomp-frame-max-headers" class="header-anchor">#</a> stomp.frame.max_headers</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>10</td></tr></tbody></table> <h4 id="说明-560"><a href="#说明-560" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 最大报文头数量。</p> <br> <h3 id="stomp-frame-max-header-length"><a href="#stomp-frame-max-header-length" class="header-anchor">#</a> stomp.frame.max_header_length</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>1024</td></tr></tbody></table> <h4 id="说明-561"><a href="#说明-561" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 最大报文头长度。</p> <br> <h3 id="stomp-frame-max-body-length"><a href="#stomp-frame-max-body-length" class="header-anchor">#</a> stomp.frame.max_body_length</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>integer</td> <td>8192</td></tr></tbody></table> <h4 id="说明-562"><a href="#说明-562" class="header-anchor">#</a> 说明</h4> <p>指定 Stomp 最大报文体长度。</p> <br> <h2 id="emqx-web-hook"><a href="#emqx-web-hook" class="header-anchor">#</a> <a href="https://github.com/emqx/emqx-web-hook" target="_blank" rel="noopener noreferrer">emqx-web-hook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h3 id="web-hook-api-url"><a href="#web-hook-api-url" class="header-anchor">#</a> web.hook.api.url</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td>-</td></tr></tbody></table> <h4 id="说明-563"><a href="#说明-563" class="header-anchor">#</a> 说明</h4> <p><code>emqx_web_hook</code> 转发的目的 Web 服务器地址。</p> <br> <h3 id="web-hook-encode-payload"><a href="#web-hook-encode-payload" class="header-anchor">#</a> web.hook.encode_payload</h3> <table><thead><tr><th>Type</th> <th>Optional Value</th> <th>Default</th></tr></thead> <tbody><tr><td>enum</td> <td><code>base62</code>, <code>base64</code></td> <td>-</td></tr></tbody></table> <h4 id="说明-564"><a href="#说明-564" class="header-anchor">#</a> 说明</h4> <p>PUBLISH 消息中 Payload 字段的编码格式。</p> <br> <h3 id="web-hook-rule-client-connect-1"><a href="#web-hook-rule-client-connect-1" class="header-anchor">#</a> web.hook.rule.client.connect.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_client_connect&quot;}</code></td></tr></tbody></table> <h4 id="说明-565"><a href="#说明-565" class="header-anchor">#</a> 说明</h4> <p>转发 <code>收到连接报文</code> 事件。</p> <br> <h3 id="web-hook-rule-client-connack-1"><a href="#web-hook-rule-client-connack-1" class="header-anchor">#</a> web.hook.rule.client.connack.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_client_connack&quot;}</code></td></tr></tbody></table> <h4 id="说明-566"><a href="#说明-566" class="header-anchor">#</a> 说明</h4> <p>转发 <code>下发连接应答</code> 事件。</p> <br> <h3 id="web-hook-rule-client-connected-1"><a href="#web-hook-rule-client-connected-1" class="header-anchor">#</a> web.hook.rule.client.connected.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_client_connected&quot;}</code></td></tr></tbody></table> <h4 id="说明-567"><a href="#说明-567" class="header-anchor">#</a> 说明</h4> <p>转发 <code>客户端成功接入</code> 事件。</p> <br> <h3 id="web-hook-rule-client-disconnected-1"><a href="#web-hook-rule-client-disconnected-1" class="header-anchor">#</a> web.hook.rule.client.disconnected.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_client_disconnected&quot;}</code></td></tr></tbody></table> <h4 id="说明-568"><a href="#说明-568" class="header-anchor">#</a> 说明</h4> <p>转发 <code>客户端已断开</code> 事件。</p> <br> <h3 id="web-hook-rule-client-subscribe-1"><a href="#web-hook-rule-client-subscribe-1" class="header-anchor">#</a> web.hook.rule.client.subscribe.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_client_subscribe&quot;}</code></td></tr></tbody></table> <h4 id="说明-569"><a href="#说明-569" class="header-anchor">#</a> 说明</h4> <p>转发 <code>将订阅</code> 事件。</p> <br> <h3 id="web-hook-rule-client-unsubscribe-1"><a href="#web-hook-rule-client-unsubscribe-1" class="header-anchor">#</a> web.hook.rule.client.unsubscribe.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_client_unsubscribe&quot;}</code></td></tr></tbody></table> <h4 id="说明-570"><a href="#说明-570" class="header-anchor">#</a> 说明</h4> <p>转发 <code>将取消订阅</code> 事件。</p> <br> <h3 id="web-hook-rule-session-subscribed-1"><a href="#web-hook-rule-session-subscribed-1" class="header-anchor">#</a> web.hook.rule.session.subscribed.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_session_subscribed&quot;}</code></td></tr></tbody></table> <h4 id="说明-571"><a href="#说明-571" class="header-anchor">#</a> 说明</h4> <p>转发 <code>已订阅</code> 事件。</p> <br> <h3 id="web-hook-rule-session-unsubscribed-1"><a href="#web-hook-rule-session-unsubscribed-1" class="header-anchor">#</a> web.hook.rule.session.unsubscribed.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_session_unsubscribed&quot;}</code></td></tr></tbody></table> <h4 id="说明-572"><a href="#说明-572" class="header-anchor">#</a> 说明</h4> <p>转发 <code>已取消订阅</code> 事件。</p> <br> <h3 id="web-hook-rule-session-terminated-1"><a href="#web-hook-rule-session-terminated-1" class="header-anchor">#</a> web.hook.rule.session.terminated.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_session_terminated&quot;}</code></td></tr></tbody></table> <h4 id="说明-573"><a href="#说明-573" class="header-anchor">#</a> 说明</h4> <p>转发 <code>会话已终止</code> 事件。</p> <br> <h3 id="web-hook-rule-message-publish-1"><a href="#web-hook-rule-message-publish-1" class="header-anchor">#</a> web.hook.rule.message.publish.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_message_publish&quot;}</code></td></tr></tbody></table> <h4 id="说明-574"><a href="#说明-574" class="header-anchor">#</a> 说明</h4> <p>转发 <code>消息发布</code> 事件。</p> <br> <h3 id="web-hook-rule-message-delivered-1"><a href="#web-hook-rule-message-delivered-1" class="header-anchor">#</a> web.hook.rule.message.delivered.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_message_delivered&quot;}</code></td></tr></tbody></table> <h4 id="说明-575"><a href="#说明-575" class="header-anchor">#</a> 说明</h4> <p>转发 <code>消息已投递</code> 事件。</p> <br> <h3 id="web-hook-rule-message-acked-1"><a href="#web-hook-rule-message-acked-1" class="header-anchor">#</a> web.hook.rule.message.acked.1</h3> <table><thead><tr><th>Type</th> <th>Default</th></tr></thead> <tbody><tr><td>string</td> <td><code>{&quot;action&quot;: &quot;on_message_acked&quot;}</code></td></tr></tbody></table> <h4 id="说明-576"><a href="#说明-576" class="header-anchor">#</a> 说明</h4> <p>转发 <code>消息已应答</code> 事件。</p></div> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/1/2021, 7:45:40 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/backend/emqx/advanced/http-api.html" class="prev">HTTP API</a></span> <span class="next"><a href="/zh/backend/emqx/advanced/cli.html">命令行</a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="add-this"></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.b4d3d389.js" defer></script><script src="/assets/js/6.a55563ee.js" defer></script><script src="/assets/js/5.451ad62b.js" defer></script><script src="/assets/js/94.3bc9b14d.js" defer></script>
  </body>
</html>
