<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>升级指南 | 数蛙技术团队</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="数蛙科技是一家致力于提供物联网垂直领域应用使能平台及解决方案的创新型公司。">
    <meta name="referrer" content="never">
    
    <link rel="preload" href="/assets/css/0.styles.a081a12a.css" as="style"><link rel="preload" href="/assets/js/app.36e0a340.js" as="script"><link rel="preload" href="/assets/js/6.5fcf748f.js" as="script"><link rel="preload" href="/assets/js/5.ef440211.js" as="script"><link rel="preload" href="/assets/js/97.26974d07.js" as="script"><link rel="prefetch" href="/assets/js/10.e47f90ea.js"><link rel="prefetch" href="/assets/js/100.c4f7cc3d.js"><link rel="prefetch" href="/assets/js/101.68869abc.js"><link rel="prefetch" href="/assets/js/102.990f288d.js"><link rel="prefetch" href="/assets/js/103.a3f751e6.js"><link rel="prefetch" href="/assets/js/104.fa7dbfce.js"><link rel="prefetch" href="/assets/js/105.4ae0f983.js"><link rel="prefetch" href="/assets/js/106.92e6ddcd.js"><link rel="prefetch" href="/assets/js/107.034bd90d.js"><link rel="prefetch" href="/assets/js/108.47d4c865.js"><link rel="prefetch" href="/assets/js/109.647be4f7.js"><link rel="prefetch" href="/assets/js/11.07e5d88b.js"><link rel="prefetch" href="/assets/js/110.78623214.js"><link rel="prefetch" href="/assets/js/111.32576bb4.js"><link rel="prefetch" href="/assets/js/112.5644fc96.js"><link rel="prefetch" href="/assets/js/113.43299d6f.js"><link rel="prefetch" href="/assets/js/114.295ee54e.js"><link rel="prefetch" href="/assets/js/115.d2613796.js"><link rel="prefetch" href="/assets/js/116.b7e3cebd.js"><link rel="prefetch" href="/assets/js/117.9c85ad66.js"><link rel="prefetch" href="/assets/js/118.3cee48fc.js"><link rel="prefetch" href="/assets/js/119.416a58ed.js"><link rel="prefetch" href="/assets/js/12.92d366b3.js"><link rel="prefetch" href="/assets/js/120.ae64c572.js"><link rel="prefetch" href="/assets/js/121.1df31a25.js"><link rel="prefetch" href="/assets/js/122.15396be4.js"><link rel="prefetch" href="/assets/js/123.7b6a5e9e.js"><link rel="prefetch" href="/assets/js/124.9a4f4b00.js"><link rel="prefetch" href="/assets/js/125.142c881c.js"><link rel="prefetch" href="/assets/js/126.771c2cb6.js"><link rel="prefetch" href="/assets/js/127.306552e5.js"><link rel="prefetch" href="/assets/js/128.0bcbb810.js"><link rel="prefetch" href="/assets/js/129.e280087a.js"><link rel="prefetch" href="/assets/js/13.79dfe61d.js"><link rel="prefetch" href="/assets/js/130.d39f1fb8.js"><link rel="prefetch" href="/assets/js/131.71d52934.js"><link rel="prefetch" href="/assets/js/132.208b5af3.js"><link rel="prefetch" href="/assets/js/133.45622fde.js"><link rel="prefetch" href="/assets/js/134.015d7f3b.js"><link rel="prefetch" href="/assets/js/135.000bd545.js"><link rel="prefetch" href="/assets/js/136.ae0c1be1.js"><link rel="prefetch" href="/assets/js/137.ec5c2f5a.js"><link rel="prefetch" href="/assets/js/138.e7dbd82d.js"><link rel="prefetch" href="/assets/js/139.10a42c40.js"><link rel="prefetch" href="/assets/js/14.a70562bd.js"><link rel="prefetch" href="/assets/js/140.9e457f9f.js"><link rel="prefetch" href="/assets/js/141.806516f8.js"><link rel="prefetch" href="/assets/js/142.4ee29ec4.js"><link rel="prefetch" href="/assets/js/143.91fb7cd1.js"><link rel="prefetch" href="/assets/js/144.e68b1d8c.js"><link rel="prefetch" href="/assets/js/145.4a5cc6b0.js"><link rel="prefetch" href="/assets/js/146.3677fbdb.js"><link rel="prefetch" href="/assets/js/147.c10e1a72.js"><link rel="prefetch" href="/assets/js/148.4db4eb98.js"><link rel="prefetch" href="/assets/js/149.7d24d6b7.js"><link rel="prefetch" href="/assets/js/15.e3cfb21c.js"><link rel="prefetch" href="/assets/js/150.e1f54ad1.js"><link rel="prefetch" href="/assets/js/151.e6a94557.js"><link rel="prefetch" href="/assets/js/152.38719b30.js"><link rel="prefetch" href="/assets/js/153.1651d6ca.js"><link rel="prefetch" href="/assets/js/154.f05ff909.js"><link rel="prefetch" href="/assets/js/155.0377cb6e.js"><link rel="prefetch" href="/assets/js/156.ae32d852.js"><link rel="prefetch" href="/assets/js/157.3b22156f.js"><link rel="prefetch" href="/assets/js/158.e6e3a4a2.js"><link rel="prefetch" href="/assets/js/159.88b3a9e1.js"><link rel="prefetch" href="/assets/js/16.990015b2.js"><link rel="prefetch" href="/assets/js/160.f181ffd6.js"><link rel="prefetch" href="/assets/js/161.77d55331.js"><link rel="prefetch" href="/assets/js/162.755e8e54.js"><link rel="prefetch" href="/assets/js/163.aca77576.js"><link rel="prefetch" href="/assets/js/164.73f11679.js"><link rel="prefetch" href="/assets/js/165.d0ea90d3.js"><link rel="prefetch" href="/assets/js/166.94f5c9be.js"><link rel="prefetch" href="/assets/js/167.4bfc1a13.js"><link rel="prefetch" href="/assets/js/168.3c0a5254.js"><link rel="prefetch" href="/assets/js/169.13a90a81.js"><link rel="prefetch" href="/assets/js/17.36e546d5.js"><link rel="prefetch" href="/assets/js/170.23b6b7e4.js"><link rel="prefetch" href="/assets/js/171.25e35fc5.js"><link rel="prefetch" href="/assets/js/172.2526d383.js"><link rel="prefetch" href="/assets/js/173.ffc68276.js"><link rel="prefetch" href="/assets/js/174.14779238.js"><link rel="prefetch" href="/assets/js/175.bd34b41f.js"><link rel="prefetch" href="/assets/js/176.b5ac727e.js"><link rel="prefetch" href="/assets/js/177.a3dade8c.js"><link rel="prefetch" href="/assets/js/178.17ce083e.js"><link rel="prefetch" href="/assets/js/179.b907f92f.js"><link rel="prefetch" href="/assets/js/18.1ed8ee14.js"><link rel="prefetch" href="/assets/js/180.52a04143.js"><link rel="prefetch" href="/assets/js/181.fe8b5ce6.js"><link rel="prefetch" href="/assets/js/182.9f539df3.js"><link rel="prefetch" href="/assets/js/183.973727d3.js"><link rel="prefetch" href="/assets/js/184.8e9fe490.js"><link rel="prefetch" href="/assets/js/185.e365ed74.js"><link rel="prefetch" href="/assets/js/186.b4dbc7f9.js"><link rel="prefetch" href="/assets/js/187.810c686c.js"><link rel="prefetch" href="/assets/js/188.5470e504.js"><link rel="prefetch" href="/assets/js/189.b83c788d.js"><link rel="prefetch" href="/assets/js/19.0e68690f.js"><link rel="prefetch" href="/assets/js/190.a5f82ab4.js"><link rel="prefetch" href="/assets/js/191.5395b199.js"><link rel="prefetch" href="/assets/js/192.b1cd9375.js"><link rel="prefetch" href="/assets/js/193.96d31520.js"><link rel="prefetch" href="/assets/js/194.412b33f7.js"><link rel="prefetch" href="/assets/js/195.25415c51.js"><link rel="prefetch" href="/assets/js/196.dde9e433.js"><link rel="prefetch" href="/assets/js/197.8009a732.js"><link rel="prefetch" href="/assets/js/198.70517610.js"><link rel="prefetch" href="/assets/js/199.a4b08795.js"><link rel="prefetch" href="/assets/js/20.6d3d1a6b.js"><link rel="prefetch" href="/assets/js/200.8baa258b.js"><link rel="prefetch" href="/assets/js/201.b2f9e67d.js"><link rel="prefetch" href="/assets/js/202.1d847eea.js"><link rel="prefetch" href="/assets/js/203.2abb13b8.js"><link rel="prefetch" href="/assets/js/204.803d030d.js"><link rel="prefetch" href="/assets/js/205.f6f9b05d.js"><link rel="prefetch" href="/assets/js/206.27e7f41c.js"><link rel="prefetch" href="/assets/js/207.d3c8c7c1.js"><link rel="prefetch" href="/assets/js/208.efb8b483.js"><link rel="prefetch" href="/assets/js/209.12f584f1.js"><link rel="prefetch" href="/assets/js/21.14c6eef1.js"><link rel="prefetch" href="/assets/js/210.7a92c821.js"><link rel="prefetch" href="/assets/js/211.f9c2060e.js"><link rel="prefetch" href="/assets/js/212.dcb313f0.js"><link rel="prefetch" href="/assets/js/213.34231c5d.js"><link rel="prefetch" href="/assets/js/214.4f270d4c.js"><link rel="prefetch" href="/assets/js/215.9dd903ab.js"><link rel="prefetch" href="/assets/js/216.0c5b7058.js"><link rel="prefetch" href="/assets/js/217.622954ea.js"><link rel="prefetch" href="/assets/js/218.07e02266.js"><link rel="prefetch" href="/assets/js/219.68cbf66f.js"><link rel="prefetch" href="/assets/js/22.5b65844c.js"><link rel="prefetch" href="/assets/js/220.b3056638.js"><link rel="prefetch" href="/assets/js/221.0a606827.js"><link rel="prefetch" href="/assets/js/222.bf93867c.js"><link rel="prefetch" href="/assets/js/223.a19d112f.js"><link rel="prefetch" href="/assets/js/224.7b3c3fda.js"><link rel="prefetch" href="/assets/js/225.d4f515a2.js"><link rel="prefetch" href="/assets/js/226.3ad0b067.js"><link rel="prefetch" href="/assets/js/227.172738b7.js"><link rel="prefetch" href="/assets/js/228.ca0f81ac.js"><link rel="prefetch" href="/assets/js/229.71056c1d.js"><link rel="prefetch" href="/assets/js/23.ce5eda75.js"><link rel="prefetch" href="/assets/js/230.efd57ebe.js"><link rel="prefetch" href="/assets/js/231.1843c7a7.js"><link rel="prefetch" href="/assets/js/232.7fa78c1c.js"><link rel="prefetch" href="/assets/js/233.61d11f69.js"><link rel="prefetch" href="/assets/js/234.8503a6e7.js"><link rel="prefetch" href="/assets/js/235.12441a9f.js"><link rel="prefetch" href="/assets/js/236.5022d458.js"><link rel="prefetch" href="/assets/js/237.f6a3793f.js"><link rel="prefetch" href="/assets/js/238.c7a47e33.js"><link rel="prefetch" href="/assets/js/239.bde0cc62.js"><link rel="prefetch" href="/assets/js/24.314f1a5b.js"><link rel="prefetch" href="/assets/js/240.a19b91ec.js"><link rel="prefetch" href="/assets/js/241.0682f5fc.js"><link rel="prefetch" href="/assets/js/242.f7dc07ff.js"><link rel="prefetch" href="/assets/js/243.e56aea92.js"><link rel="prefetch" href="/assets/js/244.edd14001.js"><link rel="prefetch" href="/assets/js/245.3482d8d8.js"><link rel="prefetch" href="/assets/js/246.b70bb32e.js"><link rel="prefetch" href="/assets/js/247.5c38a719.js"><link rel="prefetch" href="/assets/js/248.20d0bdc1.js"><link rel="prefetch" href="/assets/js/249.cae92fd0.js"><link rel="prefetch" href="/assets/js/25.4973d57b.js"><link rel="prefetch" href="/assets/js/250.abcda6c0.js"><link rel="prefetch" href="/assets/js/251.3cb8aea9.js"><link rel="prefetch" href="/assets/js/252.db81749b.js"><link rel="prefetch" href="/assets/js/253.306e8ee3.js"><link rel="prefetch" href="/assets/js/254.e51a2a46.js"><link rel="prefetch" href="/assets/js/255.124c7447.js"><link rel="prefetch" href="/assets/js/256.a4775cec.js"><link rel="prefetch" href="/assets/js/257.9e60e1d7.js"><link rel="prefetch" href="/assets/js/258.c0463ad3.js"><link rel="prefetch" href="/assets/js/259.1b4f7fcb.js"><link rel="prefetch" href="/assets/js/26.bb314212.js"><link rel="prefetch" href="/assets/js/260.ec5056a2.js"><link rel="prefetch" href="/assets/js/261.4e9b9cbb.js"><link rel="prefetch" href="/assets/js/262.5aa28b7a.js"><link rel="prefetch" href="/assets/js/263.cbe06cef.js"><link rel="prefetch" href="/assets/js/264.6f908f5b.js"><link rel="prefetch" href="/assets/js/265.33ddc923.js"><link rel="prefetch" href="/assets/js/266.ddf763bb.js"><link rel="prefetch" href="/assets/js/267.afab1b47.js"><link rel="prefetch" href="/assets/js/268.453ae998.js"><link rel="prefetch" href="/assets/js/269.9aed273a.js"><link rel="prefetch" href="/assets/js/27.917a6475.js"><link rel="prefetch" href="/assets/js/270.525c9fed.js"><link rel="prefetch" href="/assets/js/271.cc31252e.js"><link rel="prefetch" href="/assets/js/272.7085bc56.js"><link rel="prefetch" href="/assets/js/273.606b5767.js"><link rel="prefetch" href="/assets/js/274.61f3cbb8.js"><link rel="prefetch" href="/assets/js/275.d24d0ef7.js"><link rel="prefetch" href="/assets/js/276.2496ed0e.js"><link rel="prefetch" href="/assets/js/277.4e395e3a.js"><link rel="prefetch" href="/assets/js/278.d93a287d.js"><link rel="prefetch" href="/assets/js/279.9785840a.js"><link rel="prefetch" href="/assets/js/28.75716a50.js"><link rel="prefetch" href="/assets/js/280.e8388c23.js"><link rel="prefetch" href="/assets/js/281.1b9c3fcf.js"><link rel="prefetch" href="/assets/js/282.353d9724.js"><link rel="prefetch" href="/assets/js/283.0ae4e0a1.js"><link rel="prefetch" href="/assets/js/284.250a0f65.js"><link rel="prefetch" href="/assets/js/285.1673fc0f.js"><link rel="prefetch" href="/assets/js/286.a3a634fc.js"><link rel="prefetch" href="/assets/js/287.7b7b3aa8.js"><link rel="prefetch" href="/assets/js/288.b448d441.js"><link rel="prefetch" href="/assets/js/289.d048f5c3.js"><link rel="prefetch" href="/assets/js/29.ae7d6fe8.js"><link rel="prefetch" href="/assets/js/290.4be415a2.js"><link rel="prefetch" href="/assets/js/291.177e088f.js"><link rel="prefetch" href="/assets/js/292.3438d0f1.js"><link rel="prefetch" href="/assets/js/293.67bbef8c.js"><link rel="prefetch" href="/assets/js/294.5b2cbfed.js"><link rel="prefetch" href="/assets/js/295.9c971a99.js"><link rel="prefetch" href="/assets/js/296.054b66f5.js"><link rel="prefetch" href="/assets/js/297.f6a4c686.js"><link rel="prefetch" href="/assets/js/298.718fd417.js"><link rel="prefetch" href="/assets/js/299.b7360087.js"><link rel="prefetch" href="/assets/js/30.ffd49f66.js"><link rel="prefetch" href="/assets/js/300.a85c02cd.js"><link rel="prefetch" href="/assets/js/301.de394712.js"><link rel="prefetch" href="/assets/js/302.bdde953c.js"><link rel="prefetch" href="/assets/js/303.5109f8ce.js"><link rel="prefetch" href="/assets/js/304.e8a8aac4.js"><link rel="prefetch" href="/assets/js/305.81d2e2fc.js"><link rel="prefetch" href="/assets/js/306.082e009d.js"><link rel="prefetch" href="/assets/js/307.fb254007.js"><link rel="prefetch" href="/assets/js/308.49005c54.js"><link rel="prefetch" href="/assets/js/309.14bd0f82.js"><link rel="prefetch" href="/assets/js/31.926e5f68.js"><link rel="prefetch" href="/assets/js/310.1a0b1747.js"><link rel="prefetch" href="/assets/js/311.05203eef.js"><link rel="prefetch" href="/assets/js/312.88c94034.js"><link rel="prefetch" href="/assets/js/313.20d9d154.js"><link rel="prefetch" href="/assets/js/314.42cd0d7b.js"><link rel="prefetch" href="/assets/js/315.45b21698.js"><link rel="prefetch" href="/assets/js/316.6dece924.js"><link rel="prefetch" href="/assets/js/317.4d28a90a.js"><link rel="prefetch" href="/assets/js/318.b486c7ee.js"><link rel="prefetch" href="/assets/js/319.b1c44fa1.js"><link rel="prefetch" href="/assets/js/32.646daffe.js"><link rel="prefetch" href="/assets/js/320.2c4c468f.js"><link rel="prefetch" href="/assets/js/321.816727a3.js"><link rel="prefetch" href="/assets/js/322.fc551d20.js"><link rel="prefetch" href="/assets/js/323.1358dad7.js"><link rel="prefetch" href="/assets/js/324.0951bfa9.js"><link rel="prefetch" href="/assets/js/325.73d12767.js"><link rel="prefetch" href="/assets/js/326.a0e25558.js"><link rel="prefetch" href="/assets/js/327.7f45df57.js"><link rel="prefetch" href="/assets/js/328.bcf3eef4.js"><link rel="prefetch" href="/assets/js/329.beca3e67.js"><link rel="prefetch" href="/assets/js/33.a78a553e.js"><link rel="prefetch" href="/assets/js/330.fd3c5e39.js"><link rel="prefetch" href="/assets/js/331.c26b15b8.js"><link rel="prefetch" href="/assets/js/332.7c7cee59.js"><link rel="prefetch" href="/assets/js/333.f93d2b06.js"><link rel="prefetch" href="/assets/js/334.9fe5209d.js"><link rel="prefetch" href="/assets/js/335.e865e1c9.js"><link rel="prefetch" href="/assets/js/336.a76fbb39.js"><link rel="prefetch" href="/assets/js/337.0989a7e8.js"><link rel="prefetch" href="/assets/js/338.d26213b2.js"><link rel="prefetch" href="/assets/js/339.aca160ab.js"><link rel="prefetch" href="/assets/js/34.e934fd16.js"><link rel="prefetch" href="/assets/js/340.e124276a.js"><link rel="prefetch" href="/assets/js/341.b436adb3.js"><link rel="prefetch" href="/assets/js/342.72952f7d.js"><link rel="prefetch" href="/assets/js/343.45d421e2.js"><link rel="prefetch" href="/assets/js/344.645c1615.js"><link rel="prefetch" href="/assets/js/345.352ce398.js"><link rel="prefetch" href="/assets/js/346.57d4e6b9.js"><link rel="prefetch" href="/assets/js/347.e46cb882.js"><link rel="prefetch" href="/assets/js/348.c8885f03.js"><link rel="prefetch" href="/assets/js/349.6e416913.js"><link rel="prefetch" href="/assets/js/35.4cebd4fc.js"><link rel="prefetch" href="/assets/js/350.f3461f6f.js"><link rel="prefetch" href="/assets/js/351.ed59be1f.js"><link rel="prefetch" href="/assets/js/352.aef1dec8.js"><link rel="prefetch" href="/assets/js/353.aa943995.js"><link rel="prefetch" href="/assets/js/354.51c4cf54.js"><link rel="prefetch" href="/assets/js/355.2a038a8d.js"><link rel="prefetch" href="/assets/js/356.1906fce9.js"><link rel="prefetch" href="/assets/js/357.1c894970.js"><link rel="prefetch" href="/assets/js/358.ad1e51cb.js"><link rel="prefetch" href="/assets/js/359.1f946d10.js"><link rel="prefetch" href="/assets/js/36.61b11247.js"><link rel="prefetch" href="/assets/js/360.b3a7f811.js"><link rel="prefetch" href="/assets/js/361.da1f02bc.js"><link rel="prefetch" href="/assets/js/362.548cabcb.js"><link rel="prefetch" href="/assets/js/363.a4d901a6.js"><link rel="prefetch" href="/assets/js/364.33d38ad3.js"><link rel="prefetch" href="/assets/js/365.e2c259a4.js"><link rel="prefetch" href="/assets/js/366.5e2a4254.js"><link rel="prefetch" href="/assets/js/367.f15b84ba.js"><link rel="prefetch" href="/assets/js/368.e152af76.js"><link rel="prefetch" href="/assets/js/369.4c74ff3a.js"><link rel="prefetch" href="/assets/js/37.e367cc77.js"><link rel="prefetch" href="/assets/js/370.065a17b7.js"><link rel="prefetch" href="/assets/js/371.d8861a3c.js"><link rel="prefetch" href="/assets/js/372.7d9bf7f2.js"><link rel="prefetch" href="/assets/js/373.a2d1e72c.js"><link rel="prefetch" href="/assets/js/374.a223be28.js"><link rel="prefetch" href="/assets/js/375.cc6f03ed.js"><link rel="prefetch" href="/assets/js/376.163b82ce.js"><link rel="prefetch" href="/assets/js/377.3728c3a7.js"><link rel="prefetch" href="/assets/js/378.bed2e98b.js"><link rel="prefetch" href="/assets/js/379.375cb339.js"><link rel="prefetch" href="/assets/js/38.66dce12d.js"><link rel="prefetch" href="/assets/js/380.c8478fa1.js"><link rel="prefetch" href="/assets/js/381.8cc5e6dd.js"><link rel="prefetch" href="/assets/js/382.2ca8f42c.js"><link rel="prefetch" href="/assets/js/383.a2366157.js"><link rel="prefetch" href="/assets/js/384.a8817f5a.js"><link rel="prefetch" href="/assets/js/385.35ab6fb7.js"><link rel="prefetch" href="/assets/js/386.44ba06ad.js"><link rel="prefetch" href="/assets/js/387.473212ca.js"><link rel="prefetch" href="/assets/js/388.922b42dd.js"><link rel="prefetch" href="/assets/js/389.ca03b96b.js"><link rel="prefetch" href="/assets/js/39.5c588de1.js"><link rel="prefetch" href="/assets/js/390.c80050da.js"><link rel="prefetch" href="/assets/js/391.107c767e.js"><link rel="prefetch" href="/assets/js/392.da1e02a7.js"><link rel="prefetch" href="/assets/js/393.9d2b1ad0.js"><link rel="prefetch" href="/assets/js/394.ce16daf9.js"><link rel="prefetch" href="/assets/js/395.a03d2b4f.js"><link rel="prefetch" href="/assets/js/396.a6da365f.js"><link rel="prefetch" href="/assets/js/397.e1faa15f.js"><link rel="prefetch" href="/assets/js/398.f0df7f9a.js"><link rel="prefetch" href="/assets/js/399.b6f11e5e.js"><link rel="prefetch" href="/assets/js/40.493ffbe5.js"><link rel="prefetch" href="/assets/js/400.b6aee537.js"><link rel="prefetch" href="/assets/js/401.c956c7cb.js"><link rel="prefetch" href="/assets/js/402.7061e8ba.js"><link rel="prefetch" href="/assets/js/403.33bf0e86.js"><link rel="prefetch" href="/assets/js/404.ee4fd9a5.js"><link rel="prefetch" href="/assets/js/405.11855f96.js"><link rel="prefetch" href="/assets/js/406.c05b7ffd.js"><link rel="prefetch" href="/assets/js/407.439f8fb6.js"><link rel="prefetch" href="/assets/js/408.0d8acd91.js"><link rel="prefetch" href="/assets/js/409.2b3362d6.js"><link rel="prefetch" href="/assets/js/41.5ef5556e.js"><link rel="prefetch" href="/assets/js/410.8632be49.js"><link rel="prefetch" href="/assets/js/411.257acace.js"><link rel="prefetch" href="/assets/js/412.0d5459dc.js"><link rel="prefetch" href="/assets/js/413.bff1546e.js"><link rel="prefetch" href="/assets/js/414.30d3c7a0.js"><link rel="prefetch" href="/assets/js/415.64a89a03.js"><link rel="prefetch" href="/assets/js/416.dde4992e.js"><link rel="prefetch" href="/assets/js/417.8e874804.js"><link rel="prefetch" href="/assets/js/418.6c0c0445.js"><link rel="prefetch" href="/assets/js/419.a4658ae0.js"><link rel="prefetch" href="/assets/js/42.bdd8b255.js"><link rel="prefetch" href="/assets/js/420.ff503f82.js"><link rel="prefetch" href="/assets/js/421.caedc5f2.js"><link rel="prefetch" href="/assets/js/422.57e83988.js"><link rel="prefetch" href="/assets/js/423.b18fa61d.js"><link rel="prefetch" href="/assets/js/424.2e28b902.js"><link rel="prefetch" href="/assets/js/425.d9e19048.js"><link rel="prefetch" href="/assets/js/426.d08ec4df.js"><link rel="prefetch" href="/assets/js/43.66c6d30f.js"><link rel="prefetch" href="/assets/js/44.ee4479df.js"><link rel="prefetch" href="/assets/js/45.f5fee7e0.js"><link rel="prefetch" href="/assets/js/46.30f37186.js"><link rel="prefetch" href="/assets/js/47.bc69aab6.js"><link rel="prefetch" href="/assets/js/48.0913b78a.js"><link rel="prefetch" href="/assets/js/49.234f20a6.js"><link rel="prefetch" href="/assets/js/50.6133946e.js"><link rel="prefetch" href="/assets/js/51.8e8770d8.js"><link rel="prefetch" href="/assets/js/52.2585b615.js"><link rel="prefetch" href="/assets/js/53.74cdff56.js"><link rel="prefetch" href="/assets/js/54.be61191a.js"><link rel="prefetch" href="/assets/js/55.a1348ba4.js"><link rel="prefetch" href="/assets/js/56.9fbfb471.js"><link rel="prefetch" href="/assets/js/57.9620a034.js"><link rel="prefetch" href="/assets/js/58.26eb33c1.js"><link rel="prefetch" href="/assets/js/59.1567c510.js"><link rel="prefetch" href="/assets/js/60.bf98be9a.js"><link rel="prefetch" href="/assets/js/61.d7fe85cd.js"><link rel="prefetch" href="/assets/js/62.1f739516.js"><link rel="prefetch" href="/assets/js/63.3767d0a5.js"><link rel="prefetch" href="/assets/js/64.20f6fa43.js"><link rel="prefetch" href="/assets/js/65.59f5de08.js"><link rel="prefetch" href="/assets/js/66.662a5eaf.js"><link rel="prefetch" href="/assets/js/67.b35f8bdf.js"><link rel="prefetch" href="/assets/js/68.8faa1eb8.js"><link rel="prefetch" href="/assets/js/69.ea857fba.js"><link rel="prefetch" href="/assets/js/7.b4108a8c.js"><link rel="prefetch" href="/assets/js/70.99a09f40.js"><link rel="prefetch" href="/assets/js/71.8cb39d12.js"><link rel="prefetch" href="/assets/js/72.319aea7e.js"><link rel="prefetch" href="/assets/js/73.8445959a.js"><link rel="prefetch" href="/assets/js/74.33c69782.js"><link rel="prefetch" href="/assets/js/75.3c47ba2b.js"><link rel="prefetch" href="/assets/js/76.0291b9d5.js"><link rel="prefetch" href="/assets/js/77.d1cbbbfe.js"><link rel="prefetch" href="/assets/js/78.a8f798ff.js"><link rel="prefetch" href="/assets/js/79.4f770263.js"><link rel="prefetch" href="/assets/js/8.abf30b8a.js"><link rel="prefetch" href="/assets/js/80.5ef07f0d.js"><link rel="prefetch" href="/assets/js/81.84da79a2.js"><link rel="prefetch" href="/assets/js/82.544fb545.js"><link rel="prefetch" href="/assets/js/83.1c12dff5.js"><link rel="prefetch" href="/assets/js/84.4746851a.js"><link rel="prefetch" href="/assets/js/85.865c9c93.js"><link rel="prefetch" href="/assets/js/86.532f254b.js"><link rel="prefetch" href="/assets/js/87.29861a30.js"><link rel="prefetch" href="/assets/js/88.c76a94b5.js"><link rel="prefetch" href="/assets/js/89.ed39452c.js"><link rel="prefetch" href="/assets/js/9.ef53d524.js"><link rel="prefetch" href="/assets/js/90.2aa6018e.js"><link rel="prefetch" href="/assets/js/91.5af67e54.js"><link rel="prefetch" href="/assets/js/92.62d77a84.js"><link rel="prefetch" href="/assets/js/93.54486786.js"><link rel="prefetch" href="/assets/js/94.76c78a7a.js"><link rel="prefetch" href="/assets/js/95.85d89c76.js"><link rel="prefetch" href="/assets/js/96.6673bbfa.js"><link rel="prefetch" href="/assets/js/98.9c17710b.js"><link rel="prefetch" href="/assets/js/99.9a9705be.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d7ff67ab.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.b7eed2e1.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.f4bfc23e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a081a12a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">数蛙技术团队</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link router-link-active">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/emqx/changes/upgrade.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="用户手册" class="dropdown-title"><span class="title">用户手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/manual/cloud/" class="nav-link">数蛙工业数据云平台</a></li><li class="dropdown-item"><!----> <a href="/zh/manual/edge/" class="nav-link">数蛙工业边缘网关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品说明" class="dropdown-title"><span class="title">产品说明</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/product/dgiot/" class="nav-link">一站式物联网平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgtest/" class="nav-link">一站式云压测平台</a></li><li class="dropdown-item"><!----> <a href="/zh/product/dgii/" class="nav-link">工业互联网平台</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发指南" class="dropdown-title"><span class="title">开发指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/" class="nav-link router-link-active">服务架构</a></li><li class="dropdown-item"><!----> <a href="/zh/frontend/" class="nav-link">交互技术</a></li><li class="dropdown-item"><!----> <a href="/zh/dataanalysis/" class="nav-link">数据分析</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战教程" class="dropdown-title"><span class="title">实战教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/blog/knowledge/" class="nav-link">基础知识</a></li><li class="dropdown-item"><!----> <a href="/zh/blog/study/" class="nav-link">案例教程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/backend/emqx/changes/upgrade.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/dgiot" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div style="padding-left:1.5rem;"><div></div></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>产品概览</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>EMQX</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/emqx/" aria-current="page" class="sidebar-link">EMQX 简介</a></li><li><a href="/zh/backend/emqx/introduction/checklist.html" class="sidebar-link">EMQX 功能列表</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>开始使用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>用户指南</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>模块管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>规则引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>插件管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>运维操作</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/zh/backend/emqx/advanced/http-api.html" class="sidebar-link">HTTP API</a></li><li><a href="/zh/backend/emqx/configuration/configuration.html" class="sidebar-link">参数配置</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>命令行接口</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/zh/backend/emqx/advanced/relup.html" class="sidebar-link">版本热升级</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>FAQ 常见问题解答</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>SDK &amp; Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>协议介绍</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>版本发布</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/backend/emqx/changes/changes-ee.html" class="sidebar-link">变更日志</a></li><li><a href="/zh/backend/emqx/changes/upgrade.html" aria-current="page" class="active sidebar-link">升级指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#升级到-4-0-版本" class="sidebar-link">升级到 4.0 版本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#核心" class="sidebar-link">核心</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#rest-api" class="sidebar-link">REST API</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#dashboard" class="sidebar-link">Dashboard</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#规则引擎-2" class="sidebar-link">规则引擎</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#升级到3-1版本" class="sidebar-link">升级到3.1版本</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#_2-0升级到2-0-3版本" class="sidebar-link">2.0升级到2.0.3版本</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#升级到2-0版本" class="sidebar-link">升级到2.0版本</a></li><li class="sidebar-sub-header"><a href="/zh/backend/emqx/changes/upgrade.html#升级到1-1-2版本" class="sidebar-link">升级到1.1.2版本</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>相关资料</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <!----> <!----> <main class="page"><div class="theme-default-content" style="margin-top:3.6rem;padding-top:0;padding-bottom:0;"></div> <div class="theme-default-content"><div class="content__default"><h1 id="升级指南"><a href="#升级指南" class="header-anchor">#</a> 升级指南</h1> <h2 id="升级到-4-0-版本"><a href="#升级到-4-0-版本" class="header-anchor">#</a> 升级到 4.0 版本</h2> <p>下文提供了一套从 <strong>EMQ X 3.x</strong> 版本迁移到最新 <strong>EMQ X 4.0</strong>
版本的准则。尽管我们试图减少一些重大更改，但为了兼顾性能、简化使用方式，我们在几个地方进行了修改。</p> <p><strong>EMQ X 3.x 版本迁移 EMQ X 4.0 要花多长时间？</strong></p> <p>EMQ X 始终保证接入协议的规范性和持续更新，版本迁移时客户端部分
<strong>无需做任何调整</strong>，这意味着您无需停止设备功能、重新烧录设备程序固件。您仅需关注插件、配置项、命令行以及
REST API 的变更。</p> <p>所需时长取决于您的项目规模和变更涉及范围，中小型的项目基本一天内就可以搞定。</p> <h3 id="核心"><a href="#核心" class="header-anchor">#</a> 核心</h3> <h4 id="client-id-改为-clientid"><a href="#client-id-改为-clientid" class="header-anchor">#</a> client_id 改为 clientid</h4> <p>在此处变量命名上我们做了较大的变动，EMQ X 内部所有 client_id 字符都更改为 clientid，包括：</p> <ul><li>REST API 的 URL、请求/相应数据中的字段名称</li> <li>源代码中的命名规范</li> <li>命令行 CLI</li></ul> <h3 id="rest-api"><a href="#rest-api" class="header-anchor">#</a> REST API</h3> <h4 id="v3-改为-v4"><a href="#v3-改为-v4" class="header-anchor">#</a> v3 改为 v4</h4> <p>REST API 由 <code>http(s)://host:8081/api/v3/</code> 变更为
<code>http(s)://host:8081/api/v4/</code>。</p> <h4 id="连接-connection-改为客户端-clients"><a href="#连接-connection-改为客户端-clients" class="header-anchor">#</a> 连接 (connection) 改为客户端 (clients)</h4> <p>将 connections 概念改为 clients，涉及节点与集群相关的 API：</p> <ul><li>获取集群连接列表：<code>GET /connections</code> -&gt; <code>/clients</code></li> <li>获取集群指定连接信息：<code>GET /connections/:clientid</code> -&gt; <code>GET /connections/:clientid</code></li> <li>获取节点连接列表：<code>GET /nodes/:node/connections</code> -&gt; <code>GET /nodes/:node/clients</code></li> <li>获取节点指定连接信息：<code>GET /nodes/:node/connections/:clientid</code> -&gt; <code>GET /nodes/:node/clients/:clientid</code></li> <li>请求/相应数据中的 client_id 字段名称均变为 clientid</li></ul> <p>同时 API 返回内容有较大变动，变动部分详见 4.0 文档。</p> <h4 id="移除会话-session-相关的-api"><a href="#移除会话-session-相关的-api" class="header-anchor">#</a> 移除会话 (session) 相关的 API</h4> <p>4.0 中引入 Channel 概念，将会话 (session) 和客户端 (client) 合二为一，4.0 版本中以下 API 已被
<strong>移除</strong>：</p> <ul><li>获取集群会话列表：<code>GET /sessions</code></li> <li>获取集群指定客户端会话信息：<code>GET /sessions/:clientid</code></li> <li>获取节点会话列表：<code>GET /nodes/:node/sessions</code></li> <li>获取节点指定客户端会话信息：<code>GET /nodes/:node/sessions/:clientid</code></li></ul> <p>4.0 以后如需获取会话相关信息，请使用客户端相关 API。</p> <h4 id="移除插件配置获取与更改-api"><a href="#移除插件配置获取与更改-api" class="header-anchor">#</a> 移除插件配置获取与更改 API</h4> <p>插件配置中可能包含敏感信息，同时插件配置不支持持久化为用户使用带来了很大疑惑。考虑到安全问题与实用性问题，我们 <strong>移除</strong> 了插件获取与更改
API。</p> <ul><li>获取插件配置信息：<code>GET /nodes/:node/plugins/:plugin_name</code></li> <li>更新插件配置：<code>PUT /nodes/:node/plugins/:plugin_name</code></li></ul> <p>我们计划在 <strong>企业版</strong> 中通过安全规范及配置项本地存储提供解决以上问题，重新提供插件热配置相关的 API, <strong>目前企业版本已经支持关键配置的热配置操作</strong></p> <h3 id="dashboard"><a href="#dashboard" class="header-anchor">#</a> Dashboard</h3> <h4 id="连接-connection-改为客户端-clients-2"><a href="#连接-connection-改为客户端-clients-2" class="header-anchor">#</a> 连接 (connection) 改为客户端 (clients)</h4> <p>Dashboard 中 <strong>连接 (connections)</strong> 概念改为 <strong>客户端 (clients)</strong>，原连接信息可在现 <strong>客户端
(clients)</strong> 页面查看。</p> <h4 id="移除-会话-sessions-管理页面"><a href="#移除-会话-sessions-管理页面" class="header-anchor">#</a> 移除 <strong>会话 (sessions)</strong> 管理页面</h4> <p>Dashboard 中移除 <strong>会话 (sessions)</strong> 管理页面，相关信息整合到 <strong>客户端 (clients)</strong> 页面中。</p> <h4 id="规则引擎"><a href="#规则引擎" class="header-anchor">#</a> 规则引擎</h4> <p>规则引擎 SQL 语法有所变动，规则创建时 Dashboard 中不再提供 <strong>事件</strong> 下拉选择框，SQL 语法详细变更参照本文
<strong>规则引擎</strong> 部分。</p> <h3 id="规则引擎-2"><a href="#规则引擎-2" class="header-anchor">#</a> 规则引擎</h3> <h4 id="sql-语法变更"><a href="#sql-语法变更" class="header-anchor">#</a> SQL 语法变更</h4> <p>4.0 版本中规则引擎 SQL 语法更加易用，3.x 版本中所有事件 <strong>FROM</strong> 子句后面均需要指定事件名称，4.0 以后我们引入
<strong>事件主题</strong> 概念，默认情况下 <strong>消息发布</strong> 事件不再需要指定事件名称：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">## 3.x 版本</span>
<span class="token comment">## 需要指定事件名称进行处理</span>
SELECT * FROM <span class="token string">&quot;message.publish&quot;</span> WHERE topic <span class="token operator">=</span>~ <span class="token string">'t/#'</span>

<span class="token comment">## 4.0 及以后版本</span>
<span class="token comment">## 默认处理 message.publish 事件, FROM 后面直接筛选 MQTT 主题</span>
<span class="token comment">## 上述 SQL 语句等价于:</span>
SELECT * FROM <span class="token string">'t/#'</span>

<span class="token comment">## 其他事件通过 事件主题 进行筛选</span>
SELECT * FROM <span class="token string">&quot;<span class="token variable">$events</span>/message_acked&quot;</span> where topic <span class="token operator">=</span>~ <span class="token string">'t/#'</span>
SELECT * FROM <span class="token string">&quot;<span class="token variable">$events</span>/client_connected&quot;</span>
</code></pre></div><p>Dashboard 中提供了旧版 SQL 语法转换功能可以完成 SQL 升级迁移。</p> <h4 id="事件名称变更"><a href="#事件名称变更" class="header-anchor">#</a> 事件名称变更</h4> <p>4.0 版本中 <strong>订阅/取消订阅</strong> 主体变为 <strong>会话 (session)</strong>，<strong>事件</strong> 在转换为 <strong>事件主题</strong>
时，需要注意以下变更：</p> <ul><li><strong>终端订阅</strong> 变更为 <strong>会话订阅</strong>：<code>client.subscribe</code> -&gt;
<code>$events/session_subscribe</code></li> <li><strong>终端取消订阅</strong> 变更为 <strong>会话取消订阅</strong>：<code>client.unsubscribe</code> -&gt;
<code>$events/session_unsubscribe</code></li></ul> <h2 id="升级到3-1版本"><a href="#升级到3-1版本" class="header-anchor">#</a> 升级到3.1版本</h2> <div class="custom-block tip"><p class="custom-block-title">Tip</p> <p>3.1版本全新设计了项目架构、配置方式与插件管理方式。2.x与1.x版本升级需要重新配置部署。</p></div> <p>升级流程:</p> <ol><li>下载解压3.1版本到新安装目录，例如 /opt/emqx-3.1/；</li> <li>参考旧版本 etc/vm.args、etc/emqttd.config 或 etc/emq.conf，配置3.1版本的
etc/emqx.conf；</li> <li>重新配置插件 etc/plugins/${your-plugin}.conf；</li> <li>编辑插件加载文件 data/loaded_plugins；</li> <li>停止旧版本，启动新版。</li></ol> <h2 id="_2-0升级到2-0-3版本"><a href="#_2-0升级到2-0-3版本" class="header-anchor">#</a> 2.0升级到2.0.3版本</h2> <p>升级流程:</p> <ol><li>下载解压2.0.3版本到新安装目录，例如 /opt/emqttd-2.0.3/；</li> <li>旧版本的 'etc/' 配置文件、'data/' 数据文件覆盖到新版目录；</li> <li>停止旧版本，启动新版。</li></ol> <h2 id="升级到2-0版本"><a href="#升级到2-0版本" class="header-anchor">#</a> 升级到2.0版本</h2> <div class="custom-block tip"><p class="custom-block-title">Tip</p> <p>2.0版本全新设计了项目架构、配置方式与插件管理方式。1.x版本升级需要重新配置部署。</p></div> <p>升级流程:</p> <ol><li>下载解压2.0版本到新安装目录，例如 /opt/emqttd-2.0/</li> <li>参考旧版本 etc/vm.args、etc/emqttd.config，配置2.0版本的 etc/emq.conf</li> <li>重新配置插件 etc/plugins/${your-plugin}.conf</li> <li>编辑插件加载文件 data/loaded_plugins</li> <li>停止旧版本，启动新版。</li></ol> <h2 id="升级到1-1-2版本"><a href="#升级到1-1-2版本" class="header-anchor">#</a> 升级到1.1.2版本</h2> <div class="custom-block tip"><p class="custom-block-title">Tip</p> <p>1.0以后版本可平滑升级到1.1.2</p></div> <p>升级流程:</p> <ol><li>下载解压1.1.2版本到新安装目录，例如 /opt/emqttd_112；</li> <li>旧版本的 'etc/' 配置文件、'data/' 数据文件覆盖到新版目录；</li> <li>如果有加载插件，将旧版插件配置文件覆盖到新版；</li> <li>停止旧版本，启动新版。</li></ol></div> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/15/2021, 7:01:45 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/backend/emqx/changes/changes-ee.html" class="prev">变更日志</a></span> <span class="next"><a href="/zh/backend/emqx/design/design.html">架构设计</a>
      →
    </span></p></div> </main></div><div class="global-ui"><div></div><div class="add-this"></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.36e0a340.js" defer></script><script src="/assets/js/6.5fcf748f.js" defer></script><script src="/assets/js/5.ef440211.js" defer></script><script src="/assets/js/97.26974d07.js" defer></script>
  </body>
</html>
